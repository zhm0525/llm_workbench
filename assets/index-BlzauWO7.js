(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(a){if(a.ep)return;a.ep=!0;const s=i(a);fetch(a.href,s)}})();function Oa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mc={exports:{}},Oo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function tT(){if(Im)return Oo;Im=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var p in a)p!=="key"&&(s[p]=a[p])}else s=a;return a=s.ref,{$$typeof:t,type:o,key:c,ref:a!==void 0?a:null,props:s}}return Oo.Fragment=e,Oo.jsx=i,Oo.jsxs=i,Oo}var Dm;function nT(){return Dm||(Dm=1,mc.exports=tT()),mc.exports}var w=nT(),gc={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function iT(){if(km)return Ee;km=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function _(D){return D===null||typeof D!="object"?null:(D=E&&D[E]||D["@@iterator"],typeof D=="function"?D:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,M={};function N(D,J,x){this.props=D,this.context=J,this.refs=M,this.updater=x||A}N.prototype.isReactComponent={},N.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},N.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function O(){}O.prototype=N.prototype;function P(D,J,x){this.props=D,this.context=J,this.refs=M,this.updater=x||A}var G=P.prototype=new O;G.constructor=P,I(G,N.prototype),G.isPureReactComponent=!0;var Q=Array.isArray;function U(){}var F={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function Z(D,J,x){var re=x.ref;return{$$typeof:t,type:D,key:J,ref:re!==void 0?re:null,props:x}}function le(D,J){return Z(D.type,J,D.props)}function ee(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function ie(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(x){return J[x]})}var de=/\/+/g;function se(D,J){return typeof D=="object"&&D!==null&&D.key!=null?ie(""+D.key):J.toString(36)}function te(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(U,U):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function z(D,J,x,re,ge){var pe=typeof D;(pe==="undefined"||pe==="boolean")&&(D=null);var Re=!1;if(D===null)Re=!0;else switch(pe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(D.$$typeof){case t:case e:Re=!0;break;case y:return Re=D._init,z(Re(D._payload),J,x,re,ge)}}if(Re)return ge=ge(D),Re=re===""?"."+se(D,0):re,Q(ge)?(x="",Re!=null&&(x=Re.replace(de,"$&/")+"/"),z(ge,J,x,"",function(Qt){return Qt})):ge!=null&&(ee(ge)&&(ge=le(ge,x+(ge.key==null||D&&D.key===ge.key?"":(""+ge.key).replace(de,"$&/")+"/")+Re)),J.push(ge)),1;Re=0;var We=re===""?".":re+":";if(Q(D))for(var Be=0;Be<D.length;Be++)re=D[Be],pe=We+se(re,Be),Re+=z(re,J,x,pe,ge);else if(Be=_(D),typeof Be=="function")for(D=Be.call(D),Be=0;!(re=D.next()).done;)re=re.value,pe=We+se(re,Be++),Re+=z(re,J,x,pe,ge);else if(pe==="object"){if(typeof D.then=="function")return z(te(D),J,x,re,ge);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Re}function W(D,J,x){if(D==null)return D;var re=[],ge=0;return z(D,re,"","",function(pe){return J.call(x,pe,ge++)}),re}function fe(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(x){(D._status===0||D._status===-1)&&(D._status=1,D._result=x)},function(x){(D._status===0||D._status===-1)&&(D._status=2,D._result=x)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var Ae=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},b={map:W,forEach:function(D,J,x){W(D,function(){J.apply(this,arguments)},x)},count:function(D){var J=0;return W(D,function(){J++}),J},toArray:function(D){return W(D,function(J){return J})||[]},only:function(D){if(!ee(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ee.Activity=S,Ee.Children=b,Ee.Component=N,Ee.Fragment=i,Ee.Profiler=a,Ee.PureComponent=P,Ee.StrictMode=o,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(D){return F.H.useMemoCache(D)}},Ee.cache=function(D){return function(){return D.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(D,J,x){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=I({},D.props),ge=D.key;if(J!=null)for(pe in J.key!==void 0&&(ge=""+J.key),J)!oe.call(J,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&J.ref===void 0||(re[pe]=J[pe]);var pe=arguments.length-2;if(pe===1)re.children=x;else if(1<pe){for(var Re=Array(pe),We=0;We<pe;We++)Re[We]=arguments[We+2];re.children=Re}return Z(D.type,ge,re)},Ee.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:s,_context:D},D},Ee.createElement=function(D,J,x){var re,ge={},pe=null;if(J!=null)for(re in J.key!==void 0&&(pe=""+J.key),J)oe.call(J,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=J[re]);var Re=arguments.length-2;if(Re===1)ge.children=x;else if(1<Re){for(var We=Array(Re),Be=0;Be<Re;Be++)We[Be]=arguments[Be+2];ge.children=We}if(D&&D.defaultProps)for(re in Re=D.defaultProps,Re)ge[re]===void 0&&(ge[re]=Re[re]);return Z(D,pe,ge)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(D){return{$$typeof:p,render:D}},Ee.isValidElement=ee,Ee.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:fe}},Ee.memo=function(D,J){return{$$typeof:h,type:D,compare:J===void 0?null:J}},Ee.startTransition=function(D){var J=F.T,x={};F.T=x;try{var re=D(),ge=F.S;ge!==null&&ge(x,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(U,Ae)}catch(pe){Ae(pe)}finally{J!==null&&x.types!==null&&(J.types=x.types),F.T=J}},Ee.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ee.use=function(D){return F.H.use(D)},Ee.useActionState=function(D,J,x){return F.H.useActionState(D,J,x)},Ee.useCallback=function(D,J){return F.H.useCallback(D,J)},Ee.useContext=function(D){return F.H.useContext(D)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(D,J){return F.H.useDeferredValue(D,J)},Ee.useEffect=function(D,J){return F.H.useEffect(D,J)},Ee.useEffectEvent=function(D){return F.H.useEffectEvent(D)},Ee.useId=function(){return F.H.useId()},Ee.useImperativeHandle=function(D,J,x){return F.H.useImperativeHandle(D,J,x)},Ee.useInsertionEffect=function(D,J){return F.H.useInsertionEffect(D,J)},Ee.useLayoutEffect=function(D,J){return F.H.useLayoutEffect(D,J)},Ee.useMemo=function(D,J){return F.H.useMemo(D,J)},Ee.useOptimistic=function(D,J){return F.H.useOptimistic(D,J)},Ee.useReducer=function(D,J,x){return F.H.useReducer(D,J,x)},Ee.useRef=function(D){return F.H.useRef(D)},Ee.useState=function(D){return F.H.useState(D)},Ee.useSyncExternalStore=function(D,J,x){return F.H.useSyncExternalStore(D,J,x)},Ee.useTransition=function(){return F.H.useTransition()},Ee.version="19.2.3",Ee}var Um;function uf(){return Um||(Um=1,gc.exports=iT()),gc.exports}var xe=uf();const lT=Oa(xe);var yc={exports:{}},Fo={},vc={exports:{}},Sc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function oT(){return Lm||(Lm=1,(function(t){function e(z,W){var fe=z.length;z.push(W);e:for(;0<fe;){var Ae=fe-1>>>1,b=z[Ae];if(0<a(b,W))z[Ae]=W,z[fe]=b,fe=Ae;else break e}}function i(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var W=z[0],fe=z.pop();if(fe!==W){z[0]=fe;e:for(var Ae=0,b=z.length,D=b>>>1;Ae<D;){var J=2*(Ae+1)-1,x=z[J],re=J+1,ge=z[re];if(0>a(x,fe))re<b&&0>a(ge,x)?(z[Ae]=ge,z[re]=fe,Ae=re):(z[Ae]=x,z[J]=fe,Ae=J);else if(re<b&&0>a(ge,fe))z[Ae]=ge,z[re]=fe,Ae=re;else break e}}return W}function a(z,W){var fe=z.sortIndex-W.sortIndex;return fe!==0?fe:z.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,p=c.now();t.unstable_now=function(){return c.now()-p}}var g=[],h=[],y=1,S=null,E=3,_=!1,A=!1,I=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function G(z){for(var W=i(h);W!==null;){if(W.callback===null)o(h);else if(W.startTime<=z)o(h),W.sortIndex=W.expirationTime,e(g,W);else break;W=i(h)}}function Q(z){if(I=!1,G(z),!A)if(i(g)!==null)A=!0,U||(U=!0,ie());else{var W=i(h);W!==null&&te(Q,W.startTime-z)}}var U=!1,F=-1,oe=5,Z=-1;function le(){return M?!0:!(t.unstable_now()-Z<oe)}function ee(){if(M=!1,U){var z=t.unstable_now();Z=z;var W=!0;try{e:{A=!1,I&&(I=!1,O(F),F=-1),_=!0;var fe=E;try{t:{for(G(z),S=i(g);S!==null&&!(S.expirationTime>z&&le());){var Ae=S.callback;if(typeof Ae=="function"){S.callback=null,E=S.priorityLevel;var b=Ae(S.expirationTime<=z);if(z=t.unstable_now(),typeof b=="function"){S.callback=b,G(z),W=!0;break t}S===i(g)&&o(g),G(z)}else o(g);S=i(g)}if(S!==null)W=!0;else{var D=i(h);D!==null&&te(Q,D.startTime-z),W=!1}}break e}finally{S=null,E=fe,_=!1}W=void 0}}finally{W?ie():U=!1}}}var ie;if(typeof P=="function")ie=function(){P(ee)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,se=de.port2;de.port1.onmessage=ee,ie=function(){se.postMessage(null)}}else ie=function(){N(ee,0)};function te(z,W){F=N(function(){z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(z){switch(E){case 1:case 2:case 3:var W=3;break;default:W=E}var fe=E;E=W;try{return z()}finally{E=fe}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var fe=E;E=z;try{return W()}finally{E=fe}},t.unstable_scheduleCallback=function(z,W,fe){var Ae=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ae+fe:Ae):fe=Ae,z){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=fe+b,z={id:y++,callback:W,priorityLevel:z,startTime:fe,expirationTime:b,sortIndex:-1},fe>Ae?(z.sortIndex=fe,e(h,z),i(g)===null&&z===i(h)&&(I?(O(F),F=-1):I=!0,te(Q,fe-Ae))):(z.sortIndex=b,e(g,z),A||_||(A=!0,U||(U=!0,ie()))),z},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(z){var W=E;return function(){var fe=E;E=W;try{return z.apply(this,arguments)}finally{E=fe}}}})(Sc)),Sc}var Pm;function rT(){return Pm||(Pm=1,vc.exports=oT()),vc.exports}var Ec={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function aT(){if(zm)return Et;zm=1;var t=uf();function e(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(g,h,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:g,containerInfo:h,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Et.createPortal=function(g,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(g,h,null,y)},Et.flushSync=function(g){var h=c.T,y=o.p;try{if(c.T=null,o.p=2,g)return g()}finally{c.T=h,o.p=y,o.d.f()}},Et.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(g,h))},Et.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},Et.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var y=h.as,S=p(y,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?o.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:_}):y==="script"&&o.d.X(g,{crossOrigin:S,integrity:E,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Et.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=p(h.as,h.crossOrigin);o.d.M(g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(g)},Et.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,S=p(y,h.crossOrigin);o.d.L(g,y,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Et.preloadModule=function(g,h){if(typeof g=="string")if(h){var y=p(h.as,h.crossOrigin);o.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(g)},Et.requestFormReset=function(g){o.d.r(g)},Et.unstable_batchedUpdates=function(g,h){return g(h)},Et.useFormState=function(g,h,y){return c.H.useFormState(g,h,y)},Et.useFormStatus=function(){return c.H.useHostTransitionStatus()},Et.version="19.2.3",Et}var Hm;function sT(){if(Hm)return Ec.exports;Hm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ec.exports=aT(),Ec.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function uT(){if(qm)return Fo;qm=1;var t=rT(),e=uf(),i=sT();function o(n){var l="https://react.dev/errors/"+n;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)l+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function s(n){var l=n,r=n;if(n.alternate)for(;l.return;)l=l.return;else{n=l;do l=n,(l.flags&4098)!==0&&(r=l.return),n=l.return;while(n)}return l.tag===3?r:null}function c(n){if(n.tag===13){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function p(n){if(n.tag===31){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function g(n){if(s(n)!==n)throw Error(o(188))}function h(n){var l=n.alternate;if(!l){if(l=s(n),l===null)throw Error(o(188));return l!==n?null:n}for(var r=n,u=l;;){var m=r.return;if(m===null)break;var v=m.alternate;if(v===null){if(u=m.return,u!==null){r=u;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===r)return g(m),n;if(v===u)return g(m),l;v=v.sibling}throw Error(o(188))}if(r.return!==u.return)r=m,u=v;else{for(var T=!1,C=m.child;C;){if(C===r){T=!0,r=m,u=v;break}if(C===u){T=!0,u=m,r=v;break}C=C.sibling}if(!T){for(C=v.child;C;){if(C===r){T=!0,r=v,u=m;break}if(C===u){T=!0,u=v,r=m;break}C=C.sibling}if(!T)throw Error(o(189))}}if(r.alternate!==u)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?n:l}function y(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n;for(n=n.child;n!==null;){if(l=y(n),l!==null)return l;n=n.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),P=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ie(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var de=Symbol.for("react.client.reference");function se(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===de?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case I:return"Fragment";case N:return"Profiler";case M:return"StrictMode";case Q:return"Suspense";case U:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case P:return n.displayName||"Context";case O:return(n._context.displayName||"Context")+".Consumer";case G:var l=n.render;return n=n.displayName,n||(n=l.displayName||l.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return l=n.displayName||null,l!==null?l:se(n.type)||"Memo";case oe:l=n._payload,n=n._init;try{return se(n(l))}catch{}}return null}var te=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ae=[],b=-1;function D(n){return{current:n}}function J(n){0>b||(n.current=Ae[b],Ae[b]=null,b--)}function x(n,l){b++,Ae[b]=n.current,n.current=l}var re=D(null),ge=D(null),pe=D(null),Re=D(null);function We(n,l){switch(x(pe,l),x(ge,n),x(re,null),l.nodeType){case 9:case 11:n=(n=l.documentElement)&&(n=n.namespaceURI)?em(n):0;break;default:if(n=l.tagName,l=l.namespaceURI)l=em(l),n=tm(l,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(re),x(re,n)}function Be(){J(re),J(ge),J(pe)}function Qt(n){n.memoizedState!==null&&x(Re,n);var l=re.current,r=tm(l,n.type);l!==r&&(x(ge,n),x(re,r))}function An(n){ge.current===n&&(J(re),J(ge)),Re.current===n&&(J(Re),qo._currentValue=fe)}var Ql,lr;function wn(n){if(Ql===void 0)try{throw Error()}catch(r){var l=r.stack.trim().match(/\n( *(at )?)/);Ql=l&&l[1]||"",lr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ql+n+lr}var Ki=!1;function Xi(n,l){if(!n||Ki)return"";Ki=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(l){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var V=B}Reflect.construct(n,[],$)}else{try{$.call()}catch(B){V=B}n.call($.prototype)}}else{try{throw Error()}catch(B){V=B}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&V&&typeof B.stack=="string")return[B.stack,V.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),T=v[0],C=v[1];if(T&&C){var R=T.split(`
`),q=C.split(`
`);for(m=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(u===R.length||m===q.length)for(u=R.length-1,m=q.length-1;1<=u&&0<=m&&R[u]!==q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(R[u]!==q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||R[u]!==q[m]){var Y=`
`+R[u].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=u&&0<=m);break}}}finally{Ki=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?wn(r):""}function or(n,l){switch(n.tag){case 26:case 27:case 5:return wn(n.type);case 16:return wn("Lazy");case 13:return n.child!==l&&l!==null?wn("Suspense Fallback"):wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return Xi(n.type,!1);case 11:return Xi(n.type.render,!1);case 1:return Xi(n.type,!0);case 31:return wn("Activity");default:return""}}function rr(n){try{var l="",r=null;do l+=or(n,r),r=n,n=n.return;while(n);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Qi=Object.prototype.hasOwnProperty,$i=t.unstable_scheduleCallback,$l=t.unstable_cancelCallback,es=t.unstable_shouldYield,ts=t.unstable_requestPaint,Ct=t.unstable_now,ns=t.unstable_getCurrentPriorityLevel,K=t.unstable_ImmediatePriority,ne=t.unstable_UserBlockingPriority,ye=t.unstable_NormalPriority,we=t.unstable_LowPriority,qe=t.unstable_IdlePriority,qt=t.log,bn=t.unstable_setDisableYieldValue,xt=null,ct=null;function Nt(n){if(typeof qt=="function"&&bn(n),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(xt,n)}catch{}}var Je=Math.clz32?Math.clz32:Vv,$n=Math.log,fn=Math.LN2;function Vv(n){return n>>>=0,n===0?32:31-($n(n)/fn|0)|0}var ar=256,sr=262144,ur=4194304;function Ai(n){var l=n&42;if(l!==0)return l;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function cr(n,l,r){var u=n.pendingLanes;if(u===0)return 0;var m=0,v=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var C=u&134217727;return C!==0?(u=C&~v,u!==0?m=Ai(u):(T&=C,T!==0?m=Ai(T):r||(r=C&~n,r!==0&&(m=Ai(r))))):(C=u&~v,C!==0?m=Ai(C):T!==0?m=Ai(T):r||(r=u&~n,r!==0&&(m=Ai(r)))),m===0?0:l!==0&&l!==m&&(l&v)===0&&(v=m&-m,r=l&-l,v>=r||v===32&&(r&4194048)!==0)?l:m}function Zl(n,l){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&l)===0}function Bv(n,l){switch(n){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(){var n=ur;return ur<<=1,(ur&62914560)===0&&(ur=4194304),n}function is(n){for(var l=[],r=0;31>r;r++)l.push(n);return l}function Wl(n,l){n.pendingLanes|=l,l!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ov(n,l,r,u,m,v){var T=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var C=n.entanglements,R=n.expirationTimes,q=n.hiddenUpdates;for(r=T&~r;0<r;){var Y=31-Je(r),$=1<<Y;C[Y]=0,R[Y]=-1;var V=q[Y];if(V!==null)for(q[Y]=null,Y=0;Y<V.length;Y++){var B=V[Y];B!==null&&(B.lane&=-536870913)}r&=~$}u!==0&&Pf(n,u,0),v!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=v&~(T&~l))}function Pf(n,l,r){n.pendingLanes|=l,n.suspendedLanes&=~l;var u=31-Je(l);n.entangledLanes|=l,n.entanglements[u]=n.entanglements[u]|1073741824|r&261930}function zf(n,l){var r=n.entangledLanes|=l;for(n=n.entanglements;r;){var u=31-Je(r),m=1<<u;m&l|n[u]&l&&(n[u]|=l),r&=~m}}function Hf(n,l){var r=l&-l;return r=(r&42)!==0?1:ls(r),(r&(n.suspendedLanes|l))!==0?0:r}function ls(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function os(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function qf(){var n=W.p;return n!==0?n:(n=window.event,n===void 0?32:xm(n.type))}function Gf(n,l){var r=W.p;try{return W.p=n,l()}finally{W.p=r}}var Zn=Math.random().toString(36).slice(2),mt="__reactFiber$"+Zn,Rt="__reactProps$"+Zn,Zi="__reactContainer$"+Zn,rs="__reactEvents$"+Zn,Fv="__reactListeners$"+Zn,Yv="__reactHandles$"+Zn,Vf="__reactResources$"+Zn,jl="__reactMarker$"+Zn;function as(n){delete n[mt],delete n[Rt],delete n[rs],delete n[Fv],delete n[Yv]}function Wi(n){var l=n[mt];if(l)return l;for(var r=n.parentNode;r;){if(l=r[Zi]||r[mt]){if(r=l.alternate,l.child!==null||r!==null&&r.child!==null)for(n=sm(n);n!==null;){if(r=n[mt])return r;n=sm(n)}return l}n=r,r=n.parentNode}return null}function ji(n){if(n=n[mt]||n[Zi]){var l=n.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return n}return null}function eo(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n.stateNode;throw Error(o(33))}function el(n){var l=n[Vf];return l||(l=n[Vf]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function dt(n){n[jl]=!0}var Bf=new Set,Of={};function wi(n,l){tl(n,l),tl(n+"Capture",l)}function tl(n,l){for(Of[n]=l,n=0;n<l.length;n++)Bf.add(l[n])}var Jv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ff={},Yf={};function Kv(n){return Qi.call(Yf,n)?!0:Qi.call(Ff,n)?!1:Jv.test(n)?Yf[n]=!0:(Ff[n]=!0,!1)}function fr(n,l,r){if(Kv(l))if(r===null)n.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(l);return;case"boolean":var u=l.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(l);return}}n.setAttribute(l,""+r)}}function dr(n,l,r){if(r===null)n.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttribute(l,""+r)}}function Nn(n,l,r,u){if(u===null)n.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(l,r,""+u)}}function $t(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jf(n){var l=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Xv(n,l,r){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,l);if(!n.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(n,l,{configurable:!0,get:function(){return m.call(this)},set:function(T){r=""+T,v.call(this,T)}}),Object.defineProperty(n,l,{enumerable:u.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){n._valueTracker=null,delete n[l]}}}}function ss(n){if(!n._valueTracker){var l=Jf(n)?"checked":"value";n._valueTracker=Xv(n,l,""+n[l])}}function Kf(n){if(!n)return!1;var l=n._valueTracker;if(!l)return!0;var r=l.getValue(),u="";return n&&(u=Jf(n)?n.checked?"true":"false":n.value),n=u,n!==r?(l.setValue(n),!0):!1}function pr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Qv=/[\n"\\]/g;function Zt(n){return n.replace(Qv,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function us(n,l,r,u,m,v,T,C){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),l!=null?T==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+$t(l)):n.value!==""+$t(l)&&(n.value=""+$t(l)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),l!=null?cs(n,T,$t(l)):r!=null?cs(n,T,$t(r)):u!=null&&n.removeAttribute("value"),m==null&&v!=null&&(n.defaultChecked=!!v),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+$t(C):n.removeAttribute("name")}function Xf(n,l,r,u,m,v,T,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),l!=null||r!=null){if(!(v!=="submit"&&v!=="reset"||l!=null)){ss(n);return}r=r!=null?""+$t(r):"",l=l!=null?""+$t(l):r,C||l===n.value||(n.value=l),n.defaultValue=l}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=C?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),ss(n)}function cs(n,l,r){l==="number"&&pr(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function nl(n,l,r,u){if(n=n.options,l){l={};for(var m=0;m<r.length;m++)l["$"+r[m]]=!0;for(r=0;r<n.length;r++)m=l.hasOwnProperty("$"+n[r].value),n[r].selected!==m&&(n[r].selected=m),m&&u&&(n[r].defaultSelected=!0)}else{for(r=""+$t(r),l=null,m=0;m<n.length;m++){if(n[m].value===r){n[m].selected=!0,u&&(n[m].defaultSelected=!0);return}l!==null||n[m].disabled||(l=n[m])}l!==null&&(l.selected=!0)}}function Qf(n,l,r){if(l!=null&&(l=""+$t(l),l!==n.value&&(n.value=l),r==null)){n.defaultValue!==l&&(n.defaultValue=l);return}n.defaultValue=r!=null?""+$t(r):""}function $f(n,l,r,u){if(l==null){if(u!=null){if(r!=null)throw Error(o(92));if(te(u)){if(1<u.length)throw Error(o(93));u=u[0]}r=u}r==null&&(r=""),l=r}r=$t(l),n.defaultValue=r,u=n.textContent,u===r&&u!==""&&u!==null&&(n.value=u),ss(n)}function il(n,l){if(l){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=l;return}}n.textContent=l}var $v=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zf(n,l,r){var u=l.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="":u?n.setProperty(l,r):typeof r!="number"||r===0||$v.has(l)?l==="float"?n.cssFloat=r:n[l]=(""+r).trim():n[l]=r+"px"}function Wf(n,l,r){if(l!=null&&typeof l!="object")throw Error(o(62));if(n=n.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||l!=null&&l.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var m in l)u=l[m],l.hasOwnProperty(m)&&r[m]!==u&&Zf(n,m,u)}else for(var v in l)l.hasOwnProperty(v)&&Zf(n,v,l[v])}function fs(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hr(n){return Wv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Rn(){}var ds=null;function ps(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ll=null,ol=null;function jf(n){var l=ji(n);if(l&&(n=l.stateNode)){var r=n[Rt]||null;e:switch(n=l.stateNode,l.type){case"input":if(us(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),l=r.name,r.type==="radio"&&l!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Zt(""+l)+'"][type="radio"]'),l=0;l<r.length;l++){var u=r[l];if(u!==n&&u.form===n.form){var m=u[Rt]||null;if(!m)throw Error(o(90));us(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(l=0;l<r.length;l++)u=r[l],u.form===n.form&&Kf(u)}break e;case"textarea":Qf(n,r.value,r.defaultValue);break e;case"select":l=r.value,l!=null&&nl(n,!!r.multiple,l,!1)}}}var hs=!1;function ed(n,l,r){if(hs)return n(l,r);hs=!0;try{var u=n(l);return u}finally{if(hs=!1,(ll!==null||ol!==null)&&(ta(),ll&&(l=ll,n=ol,ol=ll=null,jf(l),n)))for(l=0;l<n.length;l++)jf(n[l])}}function to(n,l){var r=n.stateNode;if(r===null)return null;var u=r[Rt]||null;if(u===null)return null;r=u[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(o(231,l,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(Mn)try{var no={};Object.defineProperty(no,"passive",{get:function(){ms=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{ms=!1}var Wn=null,gs=null,mr=null;function td(){if(mr)return mr;var n,l=gs,r=l.length,u,m="value"in Wn?Wn.value:Wn.textContent,v=m.length;for(n=0;n<r&&l[n]===m[n];n++);var T=r-n;for(u=1;u<=T&&l[r-u]===m[v-u];u++);return mr=m.slice(n,1<u?1-u:void 0)}function gr(n){var l=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&l===13&&(n=13)):n=l,n===10&&(n=13),32<=n||n===13?n:0}function yr(){return!0}function nd(){return!1}function Mt(n){function l(r,u,m,v,T){this._reactName=r,this._targetInst=m,this.type=u,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(r=n[C],this[C]=r?r(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?yr:nd,this.isPropagationStopped=nd,this}return S(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),l}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vr=Mt(bi),io=S({},bi,{view:0,detail:0}),jv=Mt(io),ys,vs,lo,Sr=S({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==lo&&(lo&&n.type==="mousemove"?(ys=n.screenX-lo.screenX,vs=n.screenY-lo.screenY):vs=ys=0,lo=n),ys)},movementY:function(n){return"movementY"in n?n.movementY:vs}}),id=Mt(Sr),eS=S({},Sr,{dataTransfer:0}),tS=Mt(eS),nS=S({},io,{relatedTarget:0}),Ss=Mt(nS),iS=S({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),lS=Mt(iS),oS=S({},bi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),rS=Mt(oS),aS=S({},bi,{data:0}),ld=Mt(aS),sS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fS(n){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(n):(n=cS[n])?!!l[n]:!1}function Es(){return fS}var dS=S({},io,{key:function(n){if(n.key){var l=sS[n.key]||n.key;if(l!=="Unidentified")return l}return n.type==="keypress"?(n=gr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?uS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(n){return n.type==="keypress"?gr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),pS=Mt(dS),hS=S({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=Mt(hS),mS=S({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),gS=Mt(mS),yS=S({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),vS=Mt(yS),SS=S({},Sr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ES=Mt(SS),TS=S({},bi,{newState:0,oldState:0}),_S=Mt(TS),CS=[9,13,27,32],Ts=Mn&&"CompositionEvent"in window,oo=null;Mn&&"documentMode"in document&&(oo=document.documentMode);var xS=Mn&&"TextEvent"in window&&!oo,rd=Mn&&(!Ts||oo&&8<oo&&11>=oo),ad=" ",sd=!1;function ud(n,l){switch(n){case"keyup":return CS.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var rl=!1;function AS(n,l){switch(n){case"compositionend":return cd(l);case"keypress":return l.which!==32?null:(sd=!0,ad);case"textInput":return n=l.data,n===ad&&sd?null:n;default:return null}}function wS(n,l){if(rl)return n==="compositionend"||!Ts&&ud(n,l)?(n=td(),mr=gs=Wn=null,rl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return rd&&l.locale!=="ko"?null:l.data;default:return null}}var bS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l==="input"?!!bS[n.type]:l==="textarea"}function dd(n,l,r,u){ll?ol?ol.push(u):ol=[u]:ll=u,l=sa(l,"onChange"),0<l.length&&(r=new vr("onChange","change",null,r,u),n.push({event:r,listeners:l}))}var ro=null,ao=null;function NS(n){Xh(n,0)}function Er(n){var l=eo(n);if(Kf(l))return n}function pd(n,l){if(n==="change")return l}var hd=!1;if(Mn){var _s;if(Mn){var Cs="oninput"in document;if(!Cs){var md=document.createElement("div");md.setAttribute("oninput","return;"),Cs=typeof md.oninput=="function"}_s=Cs}else _s=!1;hd=_s&&(!document.documentMode||9<document.documentMode)}function gd(){ro&&(ro.detachEvent("onpropertychange",yd),ao=ro=null)}function yd(n){if(n.propertyName==="value"&&Er(ao)){var l=[];dd(l,ao,n,ps(n)),ed(NS,l)}}function RS(n,l,r){n==="focusin"?(gd(),ro=l,ao=r,ro.attachEvent("onpropertychange",yd)):n==="focusout"&&gd()}function MS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Er(ao)}function IS(n,l){if(n==="click")return Er(l)}function DS(n,l){if(n==="input"||n==="change")return Er(l)}function kS(n,l){return n===l&&(n!==0||1/n===1/l)||n!==n&&l!==l}var Gt=typeof Object.is=="function"?Object.is:kS;function so(n,l){if(Gt(n,l))return!0;if(typeof n!="object"||n===null||typeof l!="object"||l===null)return!1;var r=Object.keys(n),u=Object.keys(l);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var m=r[u];if(!Qi.call(l,m)||!Gt(n[m],l[m]))return!1}return!0}function vd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sd(n,l){var r=vd(n);n=0;for(var u;r;){if(r.nodeType===3){if(u=n+r.textContent.length,n<=l&&u>=l)return{node:r,offset:l-n};n=u}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vd(r)}}function Ed(n,l){return n&&l?n===l?!0:n&&n.nodeType===3?!1:l&&l.nodeType===3?Ed(n,l.parentNode):"contains"in n?n.contains(l):n.compareDocumentPosition?!!(n.compareDocumentPosition(l)&16):!1:!1}function Td(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var l=pr(n.document);l instanceof n.HTMLIFrameElement;){try{var r=typeof l.contentWindow.location.href=="string"}catch{r=!1}if(r)n=l.contentWindow;else break;l=pr(n.document)}return l}function xs(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l&&(l==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||l==="textarea"||n.contentEditable==="true")}var US=Mn&&"documentMode"in document&&11>=document.documentMode,al=null,As=null,uo=null,ws=!1;function _d(n,l,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ws||al==null||al!==pr(u)||(u=al,"selectionStart"in u&&xs(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),uo&&so(uo,u)||(uo=u,u=sa(As,"onSelect"),0<u.length&&(l=new vr("onSelect","select",null,l,r),n.push({event:l,listeners:u}),l.target=al)))}function Ni(n,l){var r={};return r[n.toLowerCase()]=l.toLowerCase(),r["Webkit"+n]="webkit"+l,r["Moz"+n]="moz"+l,r}var sl={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionrun:Ni("Transition","TransitionRun"),transitionstart:Ni("Transition","TransitionStart"),transitioncancel:Ni("Transition","TransitionCancel"),transitionend:Ni("Transition","TransitionEnd")},bs={},Cd={};Mn&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function Ri(n){if(bs[n])return bs[n];if(!sl[n])return n;var l=sl[n],r;for(r in l)if(l.hasOwnProperty(r)&&r in Cd)return bs[n]=l[r];return n}var xd=Ri("animationend"),Ad=Ri("animationiteration"),wd=Ri("animationstart"),LS=Ri("transitionrun"),PS=Ri("transitionstart"),zS=Ri("transitioncancel"),bd=Ri("transitionend"),Nd=new Map,Ns="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ns.push("scrollEnd");function dn(n,l){Nd.set(n,l),wi(l,[n])}var Tr=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Wt=[],ul=0,Rs=0;function _r(){for(var n=ul,l=Rs=ul=0;l<n;){var r=Wt[l];Wt[l++]=null;var u=Wt[l];Wt[l++]=null;var m=Wt[l];Wt[l++]=null;var v=Wt[l];if(Wt[l++]=null,u!==null&&m!==null){var T=u.pending;T===null?m.next=m:(m.next=T.next,T.next=m),u.pending=m}v!==0&&Rd(r,m,v)}}function Cr(n,l,r,u){Wt[ul++]=n,Wt[ul++]=l,Wt[ul++]=r,Wt[ul++]=u,Rs|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ms(n,l,r,u){return Cr(n,l,r,u),xr(n)}function Mi(n,l){return Cr(n,null,null,l),xr(n)}function Rd(n,l,r){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r);for(var m=!1,v=n.return;v!==null;)v.childLanes|=r,u=v.alternate,u!==null&&(u.childLanes|=r),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(m=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,m&&l!==null&&(m=31-Je(r),n=v.hiddenUpdates,u=n[m],u===null?n[m]=[l]:u.push(l),l.lane=r|536870912),v):null}function xr(n){if(50<Do)throw Do=0,qu=null,Error(o(185));for(var l=n.return;l!==null;)n=l,l=n.return;return n.tag===3?n.stateNode:null}var cl={};function HS(n,l,r,u){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(n,l,r,u){return new HS(n,l,r,u)}function Is(n){return n=n.prototype,!(!n||!n.isReactComponent)}function In(n,l){var r=n.alternate;return r===null?(r=Vt(n.tag,l,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=l,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,l=n.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function Md(n,l){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=l,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,l=r.dependencies,n.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),n}function Ar(n,l,r,u,m,v){var T=0;if(u=n,typeof n=="function")Is(n)&&(T=1);else if(typeof n=="string")T=OE(n,r,re.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=Vt(31,r,l,m),n.elementType=Z,n.lanes=v,n;case I:return Ii(r.children,m,v,l);case M:T=8,m|=24;break;case N:return n=Vt(12,r,l,m|2),n.elementType=N,n.lanes=v,n;case Q:return n=Vt(13,r,l,m),n.elementType=Q,n.lanes=v,n;case U:return n=Vt(19,r,l,m),n.elementType=U,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:T=10;break e;case O:T=9;break e;case G:T=11;break e;case F:T=14;break e;case oe:T=16,u=null;break e}T=29,r=Error(o(130,n===null?"null":typeof n,"")),u=null}return l=Vt(T,r,l,m),l.elementType=n,l.type=u,l.lanes=v,l}function Ii(n,l,r,u){return n=Vt(7,n,u,l),n.lanes=r,n}function Ds(n,l,r){return n=Vt(6,n,null,l),n.lanes=r,n}function Id(n){var l=Vt(18,null,null,0);return l.stateNode=n,l}function ks(n,l,r){return l=Vt(4,n.children!==null?n.children:[],n.key,l),l.lanes=r,l.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},l}var Dd=new WeakMap;function jt(n,l){if(typeof n=="object"&&n!==null){var r=Dd.get(n);return r!==void 0?r:(l={value:n,source:l,stack:rr(l)},Dd.set(n,l),l)}return{value:n,source:l,stack:rr(l)}}var fl=[],dl=0,wr=null,co=0,en=[],tn=0,jn=null,vn=1,Sn="";function Dn(n,l){fl[dl++]=co,fl[dl++]=wr,wr=n,co=l}function kd(n,l,r){en[tn++]=vn,en[tn++]=Sn,en[tn++]=jn,jn=n;var u=vn;n=Sn;var m=32-Je(u)-1;u&=~(1<<m),r+=1;var v=32-Je(l)+m;if(30<v){var T=m-m%5;v=(u&(1<<T)-1).toString(32),u>>=T,m-=T,vn=1<<32-Je(l)+m|r<<m|u,Sn=v+n}else vn=1<<v|r<<m|u,Sn=n}function Us(n){n.return!==null&&(Dn(n,1),kd(n,1,0))}function Ls(n){for(;n===wr;)wr=fl[--dl],fl[dl]=null,co=fl[--dl],fl[dl]=null;for(;n===jn;)jn=en[--tn],en[tn]=null,Sn=en[--tn],en[tn]=null,vn=en[--tn],en[tn]=null}function Ud(n,l){en[tn++]=vn,en[tn++]=Sn,en[tn++]=jn,vn=l.id,Sn=l.overflow,jn=n}var gt=null,$e=null,De=!1,ei=null,nn=!1,Ps=Error(o(519));function ti(n){var l=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fo(jt(l,n)),Ps}function Ld(n){var l=n.stateNode,r=n.type,u=n.memoizedProps;switch(l[mt]=n,l[Rt]=u,r){case"dialog":Ne("cancel",l),Ne("close",l);break;case"iframe":case"object":case"embed":Ne("load",l);break;case"video":case"audio":for(r=0;r<Uo.length;r++)Ne(Uo[r],l);break;case"source":Ne("error",l);break;case"img":case"image":case"link":Ne("error",l),Ne("load",l);break;case"details":Ne("toggle",l);break;case"input":Ne("invalid",l),Xf(l,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ne("invalid",l);break;case"textarea":Ne("invalid",l),$f(l,u.value,u.defaultValue,u.children)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||l.textContent===""+r||u.suppressHydrationWarning===!0||Wh(l.textContent,r)?(u.popover!=null&&(Ne("beforetoggle",l),Ne("toggle",l)),u.onScroll!=null&&Ne("scroll",l),u.onScrollEnd!=null&&Ne("scrollend",l),u.onClick!=null&&(l.onclick=Rn),l=!0):l=!1,l||ti(n,!0)}function Pd(n){for(gt=n.return;gt;)switch(gt.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:gt=gt.return}}function pl(n){if(n!==gt)return!1;if(!De)return Pd(n),De=!0,!1;var l=n.tag,r;if((r=l!==3&&l!==27)&&((r=l===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||ec(n.type,n.memoizedProps)),r=!r),r&&$e&&ti(n),Pd(n),l===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));$e=am(n)}else if(l===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));$e=am(n)}else l===27?(l=$e,mi(n.type)?(n=oc,oc=null,$e=n):$e=l):$e=gt?on(n.stateNode.nextSibling):null;return!0}function Di(){$e=gt=null,De=!1}function zs(){var n=ei;return n!==null&&(Ut===null?Ut=n:Ut.push.apply(Ut,n),ei=null),n}function fo(n){ei===null?ei=[n]:ei.push(n)}var Hs=D(null),ki=null,kn=null;function ni(n,l,r){x(Hs,l._currentValue),l._currentValue=r}function Un(n){n._currentValue=Hs.current,J(Hs)}function qs(n,l,r){for(;n!==null;){var u=n.alternate;if((n.childLanes&l)!==l?(n.childLanes|=l,u!==null&&(u.childLanes|=l)):u!==null&&(u.childLanes&l)!==l&&(u.childLanes|=l),n===r)break;n=n.return}}function Gs(n,l,r,u){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var v=m.dependencies;if(v!==null){var T=m.child;v=v.firstContext;e:for(;v!==null;){var C=v;v=m;for(var R=0;R<l.length;R++)if(C.context===l[R]){v.lanes|=r,C=v.alternate,C!==null&&(C.lanes|=r),qs(v.return,r,n),u||(T=null);break e}v=C.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(o(341));T.lanes|=r,v=T.alternate,v!==null&&(v.lanes|=r),qs(T,r,n),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===n){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function hl(n,l,r,u){n=null;for(var m=l,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(o(387));if(T=T.memoizedProps,T!==null){var C=m.type;Gt(m.pendingProps.value,T.value)||(n!==null?n.push(C):n=[C])}}else if(m===Re.current){if(T=m.alternate,T===null)throw Error(o(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(qo):n=[qo])}m=m.return}n!==null&&Gs(l,n,r,u),l.flags|=262144}function br(n){for(n=n.firstContext;n!==null;){if(!Gt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ui(n){ki=n,kn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function yt(n){return zd(ki,n)}function Nr(n,l){return ki===null&&Ui(n),zd(n,l)}function zd(n,l){var r=l._currentValue;if(l={context:l,memoizedValue:r,next:null},kn===null){if(n===null)throw Error(o(308));kn=l,n.dependencies={lanes:0,firstContext:l},n.flags|=524288}else kn=kn.next=l;return r}var qS=typeof AbortController<"u"?AbortController:function(){var n=[],l=this.signal={aborted:!1,addEventListener:function(r,u){n.push(u)}};this.abort=function(){l.aborted=!0,n.forEach(function(r){return r()})}},GS=t.unstable_scheduleCallback,VS=t.unstable_NormalPriority,ot={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vs(){return{controller:new qS,data:new Map,refCount:0}}function po(n){n.refCount--,n.refCount===0&&GS(VS,function(){n.controller.abort()})}var ho=null,Bs=0,ml=0,gl=null;function BS(n,l){if(ho===null){var r=ho=[];Bs=0,ml=Yu(),gl={status:"pending",value:void 0,then:function(u){r.push(u)}}}return Bs++,l.then(Hd,Hd),l}function Hd(){if(--Bs===0&&ho!==null){gl!==null&&(gl.status="fulfilled");var n=ho;ho=null,ml=0,gl=null;for(var l=0;l<n.length;l++)(0,n[l])()}}function OS(n,l){var r=[],u={status:"pending",value:null,reason:null,then:function(m){r.push(m)}};return n.then(function(){u.status="fulfilled",u.value=l;for(var m=0;m<r.length;m++)(0,r[m])(l)},function(m){for(u.status="rejected",u.reason=m,m=0;m<r.length;m++)(0,r[m])(void 0)}),u}var qd=z.S;z.S=function(n,l){_h=Ct(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&BS(n,l),qd!==null&&qd(n,l)};var Li=D(null);function Os(){var n=Li.current;return n!==null?n:Ke.pooledCache}function Rr(n,l){l===null?x(Li,Li.current):x(Li,l.pool)}function Gd(){var n=Os();return n===null?null:{parent:ot._currentValue,pool:n}}var yl=Error(o(460)),Fs=Error(o(474)),Mr=Error(o(542)),Ir={then:function(){}};function Vd(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Bd(n,l,r){switch(r=n[r],r===void 0?n.push(l):r!==l&&(l.then(Rn,Rn),l=r),l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,Fd(n),n;default:if(typeof l.status=="string")l.then(Rn,Rn);else{if(n=Ke,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=l,n.status="pending",n.then(function(u){if(l.status==="pending"){var m=l;m.status="fulfilled",m.value=u}},function(u){if(l.status==="pending"){var m=l;m.status="rejected",m.reason=u}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,Fd(n),n}throw zi=l,yl}}function Pi(n){try{var l=n._init;return l(n._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(zi=r,yl):r}}var zi=null;function Od(){if(zi===null)throw Error(o(459));var n=zi;return zi=null,n}function Fd(n){if(n===yl||n===Mr)throw Error(o(483))}var vl=null,mo=0;function Dr(n){var l=mo;return mo+=1,vl===null&&(vl=[]),Bd(vl,n,l)}function go(n,l){l=l.props.ref,n.ref=l!==void 0?l:null}function kr(n,l){throw l.$$typeof===E?Error(o(525)):(n=Object.prototype.toString.call(l),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":n)))}function Yd(n){function l(L,k){if(n){var H=L.deletions;H===null?(L.deletions=[k],L.flags|=16):H.push(k)}}function r(L,k){if(!n)return null;for(;k!==null;)l(L,k),k=k.sibling;return null}function u(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function m(L,k){return L=In(L,k),L.index=0,L.sibling=null,L}function v(L,k,H){return L.index=H,n?(H=L.alternate,H!==null?(H=H.index,H<k?(L.flags|=67108866,k):H):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function T(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function C(L,k,H,X){return k===null||k.tag!==6?(k=Ds(H,L.mode,X),k.return=L,k):(k=m(k,H),k.return=L,k)}function R(L,k,H,X){var he=H.type;return he===I?Y(L,k,H.props.children,X,H.key):k!==null&&(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===oe&&Pi(he)===k.type)?(k=m(k,H.props),go(k,H),k.return=L,k):(k=Ar(H.type,H.key,H.props,null,L.mode,X),go(k,H),k.return=L,k)}function q(L,k,H,X){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=ks(H,L.mode,X),k.return=L,k):(k=m(k,H.children||[]),k.return=L,k)}function Y(L,k,H,X,he){return k===null||k.tag!==7?(k=Ii(H,L.mode,X,he),k.return=L,k):(k=m(k,H),k.return=L,k)}function $(L,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Ds(""+k,L.mode,H),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _:return H=Ar(k.type,k.key,k.props,null,L.mode,H),go(H,k),H.return=L,H;case A:return k=ks(k,L.mode,H),k.return=L,k;case oe:return k=Pi(k),$(L,k,H)}if(te(k)||ie(k))return k=Ii(k,L.mode,H,null),k.return=L,k;if(typeof k.then=="function")return $(L,Dr(k),H);if(k.$$typeof===P)return $(L,Nr(L,k),H);kr(L,k)}return null}function V(L,k,H,X){var he=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return he!==null?null:C(L,k,""+H,X);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case _:return H.key===he?R(L,k,H,X):null;case A:return H.key===he?q(L,k,H,X):null;case oe:return H=Pi(H),V(L,k,H,X)}if(te(H)||ie(H))return he!==null?null:Y(L,k,H,X,null);if(typeof H.then=="function")return V(L,k,Dr(H),X);if(H.$$typeof===P)return V(L,k,Nr(L,H),X);kr(L,H)}return null}function B(L,k,H,X,he){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(H)||null,C(k,L,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return L=L.get(X.key===null?H:X.key)||null,R(k,L,X,he);case A:return L=L.get(X.key===null?H:X.key)||null,q(k,L,X,he);case oe:return X=Pi(X),B(L,k,H,X,he)}if(te(X)||ie(X))return L=L.get(H)||null,Y(k,L,X,he,null);if(typeof X.then=="function")return B(L,k,H,Dr(X),he);if(X.$$typeof===P)return B(L,k,H,Nr(k,X),he);kr(k,X)}return null}function ue(L,k,H,X){for(var he=null,ke=null,ce=k,_e=k=0,Ie=null;ce!==null&&_e<H.length;_e++){ce.index>_e?(Ie=ce,ce=null):Ie=ce.sibling;var Ue=V(L,ce,H[_e],X);if(Ue===null){ce===null&&(ce=Ie);break}n&&ce&&Ue.alternate===null&&l(L,ce),k=v(Ue,k,_e),ke===null?he=Ue:ke.sibling=Ue,ke=Ue,ce=Ie}if(_e===H.length)return r(L,ce),De&&Dn(L,_e),he;if(ce===null){for(;_e<H.length;_e++)ce=$(L,H[_e],X),ce!==null&&(k=v(ce,k,_e),ke===null?he=ce:ke.sibling=ce,ke=ce);return De&&Dn(L,_e),he}for(ce=u(ce);_e<H.length;_e++)Ie=B(ce,L,_e,H[_e],X),Ie!==null&&(n&&Ie.alternate!==null&&ce.delete(Ie.key===null?_e:Ie.key),k=v(Ie,k,_e),ke===null?he=Ie:ke.sibling=Ie,ke=Ie);return n&&ce.forEach(function(Ei){return l(L,Ei)}),De&&Dn(L,_e),he}function me(L,k,H,X){if(H==null)throw Error(o(151));for(var he=null,ke=null,ce=k,_e=k=0,Ie=null,Ue=H.next();ce!==null&&!Ue.done;_e++,Ue=H.next()){ce.index>_e?(Ie=ce,ce=null):Ie=ce.sibling;var Ei=V(L,ce,Ue.value,X);if(Ei===null){ce===null&&(ce=Ie);break}n&&ce&&Ei.alternate===null&&l(L,ce),k=v(Ei,k,_e),ke===null?he=Ei:ke.sibling=Ei,ke=Ei,ce=Ie}if(Ue.done)return r(L,ce),De&&Dn(L,_e),he;if(ce===null){for(;!Ue.done;_e++,Ue=H.next())Ue=$(L,Ue.value,X),Ue!==null&&(k=v(Ue,k,_e),ke===null?he=Ue:ke.sibling=Ue,ke=Ue);return De&&Dn(L,_e),he}for(ce=u(ce);!Ue.done;_e++,Ue=H.next())Ue=B(ce,L,_e,Ue.value,X),Ue!==null&&(n&&Ue.alternate!==null&&ce.delete(Ue.key===null?_e:Ue.key),k=v(Ue,k,_e),ke===null?he=Ue:ke.sibling=Ue,ke=Ue);return n&&ce.forEach(function(eT){return l(L,eT)}),De&&Dn(L,_e),he}function Ye(L,k,H,X){if(typeof H=="object"&&H!==null&&H.type===I&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case _:e:{for(var he=H.key;k!==null;){if(k.key===he){if(he=H.type,he===I){if(k.tag===7){r(L,k.sibling),X=m(k,H.props.children),X.return=L,L=X;break e}}else if(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===oe&&Pi(he)===k.type){r(L,k.sibling),X=m(k,H.props),go(X,H),X.return=L,L=X;break e}r(L,k);break}else l(L,k);k=k.sibling}H.type===I?(X=Ii(H.props.children,L.mode,X,H.key),X.return=L,L=X):(X=Ar(H.type,H.key,H.props,null,L.mode,X),go(X,H),X.return=L,L=X)}return T(L);case A:e:{for(he=H.key;k!==null;){if(k.key===he)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){r(L,k.sibling),X=m(k,H.children||[]),X.return=L,L=X;break e}else{r(L,k);break}else l(L,k);k=k.sibling}X=ks(H,L.mode,X),X.return=L,L=X}return T(L);case oe:return H=Pi(H),Ye(L,k,H,X)}if(te(H))return ue(L,k,H,X);if(ie(H)){if(he=ie(H),typeof he!="function")throw Error(o(150));return H=he.call(H),me(L,k,H,X)}if(typeof H.then=="function")return Ye(L,k,Dr(H),X);if(H.$$typeof===P)return Ye(L,k,Nr(L,H),X);kr(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(r(L,k.sibling),X=m(k,H),X.return=L,L=X):(r(L,k),X=Ds(H,L.mode,X),X.return=L,L=X),T(L)):r(L,k)}return function(L,k,H,X){try{mo=0;var he=Ye(L,k,H,X);return vl=null,he}catch(ce){if(ce===yl||ce===Mr)throw ce;var ke=Vt(29,ce,null,L.mode);return ke.lanes=X,ke.return=L,ke}finally{}}}var Hi=Yd(!0),Jd=Yd(!1),ii=!1;function Ys(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Js(n,l){n=n.updateQueue,l.updateQueue===n&&(l.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function li(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function oi(n,l,r){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Pe&2)!==0){var m=u.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),u.pending=l,l=xr(n),Rd(n,null,r),l}return Cr(n,u,l,r),xr(n)}function yo(n,l,r){if(l=l.updateQueue,l!==null&&(l=l.shared,(r&4194048)!==0)){var u=l.lanes;u&=n.pendingLanes,r|=u,l.lanes=r,zf(n,r)}}function Ks(n,l){var r=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var m=null,v=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};v===null?m=v=T:v=v.next=T,r=r.next}while(r!==null);v===null?m=v=l:v=v.next=l}else m=v=l;r={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=l:n.next=l,r.lastBaseUpdate=l}var Xs=!1;function vo(){if(Xs){var n=gl;if(n!==null)throw n}}function So(n,l,r,u){Xs=!1;var m=n.updateQueue;ii=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var R=C,q=R.next;R.next=null,T===null?v=q:T.next=q,T=R;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,C=Y.lastBaseUpdate,C!==T&&(C===null?Y.firstBaseUpdate=q:C.next=q,Y.lastBaseUpdate=R))}if(v!==null){var $=m.baseState;T=0,Y=q=R=null,C=v;do{var V=C.lane&-536870913,B=V!==C.lane;if(B?(Me&V)===V:(u&V)===V){V!==0&&V===ml&&(Xs=!0),Y!==null&&(Y=Y.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ue=n,me=C;V=l;var Ye=r;switch(me.tag){case 1:if(ue=me.payload,typeof ue=="function"){$=ue.call(Ye,$,V);break e}$=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=me.payload,V=typeof ue=="function"?ue.call(Ye,$,V):ue,V==null)break e;$=S({},$,V);break e;case 2:ii=!0}}V=C.callback,V!==null&&(n.flags|=64,B&&(n.flags|=8192),B=m.callbacks,B===null?m.callbacks=[V]:B.push(V))}else B={lane:V,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Y===null?(q=Y=B,R=$):Y=Y.next=B,T|=V;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;B=C,C=B.next,B.next=null,m.lastBaseUpdate=B,m.shared.pending=null}}while(!0);Y===null&&(R=$),m.baseState=R,m.firstBaseUpdate=q,m.lastBaseUpdate=Y,v===null&&(m.shared.lanes=0),ci|=T,n.lanes=T,n.memoizedState=$}}function Kd(n,l){if(typeof n!="function")throw Error(o(191,n));n.call(l)}function Xd(n,l){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)Kd(r[n],l)}var Sl=D(null),Ur=D(0);function Qd(n,l){n=On,x(Ur,n),x(Sl,l),On=n|l.baseLanes}function Qs(){x(Ur,On),x(Sl,Sl.current)}function $s(){On=Ur.current,J(Sl),J(Ur)}var Bt=D(null),ln=null;function ri(n){var l=n.alternate;x(it,it.current&1),x(Bt,n),ln===null&&(l===null||Sl.current!==null||l.memoizedState!==null)&&(ln=n)}function Zs(n){x(it,it.current),x(Bt,n),ln===null&&(ln=n)}function $d(n){n.tag===22?(x(it,it.current),x(Bt,n),ln===null&&(ln=n)):ai()}function ai(){x(it,it.current),x(Bt,Bt.current)}function Ot(n){J(Bt),ln===n&&(ln=null),J(it)}var it=D(0);function Lr(n){for(var l=n;l!==null;){if(l.tag===13){var r=l.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ic(r)||lc(r)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ln=0,Te=null,Oe=null,rt=null,Pr=!1,El=!1,qi=!1,zr=0,Eo=0,Tl=null,FS=0;function tt(){throw Error(o(321))}function Ws(n,l){if(l===null)return!1;for(var r=0;r<l.length&&r<n.length;r++)if(!Gt(n[r],l[r]))return!1;return!0}function js(n,l,r,u,m,v){return Ln=v,Te=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,z.H=n===null||n.memoizedState===null?kp:hu,qi=!1,v=r(u,m),qi=!1,El&&(v=Wd(l,r,u,m)),Zd(n),v}function Zd(n){z.H=Co;var l=Oe!==null&&Oe.next!==null;if(Ln=0,rt=Oe=Te=null,Pr=!1,Eo=0,Tl=null,l)throw Error(o(300));n===null||at||(n=n.dependencies,n!==null&&br(n)&&(at=!0))}function Wd(n,l,r,u){Te=n;var m=0;do{if(El&&(Tl=null),Eo=0,El=!1,25<=m)throw Error(o(301));if(m+=1,rt=Oe=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}z.H=Up,v=l(r,u)}while(El);return v}function YS(){var n=z.H,l=n.useState()[0];return l=typeof l.then=="function"?To(l):l,n=n.useState()[0],(Oe!==null?Oe.memoizedState:null)!==n&&(Te.flags|=1024),l}function eu(){var n=zr!==0;return zr=0,n}function tu(n,l,r){l.updateQueue=n.updateQueue,l.flags&=-2053,n.lanes&=~r}function nu(n){if(Pr){for(n=n.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}Pr=!1}Ln=0,rt=Oe=Te=null,El=!1,Eo=zr=0,Tl=null}function At(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Te.memoizedState=rt=n:rt=rt.next=n,rt}function lt(){if(Oe===null){var n=Te.alternate;n=n!==null?n.memoizedState:null}else n=Oe.next;var l=rt===null?Te.memoizedState:rt.next;if(l!==null)rt=l,Oe=n;else{if(n===null)throw Te.alternate===null?Error(o(467)):Error(o(310));Oe=n,n={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},rt===null?Te.memoizedState=rt=n:rt=rt.next=n}return rt}function Hr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function To(n){var l=Eo;return Eo+=1,Tl===null&&(Tl=[]),n=Bd(Tl,n,l),l=Te,(rt===null?l.memoizedState:rt.next)===null&&(l=l.alternate,z.H=l===null||l.memoizedState===null?kp:hu),n}function qr(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return To(n);if(n.$$typeof===P)return yt(n)}throw Error(o(438,String(n)))}function iu(n){var l=null,r=Te.updateQueue;if(r!==null&&(l=r.memoCache),l==null){var u=Te.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(l={data:u.data.map(function(m){return m.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),r===null&&(r=Hr(),Te.updateQueue=r),r.memoCache=l,r=l.data[l.index],r===void 0)for(r=l.data[l.index]=Array(n),u=0;u<n;u++)r[u]=le;return l.index++,r}function Pn(n,l){return typeof l=="function"?l(n):l}function Gr(n){var l=lt();return lu(l,Oe,n)}function lu(n,l,r){var u=n.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=r;var m=n.baseQueue,v=u.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}l.baseQueue=m=v,u.pending=null}if(v=n.baseState,m===null)n.memoizedState=v;else{l=m.next;var C=T=null,R=null,q=l,Y=!1;do{var $=q.lane&-536870913;if($!==q.lane?(Me&$)===$:(Ln&$)===$){var V=q.revertLane;if(V===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),$===ml&&(Y=!0);else if((Ln&V)===V){q=q.next,V===ml&&(Y=!0);continue}else $={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(C=R=$,T=v):R=R.next=$,Te.lanes|=V,ci|=V;$=q.action,qi&&r(v,$),v=q.hasEagerState?q.eagerState:r(v,$)}else V={lane:$,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(C=R=V,T=v):R=R.next=V,Te.lanes|=$,ci|=$;q=q.next}while(q!==null&&q!==l);if(R===null?T=v:R.next=C,!Gt(v,n.memoizedState)&&(at=!0,Y&&(r=gl,r!==null)))throw r;n.memoizedState=v,n.baseState=T,n.baseQueue=R,u.lastRenderedState=v}return m===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function ou(n){var l=lt(),r=l.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=n;var u=r.dispatch,m=r.pending,v=l.memoizedState;if(m!==null){r.pending=null;var T=m=m.next;do v=n(v,T.action),T=T.next;while(T!==m);Gt(v,l.memoizedState)||(at=!0),l.memoizedState=v,l.baseQueue===null&&(l.baseState=v),r.lastRenderedState=v}return[v,u]}function jd(n,l,r){var u=Te,m=lt(),v=De;if(v){if(r===void 0)throw Error(o(407));r=r()}else r=l();var T=!Gt((Oe||m).memoizedState,r);if(T&&(m.memoizedState=r,at=!0),m=m.queue,su(np.bind(null,u,m,n),[n]),m.getSnapshot!==l||T||rt!==null&&rt.memoizedState.tag&1){if(u.flags|=2048,_l(9,{destroy:void 0},tp.bind(null,u,m,r,l),null),Ke===null)throw Error(o(349));v||(Ln&127)!==0||ep(u,l,r)}return r}function ep(n,l,r){n.flags|=16384,n={getSnapshot:l,value:r},l=Te.updateQueue,l===null?(l=Hr(),Te.updateQueue=l,l.stores=[n]):(r=l.stores,r===null?l.stores=[n]:r.push(n))}function tp(n,l,r,u){l.value=r,l.getSnapshot=u,ip(l)&&lp(n)}function np(n,l,r){return r(function(){ip(l)&&lp(n)})}function ip(n){var l=n.getSnapshot;n=n.value;try{var r=l();return!Gt(n,r)}catch{return!0}}function lp(n){var l=Mi(n,2);l!==null&&Lt(l,n,2)}function ru(n){var l=At();if(typeof n=="function"){var r=n;if(n=r(),qi){Nt(!0);try{r()}finally{Nt(!1)}}}return l.memoizedState=l.baseState=n,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:n},l}function op(n,l,r,u){return n.baseState=r,lu(n,Oe,typeof u=="function"?u:Pn)}function JS(n,l,r,u,m){if(Or(n))throw Error(o(485));if(n=l.action,n!==null){var v={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};z.T!==null?r(!0):v.isTransition=!1,u(v),r=l.pending,r===null?(v.next=l.pending=v,rp(l,v)):(v.next=r.next,l.pending=r.next=v)}}function rp(n,l){var r=l.action,u=l.payload,m=n.state;if(l.isTransition){var v=z.T,T={};z.T=T;try{var C=r(m,u),R=z.S;R!==null&&R(T,C),ap(n,l,C)}catch(q){au(n,l,q)}finally{v!==null&&T.types!==null&&(v.types=T.types),z.T=v}}else try{v=r(m,u),ap(n,l,v)}catch(q){au(n,l,q)}}function ap(n,l,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){sp(n,l,u)},function(u){return au(n,l,u)}):sp(n,l,r)}function sp(n,l,r){l.status="fulfilled",l.value=r,up(l),n.state=r,l=n.pending,l!==null&&(r=l.next,r===l?n.pending=null:(r=r.next,l.next=r,rp(n,r)))}function au(n,l,r){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do l.status="rejected",l.reason=r,up(l),l=l.next;while(l!==u)}n.action=null}function up(n){n=n.listeners;for(var l=0;l<n.length;l++)(0,n[l])()}function cp(n,l){return l}function fp(n,l){if(De){var r=Ke.formState;if(r!==null){e:{var u=Te;if(De){if($e){t:{for(var m=$e,v=nn;m.nodeType!==8;){if(!v){m=null;break t}if(m=on(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){$e=on(m.nextSibling),u=m.data==="F!";break e}}ti(u)}u=!1}u&&(l=r[0])}}return r=At(),r.memoizedState=r.baseState=l,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:l},r.queue=u,r=Mp.bind(null,Te,u),u.dispatch=r,u=ru(!1),v=pu.bind(null,Te,!1,u.queue),u=At(),m={state:l,dispatch:null,action:n,pending:null},u.queue=m,r=JS.bind(null,Te,m,v,r),m.dispatch=r,u.memoizedState=n,[l,r,!1]}function dp(n){var l=lt();return pp(l,Oe,n)}function pp(n,l,r){if(l=lu(n,l,cp)[0],n=Gr(Pn)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var u=To(l)}catch(T){throw T===yl?Mr:T}else u=l;l=lt();var m=l.queue,v=m.dispatch;return r!==l.memoizedState&&(Te.flags|=2048,_l(9,{destroy:void 0},KS.bind(null,m,r),null)),[u,v,n]}function KS(n,l){n.action=l}function hp(n){var l=lt(),r=Oe;if(r!==null)return pp(l,r,n);lt(),l=l.memoizedState,r=lt();var u=r.queue.dispatch;return r.memoizedState=n,[l,u,!1]}function _l(n,l,r,u){return n={tag:n,create:r,deps:u,inst:l,next:null},l=Te.updateQueue,l===null&&(l=Hr(),Te.updateQueue=l),r=l.lastEffect,r===null?l.lastEffect=n.next=n:(u=r.next,r.next=n,n.next=u,l.lastEffect=n),n}function mp(){return lt().memoizedState}function Vr(n,l,r,u){var m=At();Te.flags|=n,m.memoizedState=_l(1|l,{destroy:void 0},r,u===void 0?null:u)}function Br(n,l,r,u){var m=lt();u=u===void 0?null:u;var v=m.memoizedState.inst;Oe!==null&&u!==null&&Ws(u,Oe.memoizedState.deps)?m.memoizedState=_l(l,v,r,u):(Te.flags|=n,m.memoizedState=_l(1|l,v,r,u))}function gp(n,l){Vr(8390656,8,n,l)}function su(n,l){Br(2048,8,n,l)}function XS(n){Te.flags|=4;var l=Te.updateQueue;if(l===null)l=Hr(),Te.updateQueue=l,l.events=[n];else{var r=l.events;r===null?l.events=[n]:r.push(n)}}function yp(n){var l=lt().memoizedState;return XS({ref:l,nextImpl:n}),function(){if((Pe&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}function vp(n,l){return Br(4,2,n,l)}function Sp(n,l){return Br(4,4,n,l)}function Ep(n,l){if(typeof l=="function"){n=n();var r=l(n);return function(){typeof r=="function"?r():l(null)}}if(l!=null)return n=n(),l.current=n,function(){l.current=null}}function Tp(n,l,r){r=r!=null?r.concat([n]):null,Br(4,4,Ep.bind(null,l,n),r)}function uu(){}function _p(n,l){var r=lt();l=l===void 0?null:l;var u=r.memoizedState;return l!==null&&Ws(l,u[1])?u[0]:(r.memoizedState=[n,l],n)}function Cp(n,l){var r=lt();l=l===void 0?null:l;var u=r.memoizedState;if(l!==null&&Ws(l,u[1]))return u[0];if(u=n(),qi){Nt(!0);try{n()}finally{Nt(!1)}}return r.memoizedState=[u,l],u}function cu(n,l,r){return r===void 0||(Ln&1073741824)!==0&&(Me&261930)===0?n.memoizedState=l:(n.memoizedState=r,n=xh(),Te.lanes|=n,ci|=n,r)}function xp(n,l,r,u){return Gt(r,l)?r:Sl.current!==null?(n=cu(n,r,u),Gt(n,l)||(at=!0),n):(Ln&42)===0||(Ln&1073741824)!==0&&(Me&261930)===0?(at=!0,n.memoizedState=r):(n=xh(),Te.lanes|=n,ci|=n,l)}function Ap(n,l,r,u,m){var v=W.p;W.p=v!==0&&8>v?v:8;var T=z.T,C={};z.T=C,pu(n,!1,l,r);try{var R=m(),q=z.S;if(q!==null&&q(C,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=OS(R,u);_o(n,l,Y,Jt(n))}else _o(n,l,u,Jt(n))}catch($){_o(n,l,{then:function(){},status:"rejected",reason:$},Jt())}finally{W.p=v,T!==null&&C.types!==null&&(T.types=C.types),z.T=T}}function QS(){}function fu(n,l,r,u){if(n.tag!==5)throw Error(o(476));var m=wp(n).queue;Ap(n,m,l,fe,r===null?QS:function(){return bp(n),r(u)})}function wp(n){var l=n.memoizedState;if(l!==null)return l;l={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:fe},next:null};var r={};return l.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:r},next:null},n.memoizedState=l,n=n.alternate,n!==null&&(n.memoizedState=l),l}function bp(n){var l=wp(n);l.next===null&&(l=n.alternate.memoizedState),_o(n,l.next.queue,{},Jt())}function du(){return yt(qo)}function Np(){return lt().memoizedState}function Rp(){return lt().memoizedState}function $S(n){for(var l=n.return;l!==null;){switch(l.tag){case 24:case 3:var r=Jt();n=li(r);var u=oi(l,n,r);u!==null&&(Lt(u,l,r),yo(u,l,r)),l={cache:Vs()},n.payload=l;return}l=l.return}}function ZS(n,l,r){var u=Jt();r={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Or(n)?Ip(l,r):(r=Ms(n,l,r,u),r!==null&&(Lt(r,n,u),Dp(r,l,u)))}function Mp(n,l,r){var u=Jt();_o(n,l,r,u)}function _o(n,l,r,u){var m={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Or(n))Ip(l,m);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=l.lastRenderedReducer,v!==null))try{var T=l.lastRenderedState,C=v(T,r);if(m.hasEagerState=!0,m.eagerState=C,Gt(C,T))return Cr(n,l,m,0),Ke===null&&_r(),!1}catch{}finally{}if(r=Ms(n,l,m,u),r!==null)return Lt(r,n,u),Dp(r,l,u),!0}return!1}function pu(n,l,r,u){if(u={lane:2,revertLane:Yu(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Or(n)){if(l)throw Error(o(479))}else l=Ms(n,r,u,2),l!==null&&Lt(l,n,2)}function Or(n){var l=n.alternate;return n===Te||l!==null&&l===Te}function Ip(n,l){El=Pr=!0;var r=n.pending;r===null?l.next=l:(l.next=r.next,r.next=l),n.pending=l}function Dp(n,l,r){if((r&4194048)!==0){var u=l.lanes;u&=n.pendingLanes,r|=u,l.lanes=r,zf(n,r)}}var Co={readContext:yt,use:qr,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};Co.useEffectEvent=tt;var kp={readContext:yt,use:qr,useCallback:function(n,l){return At().memoizedState=[n,l===void 0?null:l],n},useContext:yt,useEffect:gp,useImperativeHandle:function(n,l,r){r=r!=null?r.concat([n]):null,Vr(4194308,4,Ep.bind(null,l,n),r)},useLayoutEffect:function(n,l){return Vr(4194308,4,n,l)},useInsertionEffect:function(n,l){Vr(4,2,n,l)},useMemo:function(n,l){var r=At();l=l===void 0?null:l;var u=n();if(qi){Nt(!0);try{n()}finally{Nt(!1)}}return r.memoizedState=[u,l],u},useReducer:function(n,l,r){var u=At();if(r!==void 0){var m=r(l);if(qi){Nt(!0);try{r(l)}finally{Nt(!1)}}}else m=l;return u.memoizedState=u.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},u.queue=n,n=n.dispatch=ZS.bind(null,Te,n),[u.memoizedState,n]},useRef:function(n){var l=At();return n={current:n},l.memoizedState=n},useState:function(n){n=ru(n);var l=n.queue,r=Mp.bind(null,Te,l);return l.dispatch=r,[n.memoizedState,r]},useDebugValue:uu,useDeferredValue:function(n,l){var r=At();return cu(r,n,l)},useTransition:function(){var n=ru(!1);return n=Ap.bind(null,Te,n.queue,!0,!1),At().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,l,r){var u=Te,m=At();if(De){if(r===void 0)throw Error(o(407));r=r()}else{if(r=l(),Ke===null)throw Error(o(349));(Me&127)!==0||ep(u,l,r)}m.memoizedState=r;var v={value:r,getSnapshot:l};return m.queue=v,gp(np.bind(null,u,v,n),[n]),u.flags|=2048,_l(9,{destroy:void 0},tp.bind(null,u,v,r,l),null),r},useId:function(){var n=At(),l=Ke.identifierPrefix;if(De){var r=Sn,u=vn;r=(u&~(1<<32-Je(u)-1)).toString(32)+r,l="_"+l+"R_"+r,r=zr++,0<r&&(l+="H"+r.toString(32)),l+="_"}else r=FS++,l="_"+l+"r_"+r.toString(32)+"_";return n.memoizedState=l},useHostTransitionStatus:du,useFormState:fp,useActionState:fp,useOptimistic:function(n){var l=At();l.memoizedState=l.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=r,l=pu.bind(null,Te,!0,r),r.dispatch=l,[n,l]},useMemoCache:iu,useCacheRefresh:function(){return At().memoizedState=$S.bind(null,Te)},useEffectEvent:function(n){var l=At(),r={impl:n};return l.memoizedState=r,function(){if((Pe&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},hu={readContext:yt,use:qr,useCallback:_p,useContext:yt,useEffect:su,useImperativeHandle:Tp,useInsertionEffect:vp,useLayoutEffect:Sp,useMemo:Cp,useReducer:Gr,useRef:mp,useState:function(){return Gr(Pn)},useDebugValue:uu,useDeferredValue:function(n,l){var r=lt();return xp(r,Oe.memoizedState,n,l)},useTransition:function(){var n=Gr(Pn)[0],l=lt().memoizedState;return[typeof n=="boolean"?n:To(n),l]},useSyncExternalStore:jd,useId:Np,useHostTransitionStatus:du,useFormState:dp,useActionState:dp,useOptimistic:function(n,l){var r=lt();return op(r,Oe,n,l)},useMemoCache:iu,useCacheRefresh:Rp};hu.useEffectEvent=yp;var Up={readContext:yt,use:qr,useCallback:_p,useContext:yt,useEffect:su,useImperativeHandle:Tp,useInsertionEffect:vp,useLayoutEffect:Sp,useMemo:Cp,useReducer:ou,useRef:mp,useState:function(){return ou(Pn)},useDebugValue:uu,useDeferredValue:function(n,l){var r=lt();return Oe===null?cu(r,n,l):xp(r,Oe.memoizedState,n,l)},useTransition:function(){var n=ou(Pn)[0],l=lt().memoizedState;return[typeof n=="boolean"?n:To(n),l]},useSyncExternalStore:jd,useId:Np,useHostTransitionStatus:du,useFormState:hp,useActionState:hp,useOptimistic:function(n,l){var r=lt();return Oe!==null?op(r,Oe,n,l):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:iu,useCacheRefresh:Rp};Up.useEffectEvent=yp;function mu(n,l,r,u){l=n.memoizedState,r=r(u,l),r=r==null?l:S({},l,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var gu={enqueueSetState:function(n,l,r){n=n._reactInternals;var u=Jt(),m=li(u);m.payload=l,r!=null&&(m.callback=r),l=oi(n,m,u),l!==null&&(Lt(l,n,u),yo(l,n,u))},enqueueReplaceState:function(n,l,r){n=n._reactInternals;var u=Jt(),m=li(u);m.tag=1,m.payload=l,r!=null&&(m.callback=r),l=oi(n,m,u),l!==null&&(Lt(l,n,u),yo(l,n,u))},enqueueForceUpdate:function(n,l){n=n._reactInternals;var r=Jt(),u=li(r);u.tag=2,l!=null&&(u.callback=l),l=oi(n,u,r),l!==null&&(Lt(l,n,r),yo(l,n,r))}};function Lp(n,l,r,u,m,v,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,v,T):l.prototype&&l.prototype.isPureReactComponent?!so(r,u)||!so(m,v):!0}function Pp(n,l,r,u){n=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(r,u),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(r,u),l.state!==n&&gu.enqueueReplaceState(l,l.state,null)}function Gi(n,l){var r=l;if("ref"in l){r={};for(var u in l)u!=="ref"&&(r[u]=l[u])}if(n=n.defaultProps){r===l&&(r=S({},r));for(var m in n)r[m]===void 0&&(r[m]=n[m])}return r}function zp(n){Tr(n)}function Hp(n){console.error(n)}function qp(n){Tr(n)}function Fr(n,l){try{var r=n.onUncaughtError;r(l.value,{componentStack:l.stack})}catch(u){setTimeout(function(){throw u})}}function Gp(n,l,r){try{var u=n.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function yu(n,l,r){return r=li(r),r.tag=3,r.payload={element:null},r.callback=function(){Fr(n,l)},r}function Vp(n){return n=li(n),n.tag=3,n}function Bp(n,l,r,u){var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var v=u.value;n.payload=function(){return m(v)},n.callback=function(){Gp(l,r,u)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Gp(l,r,u),typeof m!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function WS(n,l,r,u,m){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(l=r.alternate,l!==null&&hl(l,r,m,!0),r=Bt.current,r!==null){switch(r.tag){case 31:case 13:return ln===null?na():r.alternate===null&&nt===0&&(nt=3),r.flags&=-257,r.flags|=65536,r.lanes=m,u===Ir?r.flags|=16384:(l=r.updateQueue,l===null?r.updateQueue=new Set([u]):l.add(u),Bu(n,u,m)),!1;case 22:return r.flags|=65536,u===Ir?r.flags|=16384:(l=r.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=l):(r=l.retryQueue,r===null?l.retryQueue=new Set([u]):r.add(u)),Bu(n,u,m)),!1}throw Error(o(435,r.tag))}return Bu(n,u,m),na(),!1}if(De)return l=Bt.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=m,u!==Ps&&(n=Error(o(422),{cause:u}),fo(jt(n,r)))):(u!==Ps&&(l=Error(o(423),{cause:u}),fo(jt(l,r))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,u=jt(u,r),m=yu(n.stateNode,u,m),Ks(n,m),nt!==4&&(nt=2)),!1;var v=Error(o(520),{cause:u});if(v=jt(v,r),Io===null?Io=[v]:Io.push(v),nt!==4&&(nt=2),l===null)return!0;u=jt(u,r),r=l;do{switch(r.tag){case 3:return r.flags|=65536,n=m&-m,r.lanes|=n,n=yu(r.stateNode,u,n),Ks(r,n),!1;case 1:if(l=r.type,v=r.stateNode,(r.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(fi===null||!fi.has(v))))return r.flags|=65536,m&=-m,r.lanes|=m,m=Vp(m),Bp(m,n,r,u),Ks(r,m),!1}r=r.return}while(r!==null);return!1}var vu=Error(o(461)),at=!1;function vt(n,l,r,u){l.child=n===null?Jd(l,null,r,u):Hi(l,n.child,r,u)}function Op(n,l,r,u,m){r=r.render;var v=l.ref;if("ref"in u){var T={};for(var C in u)C!=="ref"&&(T[C]=u[C])}else T=u;return Ui(l),u=js(n,l,r,T,v,m),C=eu(),n!==null&&!at?(tu(n,l,m),zn(n,l,m)):(De&&C&&Us(l),l.flags|=1,vt(n,l,u,m),l.child)}function Fp(n,l,r,u,m){if(n===null){var v=r.type;return typeof v=="function"&&!Is(v)&&v.defaultProps===void 0&&r.compare===null?(l.tag=15,l.type=v,Yp(n,l,v,u,m)):(n=Ar(r.type,null,u,l,l.mode,m),n.ref=l.ref,n.return=l,l.child=n)}if(v=n.child,!wu(n,m)){var T=v.memoizedProps;if(r=r.compare,r=r!==null?r:so,r(T,u)&&n.ref===l.ref)return zn(n,l,m)}return l.flags|=1,n=In(v,u),n.ref=l.ref,n.return=l,l.child=n}function Yp(n,l,r,u,m){if(n!==null){var v=n.memoizedProps;if(so(v,u)&&n.ref===l.ref)if(at=!1,l.pendingProps=u=v,wu(n,m))(n.flags&131072)!==0&&(at=!0);else return l.lanes=n.lanes,zn(n,l,m)}return Su(n,l,r,u,m)}function Jp(n,l,r,u){var m=u.children,v=n!==null?n.memoizedState:null;if(n===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((l.flags&128)!==0){if(v=v!==null?v.baseLanes|r:r,n!==null){for(u=l.child=n.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~v}else u=0,l.child=null;return Kp(n,l,v,r,u)}if((r&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},n!==null&&Rr(l,v!==null?v.cachePool:null),v!==null?Qd(l,v):Qs(),$d(l);else return u=l.lanes=536870912,Kp(n,l,v!==null?v.baseLanes|r:r,r,u)}else v!==null?(Rr(l,v.cachePool),Qd(l,v),ai(),l.memoizedState=null):(n!==null&&Rr(l,null),Qs(),ai());return vt(n,l,m,r),l.child}function xo(n,l){return n!==null&&n.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Kp(n,l,r,u,m){var v=Os();return v=v===null?null:{parent:ot._currentValue,pool:v},l.memoizedState={baseLanes:r,cachePool:v},n!==null&&Rr(l,null),Qs(),$d(l),n!==null&&hl(n,l,u,!0),l.childLanes=m,null}function Yr(n,l){return l=Kr({mode:l.mode,children:l.children},n.mode),l.ref=n.ref,n.child=l,l.return=n,l}function Xp(n,l,r){return Hi(l,n.child,null,r),n=Yr(l,l.pendingProps),n.flags|=2,Ot(l),l.memoizedState=null,n}function jS(n,l,r){var u=l.pendingProps,m=(l.flags&128)!==0;if(l.flags&=-129,n===null){if(De){if(u.mode==="hidden")return n=Yr(l,u),l.lanes=536870912,xo(null,n);if(Zs(l),(n=$e)?(n=rm(n,nn),n=n!==null&&n.data==="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:jn!==null?{id:vn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},r=Id(n),r.return=l,l.child=r,gt=l,$e=null)):n=null,n===null)throw ti(l);return l.lanes=536870912,null}return Yr(l,u)}var v=n.memoizedState;if(v!==null){var T=v.dehydrated;if(Zs(l),m)if(l.flags&256)l.flags&=-257,l=Xp(n,l,r);else if(l.memoizedState!==null)l.child=n.child,l.flags|=128,l=null;else throw Error(o(558));else if(at||hl(n,l,r,!1),m=(r&n.childLanes)!==0,at||m){if(u=Ke,u!==null&&(T=Hf(u,r),T!==0&&T!==v.retryLane))throw v.retryLane=T,Mi(n,T),Lt(u,n,T),vu;na(),l=Xp(n,l,r)}else n=v.treeContext,$e=on(T.nextSibling),gt=l,De=!0,ei=null,nn=!1,n!==null&&Ud(l,n),l=Yr(l,u),l.flags|=4096;return l}return n=In(n.child,{mode:u.mode,children:u.children}),n.ref=l.ref,l.child=n,n.return=l,n}function Jr(n,l){var r=l.ref;if(r===null)n!==null&&n.ref!==null&&(l.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(n===null||n.ref!==r)&&(l.flags|=4194816)}}function Su(n,l,r,u,m){return Ui(l),r=js(n,l,r,u,void 0,m),u=eu(),n!==null&&!at?(tu(n,l,m),zn(n,l,m)):(De&&u&&Us(l),l.flags|=1,vt(n,l,r,m),l.child)}function Qp(n,l,r,u,m,v){return Ui(l),l.updateQueue=null,r=Wd(l,u,r,m),Zd(n),u=eu(),n!==null&&!at?(tu(n,l,v),zn(n,l,v)):(De&&u&&Us(l),l.flags|=1,vt(n,l,r,v),l.child)}function $p(n,l,r,u,m){if(Ui(l),l.stateNode===null){var v=cl,T=r.contextType;typeof T=="object"&&T!==null&&(v=yt(T)),v=new r(u,v),l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=gu,l.stateNode=v,v._reactInternals=l,v=l.stateNode,v.props=u,v.state=l.memoizedState,v.refs={},Ys(l),T=r.contextType,v.context=typeof T=="object"&&T!==null?yt(T):cl,v.state=l.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(mu(l,r,T,u),v.state=l.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&gu.enqueueReplaceState(v,v.state,null),So(l,u,v,m),vo(),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308),u=!0}else if(n===null){v=l.stateNode;var C=l.memoizedProps,R=Gi(r,C);v.props=R;var q=v.context,Y=r.contextType;T=cl,typeof Y=="object"&&Y!==null&&(T=yt(Y));var $=r.getDerivedStateFromProps;Y=typeof $=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=l.pendingProps!==C,Y||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||q!==T)&&Pp(l,v,u,T),ii=!1;var V=l.memoizedState;v.state=V,So(l,u,v,m),vo(),q=l.memoizedState,C||V!==q||ii?(typeof $=="function"&&(mu(l,r,$,u),q=l.memoizedState),(R=ii||Lp(l,r,R,u,V,q,T))?(Y||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(l.flags|=4194308)):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=u,l.memoizedState=q),v.props=u,v.state=q,v.context=T,u=R):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),u=!1)}else{v=l.stateNode,Js(n,l),T=l.memoizedProps,Y=Gi(r,T),v.props=Y,$=l.pendingProps,V=v.context,q=r.contextType,R=cl,typeof q=="object"&&q!==null&&(R=yt(q)),C=r.getDerivedStateFromProps,(q=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==$||V!==R)&&Pp(l,v,u,R),ii=!1,V=l.memoizedState,v.state=V,So(l,u,v,m),vo();var B=l.memoizedState;T!==$||V!==B||ii||n!==null&&n.dependencies!==null&&br(n.dependencies)?(typeof C=="function"&&(mu(l,r,C,u),B=l.memoizedState),(Y=ii||Lp(l,r,Y,u,V,B,R)||n!==null&&n.dependencies!==null&&br(n.dependencies))?(q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,B,R),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,B,R)),typeof v.componentDidUpdate=="function"&&(l.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===n.memoizedProps&&V===n.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&V===n.memoizedState||(l.flags|=1024),l.memoizedProps=u,l.memoizedState=B),v.props=u,v.state=B,v.context=R,u=Y):(typeof v.componentDidUpdate!="function"||T===n.memoizedProps&&V===n.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&V===n.memoizedState||(l.flags|=1024),u=!1)}return v=u,Jr(n,l),u=(l.flags&128)!==0,v||u?(v=l.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:v.render(),l.flags|=1,n!==null&&u?(l.child=Hi(l,n.child,null,m),l.child=Hi(l,null,r,m)):vt(n,l,r,m),l.memoizedState=v.state,n=l.child):n=zn(n,l,m),n}function Zp(n,l,r,u){return Di(),l.flags|=256,vt(n,l,r,u),l.child}var Eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tu(n){return{baseLanes:n,cachePool:Gd()}}function _u(n,l,r){return n=n!==null?n.childLanes&~r:0,l&&(n|=Yt),n}function Wp(n,l,r){var u=l.pendingProps,m=!1,v=(l.flags&128)!==0,T;if((T=v)||(T=n!==null&&n.memoizedState===null?!1:(it.current&2)!==0),T&&(m=!0,l.flags&=-129),T=(l.flags&32)!==0,l.flags&=-33,n===null){if(De){if(m?ri(l):ai(),(n=$e)?(n=rm(n,nn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:jn!==null?{id:vn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},r=Id(n),r.return=l,l.child=r,gt=l,$e=null)):n=null,n===null)throw ti(l);return lc(n)?l.lanes=32:l.lanes=536870912,null}var C=u.children;return u=u.fallback,m?(ai(),m=l.mode,C=Kr({mode:"hidden",children:C},m),u=Ii(u,m,r,null),C.return=l,u.return=l,C.sibling=u,l.child=C,u=l.child,u.memoizedState=Tu(r),u.childLanes=_u(n,T,r),l.memoizedState=Eu,xo(null,u)):(ri(l),Cu(l,C))}var R=n.memoizedState;if(R!==null&&(C=R.dehydrated,C!==null)){if(v)l.flags&256?(ri(l),l.flags&=-257,l=xu(n,l,r)):l.memoizedState!==null?(ai(),l.child=n.child,l.flags|=128,l=null):(ai(),C=u.fallback,m=l.mode,u=Kr({mode:"visible",children:u.children},m),C=Ii(C,m,r,null),C.flags|=2,u.return=l,C.return=l,u.sibling=C,l.child=u,Hi(l,n.child,null,r),u=l.child,u.memoizedState=Tu(r),u.childLanes=_u(n,T,r),l.memoizedState=Eu,l=xo(null,u));else if(ri(l),lc(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var q=T.dgst;T=q,u=Error(o(419)),u.stack="",u.digest=T,fo({value:u,source:null,stack:null}),l=xu(n,l,r)}else if(at||hl(n,l,r,!1),T=(r&n.childLanes)!==0,at||T){if(T=Ke,T!==null&&(u=Hf(T,r),u!==0&&u!==R.retryLane))throw R.retryLane=u,Mi(n,u),Lt(T,n,u),vu;ic(C)||na(),l=xu(n,l,r)}else ic(C)?(l.flags|=192,l.child=n.child,l=null):(n=R.treeContext,$e=on(C.nextSibling),gt=l,De=!0,ei=null,nn=!1,n!==null&&Ud(l,n),l=Cu(l,u.children),l.flags|=4096);return l}return m?(ai(),C=u.fallback,m=l.mode,R=n.child,q=R.sibling,u=In(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,q!==null?C=In(q,C):(C=Ii(C,m,r,null),C.flags|=2),C.return=l,u.return=l,u.sibling=C,l.child=u,xo(null,u),u=l.child,C=n.child.memoizedState,C===null?C=Tu(r):(m=C.cachePool,m!==null?(R=ot._currentValue,m=m.parent!==R?{parent:R,pool:R}:m):m=Gd(),C={baseLanes:C.baseLanes|r,cachePool:m}),u.memoizedState=C,u.childLanes=_u(n,T,r),l.memoizedState=Eu,xo(n.child,u)):(ri(l),r=n.child,n=r.sibling,r=In(r,{mode:"visible",children:u.children}),r.return=l,r.sibling=null,n!==null&&(T=l.deletions,T===null?(l.deletions=[n],l.flags|=16):T.push(n)),l.child=r,l.memoizedState=null,r)}function Cu(n,l){return l=Kr({mode:"visible",children:l},n.mode),l.return=n,n.child=l}function Kr(n,l){return n=Vt(22,n,null,l),n.lanes=0,n}function xu(n,l,r){return Hi(l,n.child,null,r),n=Cu(l,l.pendingProps.children),n.flags|=2,l.memoizedState=null,n}function jp(n,l,r){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l),qs(n.return,l,r)}function Au(n,l,r,u,m,v){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:m,treeForkCount:v}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=r,T.tailMode=m,T.treeForkCount=v)}function eh(n,l,r){var u=l.pendingProps,m=u.revealOrder,v=u.tail;u=u.children;var T=it.current,C=(T&2)!==0;if(C?(T=T&1|2,l.flags|=128):T&=1,x(it,T),vt(n,l,u,r),u=De?co:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=l.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&jp(n,r,l);else if(n.tag===19)jp(n,r,l);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===l)break e;for(;n.sibling===null;){if(n.return===null||n.return===l)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(r=l.child,m=null;r!==null;)n=r.alternate,n!==null&&Lr(n)===null&&(m=r),r=r.sibling;r=m,r===null?(m=l.child,l.child=null):(m=r.sibling,r.sibling=null),Au(l,!1,m,r,v,u);break;case"backwards":case"unstable_legacy-backwards":for(r=null,m=l.child,l.child=null;m!==null;){if(n=m.alternate,n!==null&&Lr(n)===null){l.child=m;break}n=m.sibling,m.sibling=r,r=m,m=n}Au(l,!0,r,null,v,u);break;case"together":Au(l,!1,null,null,void 0,u);break;default:l.memoizedState=null}return l.child}function zn(n,l,r){if(n!==null&&(l.dependencies=n.dependencies),ci|=l.lanes,(r&l.childLanes)===0)if(n!==null){if(hl(n,l,r,!1),(r&l.childLanes)===0)return null}else return null;if(n!==null&&l.child!==n.child)throw Error(o(153));if(l.child!==null){for(n=l.child,r=In(n,n.pendingProps),l.child=r,r.return=l;n.sibling!==null;)n=n.sibling,r=r.sibling=In(n,n.pendingProps),r.return=l;r.sibling=null}return l.child}function wu(n,l){return(n.lanes&l)!==0?!0:(n=n.dependencies,!!(n!==null&&br(n)))}function eE(n,l,r){switch(l.tag){case 3:We(l,l.stateNode.containerInfo),ni(l,ot,n.memoizedState.cache),Di();break;case 27:case 5:Qt(l);break;case 4:We(l,l.stateNode.containerInfo);break;case 10:ni(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Zs(l),null;break;case 13:var u=l.memoizedState;if(u!==null)return u.dehydrated!==null?(ri(l),l.flags|=128,null):(r&l.child.childLanes)!==0?Wp(n,l,r):(ri(l),n=zn(n,l,r),n!==null?n.sibling:null);ri(l);break;case 19:var m=(n.flags&128)!==0;if(u=(r&l.childLanes)!==0,u||(hl(n,l,r,!1),u=(r&l.childLanes)!==0),m){if(u)return eh(n,l,r);l.flags|=128}if(m=l.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),x(it,it.current),u)break;return null;case 22:return l.lanes=0,Jp(n,l,r,l.pendingProps);case 24:ni(l,ot,n.memoizedState.cache)}return zn(n,l,r)}function th(n,l,r){if(n!==null)if(n.memoizedProps!==l.pendingProps)at=!0;else{if(!wu(n,r)&&(l.flags&128)===0)return at=!1,eE(n,l,r);at=(n.flags&131072)!==0}else at=!1,De&&(l.flags&1048576)!==0&&kd(l,co,l.index);switch(l.lanes=0,l.tag){case 16:e:{var u=l.pendingProps;if(n=Pi(l.elementType),l.type=n,typeof n=="function")Is(n)?(u=Gi(n,u),l.tag=1,l=$p(null,l,n,u,r)):(l.tag=0,l=Su(null,l,n,u,r));else{if(n!=null){var m=n.$$typeof;if(m===G){l.tag=11,l=Op(null,l,n,u,r);break e}else if(m===F){l.tag=14,l=Fp(null,l,n,u,r);break e}}throw l=se(n)||n,Error(o(306,l,""))}}return l;case 0:return Su(n,l,l.type,l.pendingProps,r);case 1:return u=l.type,m=Gi(u,l.pendingProps),$p(n,l,u,m,r);case 3:e:{if(We(l,l.stateNode.containerInfo),n===null)throw Error(o(387));u=l.pendingProps;var v=l.memoizedState;m=v.element,Js(n,l),So(l,u,null,r);var T=l.memoizedState;if(u=T.cache,ni(l,ot,u),u!==v.cache&&Gs(l,[ot],r,!0),vo(),u=T.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:T.cache},l.updateQueue.baseState=v,l.memoizedState=v,l.flags&256){l=Zp(n,l,u,r);break e}else if(u!==m){m=jt(Error(o(424)),l),fo(m),l=Zp(n,l,u,r);break e}else{switch(n=l.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for($e=on(n.firstChild),gt=l,De=!0,ei=null,nn=!0,r=Jd(l,null,u,r),l.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Di(),u===m){l=zn(n,l,r);break e}vt(n,l,u,r)}l=l.child}return l;case 26:return Jr(n,l),n===null?(r=dm(l.type,null,l.pendingProps,null))?l.memoizedState=r:De||(r=l.type,n=l.pendingProps,u=ua(pe.current).createElement(r),u[mt]=l,u[Rt]=n,St(u,r,n),dt(u),l.stateNode=u):l.memoizedState=dm(l.type,n.memoizedProps,l.pendingProps,n.memoizedState),null;case 27:return Qt(l),n===null&&De&&(u=l.stateNode=um(l.type,l.pendingProps,pe.current),gt=l,nn=!0,m=$e,mi(l.type)?(oc=m,$e=on(u.firstChild)):$e=m),vt(n,l,l.pendingProps.children,r),Jr(n,l),n===null&&(l.flags|=4194304),l.child;case 5:return n===null&&De&&((m=u=$e)&&(u=ME(u,l.type,l.pendingProps,nn),u!==null?(l.stateNode=u,gt=l,$e=on(u.firstChild),nn=!1,m=!0):m=!1),m||ti(l)),Qt(l),m=l.type,v=l.pendingProps,T=n!==null?n.memoizedProps:null,u=v.children,ec(m,v)?u=null:T!==null&&ec(m,T)&&(l.flags|=32),l.memoizedState!==null&&(m=js(n,l,YS,null,null,r),qo._currentValue=m),Jr(n,l),vt(n,l,u,r),l.child;case 6:return n===null&&De&&((n=r=$e)&&(r=IE(r,l.pendingProps,nn),r!==null?(l.stateNode=r,gt=l,$e=null,n=!0):n=!1),n||ti(l)),null;case 13:return Wp(n,l,r);case 4:return We(l,l.stateNode.containerInfo),u=l.pendingProps,n===null?l.child=Hi(l,null,u,r):vt(n,l,u,r),l.child;case 11:return Op(n,l,l.type,l.pendingProps,r);case 7:return vt(n,l,l.pendingProps,r),l.child;case 8:return vt(n,l,l.pendingProps.children,r),l.child;case 12:return vt(n,l,l.pendingProps.children,r),l.child;case 10:return u=l.pendingProps,ni(l,l.type,u.value),vt(n,l,u.children,r),l.child;case 9:return m=l.type._context,u=l.pendingProps.children,Ui(l),m=yt(m),u=u(m),l.flags|=1,vt(n,l,u,r),l.child;case 14:return Fp(n,l,l.type,l.pendingProps,r);case 15:return Yp(n,l,l.type,l.pendingProps,r);case 19:return eh(n,l,r);case 31:return jS(n,l,r);case 22:return Jp(n,l,r,l.pendingProps);case 24:return Ui(l),u=yt(ot),n===null?(m=Os(),m===null&&(m=Ke,v=Vs(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=r),m=v),l.memoizedState={parent:u,cache:m},Ys(l),ni(l,ot,m)):((n.lanes&r)!==0&&(Js(n,l),So(l,null,null,r),vo()),m=n.memoizedState,v=l.memoizedState,m.parent!==u?(m={parent:u,cache:u},l.memoizedState=m,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=m),ni(l,ot,u)):(u=v.cache,ni(l,ot,u),u!==m.cache&&Gs(l,[ot],r,!0))),vt(n,l,l.pendingProps.children,r),l.child;case 29:throw l.pendingProps}throw Error(o(156,l.tag))}function Hn(n){n.flags|=4}function bu(n,l,r,u,m){if((l=(n.mode&32)!==0)&&(l=!1),l){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(Nh())n.flags|=8192;else throw zi=Ir,Fs}else n.flags&=-16777217}function nh(n,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!ym(l))if(Nh())n.flags|=8192;else throw zi=Ir,Fs}function Xr(n,l){l!==null&&(n.flags|=4),n.flags&16384&&(l=n.tag!==22?Lf():536870912,n.lanes|=l,wl|=l)}function Ao(n,l){if(!De)switch(n.tailMode){case"hidden":l=n.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?l||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ze(n){var l=n.alternate!==null&&n.alternate.child===n.child,r=0,u=0;if(l)for(var m=n.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=u,n.childLanes=r,l}function tE(n,l,r){var u=l.pendingProps;switch(Ls(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(l),null;case 1:return Ze(l),null;case 3:return r=l.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Un(ot),Be(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(pl(l)?Hn(l):n===null||n.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,zs())),Ze(l),null;case 26:var m=l.type,v=l.memoizedState;return n===null?(Hn(l),v!==null?(Ze(l),nh(l,v)):(Ze(l),bu(l,m,null,u,r))):v?v!==n.memoizedState?(Hn(l),Ze(l),nh(l,v)):(Ze(l),l.flags&=-16777217):(n=n.memoizedProps,n!==u&&Hn(l),Ze(l),bu(l,m,n,u,r)),null;case 27:if(An(l),r=pe.current,m=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==u&&Hn(l);else{if(!u){if(l.stateNode===null)throw Error(o(166));return Ze(l),null}n=re.current,pl(l)?Ld(l):(n=um(m,u,r),l.stateNode=n,Hn(l))}return Ze(l),null;case 5:if(An(l),m=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==u&&Hn(l);else{if(!u){if(l.stateNode===null)throw Error(o(166));return Ze(l),null}if(v=re.current,pl(l))Ld(l);else{var T=ua(pe.current);switch(v){case 1:v=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:v=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":v=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":v=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":v=T.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?T.createElement(m,{is:u.is}):T.createElement(m)}}v[mt]=l,v[Rt]=u;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)v.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=v;e:switch(St(v,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Hn(l)}}return Ze(l),bu(l,l.type,n===null?null:n.memoizedProps,l.pendingProps,r),null;case 6:if(n&&l.stateNode!=null)n.memoizedProps!==u&&Hn(l);else{if(typeof u!="string"&&l.stateNode===null)throw Error(o(166));if(n=pe.current,pl(l)){if(n=l.stateNode,r=l.memoizedProps,u=null,m=gt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}n[mt]=l,n=!!(n.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||Wh(n.nodeValue,r)),n||ti(l,!0)}else n=ua(n).createTextNode(u),n[mt]=l,l.stateNode=n}return Ze(l),null;case 31:if(r=l.memoizedState,n===null||n.memoizedState!==null){if(u=pl(l),r!==null){if(n===null){if(!u)throw Error(o(318));if(n=l.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[mt]=l}else Di(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ze(l),n=!1}else r=zs(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=r),n=!0;if(!n)return l.flags&256?(Ot(l),l):(Ot(l),null);if((l.flags&128)!==0)throw Error(o(558))}return Ze(l),null;case 13:if(u=l.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=pl(l),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(o(318));if(m=l.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[mt]=l}else Di(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ze(l),m=!1}else m=zs(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return l.flags&256?(Ot(l),l):(Ot(l),null)}return Ot(l),(l.flags&128)!==0?(l.lanes=r,l):(r=u!==null,n=n!==null&&n.memoizedState!==null,r&&(u=l.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==m&&(u.flags|=2048)),r!==n&&r&&(l.child.flags|=8192),Xr(l,l.updateQueue),Ze(l),null);case 4:return Be(),n===null&&Qu(l.stateNode.containerInfo),Ze(l),null;case 10:return Un(l.type),Ze(l),null;case 19:if(J(it),u=l.memoizedState,u===null)return Ze(l),null;if(m=(l.flags&128)!==0,v=u.rendering,v===null)if(m)Ao(u,!1);else{if(nt!==0||n!==null&&(n.flags&128)!==0)for(n=l.child;n!==null;){if(v=Lr(n),v!==null){for(l.flags|=128,Ao(u,!1),n=v.updateQueue,l.updateQueue=n,Xr(l,n),l.subtreeFlags=0,n=r,r=l.child;r!==null;)Md(r,n),r=r.sibling;return x(it,it.current&1|2),De&&Dn(l,u.treeForkCount),l.child}n=n.sibling}u.tail!==null&&Ct()>jr&&(l.flags|=128,m=!0,Ao(u,!1),l.lanes=4194304)}else{if(!m)if(n=Lr(v),n!==null){if(l.flags|=128,m=!0,n=n.updateQueue,l.updateQueue=n,Xr(l,n),Ao(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!De)return Ze(l),null}else 2*Ct()-u.renderingStartTime>jr&&r!==536870912&&(l.flags|=128,m=!0,Ao(u,!1),l.lanes=4194304);u.isBackwards?(v.sibling=l.child,l.child=v):(n=u.last,n!==null?n.sibling=v:l.child=v,u.last=v)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ct(),n.sibling=null,r=it.current,x(it,m?r&1|2:r&1),De&&Dn(l,u.treeForkCount),n):(Ze(l),null);case 22:case 23:return Ot(l),$s(),u=l.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(l.flags|=8192):u&&(l.flags|=8192),u?(r&536870912)!==0&&(l.flags&128)===0&&(Ze(l),l.subtreeFlags&6&&(l.flags|=8192)):Ze(l),r=l.updateQueue,r!==null&&Xr(l,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==r&&(l.flags|=2048),n!==null&&J(Li),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),l.memoizedState.cache!==r&&(l.flags|=2048),Un(ot),Ze(l),null;case 25:return null;case 30:return null}throw Error(o(156,l.tag))}function nE(n,l){switch(Ls(l),l.tag){case 1:return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 3:return Un(ot),Be(),n=l.flags,(n&65536)!==0&&(n&128)===0?(l.flags=n&-65537|128,l):null;case 26:case 27:case 5:return An(l),null;case 31:if(l.memoizedState!==null){if(Ot(l),l.alternate===null)throw Error(o(340));Di()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 13:if(Ot(l),n=l.memoizedState,n!==null&&n.dehydrated!==null){if(l.alternate===null)throw Error(o(340));Di()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 19:return J(it),null;case 4:return Be(),null;case 10:return Un(l.type),null;case 22:case 23:return Ot(l),$s(),n!==null&&J(Li),n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 24:return Un(ot),null;case 25:return null;default:return null}}function ih(n,l){switch(Ls(l),l.tag){case 3:Un(ot),Be();break;case 26:case 27:case 5:An(l);break;case 4:Be();break;case 31:l.memoizedState!==null&&Ot(l);break;case 13:Ot(l);break;case 19:J(it);break;case 10:Un(l.type);break;case 22:case 23:Ot(l),$s(),n!==null&&J(Li);break;case 24:Un(ot)}}function wo(n,l){try{var r=l.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var m=u.next;r=m;do{if((r.tag&n)===n){u=void 0;var v=r.create,T=r.inst;u=v(),T.destroy=u}r=r.next}while(r!==m)}}catch(C){Ve(l,l.return,C)}}function si(n,l,r){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&n)===n){var T=u.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,m=l;var R=r,q=C;try{q()}catch(Y){Ve(m,R,Y)}}}u=u.next}while(u!==v)}}catch(Y){Ve(l,l.return,Y)}}function lh(n){var l=n.updateQueue;if(l!==null){var r=n.stateNode;try{Xd(l,r)}catch(u){Ve(n,n.return,u)}}}function oh(n,l,r){r.props=Gi(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(u){Ve(n,l,u)}}function bo(n,l){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof r=="function"?n.refCleanup=r(u):r.current=u}}catch(m){Ve(n,l,m)}}function En(n,l){var r=n.ref,u=n.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(m){Ve(n,l,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(m){Ve(n,l,m)}else r.current=null}function rh(n){var l=n.type,r=n.memoizedProps,u=n.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break e;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(m){Ve(n,n.return,m)}}function Nu(n,l,r){try{var u=n.stateNode;xE(u,n.type,r,l),u[Rt]=l}catch(m){Ve(n,n.return,m)}}function ah(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&mi(n.type)||n.tag===4}function Ru(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ah(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&mi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Mu(n,l,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,l?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,l):(l=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.appendChild(n),r=r._reactRootContainer,r!=null||l.onclick!==null||(l.onclick=Rn));else if(u!==4&&(u===27&&mi(n.type)&&(r=n.stateNode,l=null),n=n.child,n!==null))for(Mu(n,l,r),n=n.sibling;n!==null;)Mu(n,l,r),n=n.sibling}function Qr(n,l,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,l?r.insertBefore(n,l):r.appendChild(n);else if(u!==4&&(u===27&&mi(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(Qr(n,l,r),n=n.sibling;n!==null;)Qr(n,l,r),n=n.sibling}function sh(n){var l=n.stateNode,r=n.memoizedProps;try{for(var u=n.type,m=l.attributes;m.length;)l.removeAttributeNode(m[0]);St(l,u,r),l[mt]=n,l[Rt]=r}catch(v){Ve(n,n.return,v)}}var qn=!1,st=!1,Iu=!1,uh=typeof WeakSet=="function"?WeakSet:Set,pt=null;function iE(n,l){if(n=n.containerInfo,Wu=ga,n=Td(n),xs(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var m=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{r.nodeType,v.nodeType}catch{r=null;break e}var T=0,C=-1,R=-1,q=0,Y=0,$=n,V=null;t:for(;;){for(var B;$!==r||m!==0&&$.nodeType!==3||(C=T+m),$!==v||u!==0&&$.nodeType!==3||(R=T+u),$.nodeType===3&&(T+=$.nodeValue.length),(B=$.firstChild)!==null;)V=$,$=B;for(;;){if($===n)break t;if(V===r&&++q===m&&(C=T),V===v&&++Y===u&&(R=T),(B=$.nextSibling)!==null)break;$=V,V=$.parentNode}$=B}r=C===-1||R===-1?null:{start:C,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(ju={focusedElem:n,selectionRange:r},ga=!1,pt=l;pt!==null;)if(l=pt,n=l.child,(l.subtreeFlags&1028)!==0&&n!==null)n.return=l,pt=n;else for(;pt!==null;){switch(l=pt,v=l.alternate,n=l.flags,l.tag){case 0:if((n&4)!==0&&(n=l.updateQueue,n=n!==null?n.events:null,n!==null))for(r=0;r<n.length;r++)m=n[r],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,r=l,m=v.memoizedProps,v=v.memoizedState,u=r.stateNode;try{var ue=Gi(r.type,m);n=u.getSnapshotBeforeUpdate(ue,v),u.__reactInternalSnapshotBeforeUpdate=n}catch(me){Ve(r,r.return,me)}}break;case 3:if((n&1024)!==0){if(n=l.stateNode.containerInfo,r=n.nodeType,r===9)nc(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":nc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=l.sibling,n!==null){n.return=l.return,pt=n;break}pt=l.return}}function ch(n,l,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Vn(n,r),u&4&&wo(5,r);break;case 1:if(Vn(n,r),u&4)if(n=r.stateNode,l===null)try{n.componentDidMount()}catch(T){Ve(r,r.return,T)}else{var m=Gi(r.type,l.memoizedProps);l=l.memoizedState;try{n.componentDidUpdate(m,l,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Ve(r,r.return,T)}}u&64&&lh(r),u&512&&bo(r,r.return);break;case 3:if(Vn(n,r),u&64&&(n=r.updateQueue,n!==null)){if(l=null,r.child!==null)switch(r.child.tag){case 27:case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}try{Xd(n,l)}catch(T){Ve(r,r.return,T)}}break;case 27:l===null&&u&4&&sh(r);case 26:case 5:Vn(n,r),l===null&&u&4&&rh(r),u&512&&bo(r,r.return);break;case 12:Vn(n,r);break;case 31:Vn(n,r),u&4&&ph(n,r);break;case 13:Vn(n,r),u&4&&hh(n,r),u&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=dE.bind(null,r),DE(n,r))));break;case 22:if(u=r.memoizedState!==null||qn,!u){l=l!==null&&l.memoizedState!==null||st,m=qn;var v=st;qn=u,(st=l)&&!v?Bn(n,r,(r.subtreeFlags&8772)!==0):Vn(n,r),qn=m,st=v}break;case 30:break;default:Vn(n,r)}}function fh(n){var l=n.alternate;l!==null&&(n.alternate=null,fh(l)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(l=n.stateNode,l!==null&&as(l)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var je=null,It=!1;function Gn(n,l,r){for(r=r.child;r!==null;)dh(n,l,r),r=r.sibling}function dh(n,l,r){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(xt,r)}catch{}switch(r.tag){case 26:st||En(r,l),Gn(n,l,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:st||En(r,l);var u=je,m=It;mi(r.type)&&(je=r.stateNode,It=!1),Gn(n,l,r),Po(r.stateNode),je=u,It=m;break;case 5:st||En(r,l);case 6:if(u=je,m=It,je=null,Gn(n,l,r),je=u,It=m,je!==null)if(It)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(r.stateNode)}catch(v){Ve(r,l,v)}else try{je.removeChild(r.stateNode)}catch(v){Ve(r,l,v)}break;case 18:je!==null&&(It?(n=je,lm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),Ul(n)):lm(je,r.stateNode));break;case 4:u=je,m=It,je=r.stateNode.containerInfo,It=!0,Gn(n,l,r),je=u,It=m;break;case 0:case 11:case 14:case 15:si(2,r,l),st||si(4,r,l),Gn(n,l,r);break;case 1:st||(En(r,l),u=r.stateNode,typeof u.componentWillUnmount=="function"&&oh(r,l,u)),Gn(n,l,r);break;case 21:Gn(n,l,r);break;case 22:st=(u=st)||r.memoizedState!==null,Gn(n,l,r),st=u;break;default:Gn(n,l,r)}}function ph(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ul(n)}catch(r){Ve(l,l.return,r)}}}function hh(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ul(n)}catch(r){Ve(l,l.return,r)}}function lE(n){switch(n.tag){case 31:case 13:case 19:var l=n.stateNode;return l===null&&(l=n.stateNode=new uh),l;case 22:return n=n.stateNode,l=n._retryCache,l===null&&(l=n._retryCache=new uh),l;default:throw Error(o(435,n.tag))}}function $r(n,l){var r=lE(n);l.forEach(function(u){if(!r.has(u)){r.add(u);var m=pE.bind(null,n,u);u.then(m,m)}})}function Dt(n,l){var r=l.deletions;if(r!==null)for(var u=0;u<r.length;u++){var m=r[u],v=n,T=l,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(mi(C.type)){je=C.stateNode,It=!1;break e}break;case 5:je=C.stateNode,It=!1;break e;case 3:case 4:je=C.stateNode.containerInfo,It=!0;break e}C=C.return}if(je===null)throw Error(o(160));dh(v,T,m),je=null,It=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)mh(l,n),l=l.sibling}var pn=null;function mh(n,l){var r=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dt(l,n),kt(n),u&4&&(si(3,n,n.return),wo(3,n),si(5,n,n.return));break;case 1:Dt(l,n),kt(n),u&512&&(st||r===null||En(r,r.return)),u&64&&qn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var m=pn;if(Dt(l,n),kt(n),u&512&&(st||r===null||En(r,r.return)),u&4){var v=r!==null?r.memoizedState:null;if(u=n.memoizedState,r===null)if(u===null)if(n.stateNode===null){e:{u=n.type,r=n.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":v=m.getElementsByTagName("title")[0],(!v||v[jl]||v[mt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(u),m.head.insertBefore(v,m.querySelector("head > title"))),St(v,u,r),v[mt]=n,dt(v),u=v;break e;case"link":var T=mm("link","href",m).get(u+(r.href||""));if(T){for(var C=0;C<T.length;C++)if(v=T[C],v.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&v.getAttribute("rel")===(r.rel==null?null:r.rel)&&v.getAttribute("title")===(r.title==null?null:r.title)&&v.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(C,1);break t}}v=m.createElement(u),St(v,u,r),m.head.appendChild(v);break;case"meta":if(T=mm("meta","content",m).get(u+(r.content||""))){for(C=0;C<T.length;C++)if(v=T[C],v.getAttribute("content")===(r.content==null?null:""+r.content)&&v.getAttribute("name")===(r.name==null?null:r.name)&&v.getAttribute("property")===(r.property==null?null:r.property)&&v.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&v.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(C,1);break t}}v=m.createElement(u),St(v,u,r),m.head.appendChild(v);break;default:throw Error(o(468,u))}v[mt]=n,dt(v),u=v}n.stateNode=u}else gm(m,n.type,n.stateNode);else n.stateNode=hm(m,u,n.memoizedProps);else v!==u?(v===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):v.count--,u===null?gm(m,n.type,n.stateNode):hm(m,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Nu(n,n.memoizedProps,r.memoizedProps)}break;case 27:Dt(l,n),kt(n),u&512&&(st||r===null||En(r,r.return)),r!==null&&u&4&&Nu(n,n.memoizedProps,r.memoizedProps);break;case 5:if(Dt(l,n),kt(n),u&512&&(st||r===null||En(r,r.return)),n.flags&32){m=n.stateNode;try{il(m,"")}catch(ue){Ve(n,n.return,ue)}}u&4&&n.stateNode!=null&&(m=n.memoizedProps,Nu(n,m,r!==null?r.memoizedProps:m)),u&1024&&(Iu=!0);break;case 6:if(Dt(l,n),kt(n),u&4){if(n.stateNode===null)throw Error(o(162));u=n.memoizedProps,r=n.stateNode;try{r.nodeValue=u}catch(ue){Ve(n,n.return,ue)}}break;case 3:if(da=null,m=pn,pn=ca(l.containerInfo),Dt(l,n),pn=m,kt(n),u&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(l.containerInfo)}catch(ue){Ve(n,n.return,ue)}Iu&&(Iu=!1,gh(n));break;case 4:u=pn,pn=ca(n.stateNode.containerInfo),Dt(l,n),kt(n),pn=u;break;case 12:Dt(l,n),kt(n);break;case 31:Dt(l,n),kt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,$r(n,u)));break;case 13:Dt(l,n),kt(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wr=Ct()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,$r(n,u)));break;case 22:m=n.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,q=qn,Y=st;if(qn=q||m,st=Y||R,Dt(l,n),st=Y,qn=q,kt(n),u&8192)e:for(l=n.stateNode,l._visibility=m?l._visibility&-2:l._visibility|1,m&&(r===null||R||qn||st||Vi(n)),r=null,l=n;;){if(l.tag===5||l.tag===26){if(r===null){R=r=l;try{if(v=R.stateNode,m)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=R.stateNode;var $=R.memoizedProps.style,V=$!=null&&$.hasOwnProperty("display")?$.display:null;C.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(ue){Ve(R,R.return,ue)}}}else if(l.tag===6){if(r===null){R=l;try{R.stateNode.nodeValue=m?"":R.memoizedProps}catch(ue){Ve(R,R.return,ue)}}}else if(l.tag===18){if(r===null){R=l;try{var B=R.stateNode;m?om(B,!0):om(R.stateNode,!1)}catch(ue){Ve(R,R.return,ue)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===n)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break e;for(;l.sibling===null;){if(l.return===null||l.return===n)break e;r===l&&(r=null),l=l.return}r===l&&(r=null),l.sibling.return=l.return,l=l.sibling}u&4&&(u=n.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,$r(n,r))));break;case 19:Dt(l,n),kt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,$r(n,u)));break;case 30:break;case 21:break;default:Dt(l,n),kt(n)}}function kt(n){var l=n.flags;if(l&2){try{for(var r,u=n.return;u!==null;){if(ah(u)){r=u;break}u=u.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var m=r.stateNode,v=Ru(n);Qr(n,v,m);break;case 5:var T=r.stateNode;r.flags&32&&(il(T,""),r.flags&=-33);var C=Ru(n);Qr(n,C,T);break;case 3:case 4:var R=r.stateNode.containerInfo,q=Ru(n);Mu(n,q,R);break;default:throw Error(o(161))}}catch(Y){Ve(n,n.return,Y)}n.flags&=-3}l&4096&&(n.flags&=-4097)}function gh(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var l=n;gh(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),n=n.sibling}}function Vn(n,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)ch(n,l.alternate,l),l=l.sibling}function Vi(n){for(n=n.child;n!==null;){var l=n;switch(l.tag){case 0:case 11:case 14:case 15:si(4,l,l.return),Vi(l);break;case 1:En(l,l.return);var r=l.stateNode;typeof r.componentWillUnmount=="function"&&oh(l,l.return,r),Vi(l);break;case 27:Po(l.stateNode);case 26:case 5:En(l,l.return),Vi(l);break;case 22:l.memoizedState===null&&Vi(l);break;case 30:Vi(l);break;default:Vi(l)}n=n.sibling}}function Bn(n,l,r){for(r=r&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var u=l.alternate,m=n,v=l,T=v.flags;switch(v.tag){case 0:case 11:case 15:Bn(m,v,r),wo(4,v);break;case 1:if(Bn(m,v,r),u=v,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){Ve(u,u.return,q)}if(u=v,m=u.updateQueue,m!==null){var C=u.stateNode;try{var R=m.shared.hiddenCallbacks;if(R!==null)for(m.shared.hiddenCallbacks=null,m=0;m<R.length;m++)Kd(R[m],C)}catch(q){Ve(u,u.return,q)}}r&&T&64&&lh(v),bo(v,v.return);break;case 27:sh(v);case 26:case 5:Bn(m,v,r),r&&u===null&&T&4&&rh(v),bo(v,v.return);break;case 12:Bn(m,v,r);break;case 31:Bn(m,v,r),r&&T&4&&ph(m,v);break;case 13:Bn(m,v,r),r&&T&4&&hh(m,v);break;case 22:v.memoizedState===null&&Bn(m,v,r),bo(v,v.return);break;case 30:break;default:Bn(m,v,r)}l=l.sibling}}function Du(n,l){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(n=l.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&po(r))}function ku(n,l){n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&po(n))}function hn(n,l,r,u){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)yh(n,l,r,u),l=l.sibling}function yh(n,l,r,u){var m=l.flags;switch(l.tag){case 0:case 11:case 15:hn(n,l,r,u),m&2048&&wo(9,l);break;case 1:hn(n,l,r,u);break;case 3:hn(n,l,r,u),m&2048&&(n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&po(n)));break;case 12:if(m&2048){hn(n,l,r,u),n=l.stateNode;try{var v=l.memoizedProps,T=v.id,C=v.onPostCommit;typeof C=="function"&&C(T,l.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){Ve(l,l.return,R)}}else hn(n,l,r,u);break;case 31:hn(n,l,r,u);break;case 13:hn(n,l,r,u);break;case 23:break;case 22:v=l.stateNode,T=l.alternate,l.memoizedState!==null?v._visibility&2?hn(n,l,r,u):No(n,l):v._visibility&2?hn(n,l,r,u):(v._visibility|=2,Cl(n,l,r,u,(l.subtreeFlags&10256)!==0||!1)),m&2048&&Du(T,l);break;case 24:hn(n,l,r,u),m&2048&&ku(l.alternate,l);break;default:hn(n,l,r,u)}}function Cl(n,l,r,u,m){for(m=m&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var v=n,T=l,C=r,R=u,q=T.flags;switch(T.tag){case 0:case 11:case 15:Cl(v,T,C,R,m),wo(8,T);break;case 23:break;case 22:var Y=T.stateNode;T.memoizedState!==null?Y._visibility&2?Cl(v,T,C,R,m):No(v,T):(Y._visibility|=2,Cl(v,T,C,R,m)),m&&q&2048&&Du(T.alternate,T);break;case 24:Cl(v,T,C,R,m),m&&q&2048&&ku(T.alternate,T);break;default:Cl(v,T,C,R,m)}l=l.sibling}}function No(n,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var r=n,u=l,m=u.flags;switch(u.tag){case 22:No(r,u),m&2048&&Du(u.alternate,u);break;case 24:No(r,u),m&2048&&ku(u.alternate,u);break;default:No(r,u)}l=l.sibling}}var Ro=8192;function xl(n,l,r){if(n.subtreeFlags&Ro)for(n=n.child;n!==null;)vh(n,l,r),n=n.sibling}function vh(n,l,r){switch(n.tag){case 26:xl(n,l,r),n.flags&Ro&&n.memoizedState!==null&&FE(r,pn,n.memoizedState,n.memoizedProps);break;case 5:xl(n,l,r);break;case 3:case 4:var u=pn;pn=ca(n.stateNode.containerInfo),xl(n,l,r),pn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Ro,Ro=16777216,xl(n,l,r),Ro=u):xl(n,l,r));break;default:xl(n,l,r)}}function Sh(n){var l=n.alternate;if(l!==null&&(n=l.child,n!==null)){l.child=null;do l=n.sibling,n.sibling=null,n=l;while(n!==null)}}function Mo(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var r=0;r<l.length;r++){var u=l[r];pt=u,Th(u,n)}Sh(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Eh(n),n=n.sibling}function Eh(n){switch(n.tag){case 0:case 11:case 15:Mo(n),n.flags&2048&&si(9,n,n.return);break;case 3:Mo(n);break;case 12:Mo(n);break;case 22:var l=n.stateNode;n.memoizedState!==null&&l._visibility&2&&(n.return===null||n.return.tag!==13)?(l._visibility&=-3,Zr(n)):Mo(n);break;default:Mo(n)}}function Zr(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var r=0;r<l.length;r++){var u=l[r];pt=u,Th(u,n)}Sh(n)}for(n=n.child;n!==null;){switch(l=n,l.tag){case 0:case 11:case 15:si(8,l,l.return),Zr(l);break;case 22:r=l.stateNode,r._visibility&2&&(r._visibility&=-3,Zr(l));break;default:Zr(l)}n=n.sibling}}function Th(n,l){for(;pt!==null;){var r=pt;switch(r.tag){case 0:case 11:case 15:si(8,r,l);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:po(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,pt=u;else e:for(r=n;pt!==null;){u=pt;var m=u.sibling,v=u.return;if(fh(u),u===r){pt=null;break e}if(m!==null){m.return=v,pt=m;break e}pt=v}}}var oE={getCacheForType:function(n){var l=yt(ot),r=l.data.get(n);return r===void 0&&(r=n(),l.data.set(n,r)),r},cacheSignal:function(){return yt(ot).controller.signal}},rE=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Ke=null,be=null,Me=0,Ge=0,Ft=null,ui=!1,Al=!1,Uu=!1,On=0,nt=0,ci=0,Bi=0,Lu=0,Yt=0,wl=0,Io=null,Ut=null,Pu=!1,Wr=0,_h=0,jr=1/0,ea=null,fi=null,ft=0,di=null,bl=null,Fn=0,zu=0,Hu=null,Ch=null,Do=0,qu=null;function Jt(){return(Pe&2)!==0&&Me!==0?Me&-Me:z.T!==null?Yu():qf()}function xh(){if(Yt===0)if((Me&536870912)===0||De){var n=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),Yt=n}else Yt=536870912;return n=Bt.current,n!==null&&(n.flags|=32),Yt}function Lt(n,l,r){(n===Ke&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)&&(Nl(n,0),pi(n,Me,Yt,!1)),Wl(n,r),((Pe&2)===0||n!==Ke)&&(n===Ke&&((Pe&2)===0&&(Bi|=r),nt===4&&pi(n,Me,Yt,!1)),Tn(n))}function Ah(n,l,r){if((Pe&6)!==0)throw Error(o(327));var u=!r&&(l&127)===0&&(l&n.expiredLanes)===0||Zl(n,l),m=u?uE(n,l):Vu(n,l,!0),v=u;do{if(m===0){Al&&!u&&pi(n,l,0,!1);break}else{if(r=n.current.alternate,v&&!aE(r)){m=Vu(n,l,!1),v=!1;continue}if(m===2){if(v=l,n.errorRecoveryDisabledLanes&v)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){l=T;e:{var C=n;m=Io;var R=C.current.memoizedState.isDehydrated;if(R&&(Nl(C,T).flags|=256),T=Vu(C,T,!1),T!==2){if(Uu&&!R){C.errorRecoveryDisabledLanes|=v,Bi|=v,m=4;break e}v=Ut,Ut=m,v!==null&&(Ut===null?Ut=v:Ut.push.apply(Ut,v))}m=T}if(v=!1,m!==2)continue}}if(m===1){Nl(n,0),pi(n,l,0,!0);break}e:{switch(u=n,v=m,v){case 0:case 1:throw Error(o(345));case 4:if((l&4194048)!==l)break;case 6:pi(u,l,Yt,!ui);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(o(329))}if((l&62914560)===l&&(m=Wr+300-Ct(),10<m)){if(pi(u,l,Yt,!ui),cr(u,0,!0)!==0)break e;Fn=l,u.timeoutHandle=nm(wh.bind(null,u,r,Ut,ea,Pu,l,Yt,Bi,wl,ui,v,"Throttled",-0,0),m);break e}wh(u,r,Ut,ea,Pu,l,Yt,Bi,wl,ui,v,null,-0,0)}}break}while(!0);Tn(n)}function wh(n,l,r,u,m,v,T,C,R,q,Y,$,V,B){if(n.timeoutHandle=-1,$=l.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},vh(l,v,$);var ue=(v&62914560)===v?Wr-Ct():(v&4194048)===v?_h-Ct():0;if(ue=YE($,ue),ue!==null){Fn=v,n.cancelPendingCommit=ue(Uh.bind(null,n,l,v,r,u,m,T,C,R,Y,$,null,V,B)),pi(n,v,T,!q);return}}Uh(n,l,v,r,u,m,T,C,R)}function aE(n){for(var l=n;;){var r=l.tag;if((r===0||r===11||r===15)&&l.flags&16384&&(r=l.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var m=r[u],v=m.getSnapshot;m=m.value;try{if(!Gt(v(),m))return!1}catch{return!1}}if(r=l.child,l.subtreeFlags&16384&&r!==null)r.return=l,l=r;else{if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function pi(n,l,r,u){l&=~Lu,l&=~Bi,n.suspendedLanes|=l,n.pingedLanes&=~l,u&&(n.warmLanes|=l),u=n.expirationTimes;for(var m=l;0<m;){var v=31-Je(m),T=1<<v;u[v]=-1,m&=~T}r!==0&&Pf(n,r,l)}function ta(){return(Pe&6)===0?(ko(0),!1):!0}function Gu(){if(be!==null){if(Ge===0)var n=be.return;else n=be,kn=ki=null,nu(n),vl=null,mo=0,n=be;for(;n!==null;)ih(n.alternate,n),n=n.return;be=null}}function Nl(n,l){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,bE(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),Fn=0,Gu(),Ke=n,be=r=In(n.current,null),Me=l,Ge=0,Ft=null,ui=!1,Al=Zl(n,l),Uu=!1,wl=Yt=Lu=Bi=ci=nt=0,Ut=Io=null,Pu=!1,(l&8)!==0&&(l|=l&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=l;0<u;){var m=31-Je(u),v=1<<m;l|=n[m],u&=~v}return On=l,_r(),r}function bh(n,l){Te=null,z.H=Co,l===yl||l===Mr?(l=Od(),Ge=3):l===Fs?(l=Od(),Ge=4):Ge=l===vu?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ft=l,be===null&&(nt=1,Fr(n,jt(l,n.current)))}function Nh(){var n=Bt.current;return n===null?!0:(Me&4194048)===Me?ln===null:(Me&62914560)===Me||(Me&536870912)!==0?n===ln:!1}function Rh(){var n=z.H;return z.H=Co,n===null?Co:n}function Mh(){var n=z.A;return z.A=oE,n}function na(){nt=4,ui||(Me&4194048)!==Me&&Bt.current!==null||(Al=!0),(ci&134217727)===0&&(Bi&134217727)===0||Ke===null||pi(Ke,Me,Yt,!1)}function Vu(n,l,r){var u=Pe;Pe|=2;var m=Rh(),v=Mh();(Ke!==n||Me!==l)&&(ea=null,Nl(n,l)),l=!1;var T=nt;e:do try{if(Ge!==0&&be!==null){var C=be,R=Ft;switch(Ge){case 8:Gu(),T=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(l=!0);var q=Ge;if(Ge=0,Ft=null,Rl(n,C,R,q),r&&Al){T=0;break e}break;default:q=Ge,Ge=0,Ft=null,Rl(n,C,R,q)}}sE(),T=nt;break}catch(Y){bh(n,Y)}while(!0);return l&&n.shellSuspendCounter++,kn=ki=null,Pe=u,z.H=m,z.A=v,be===null&&(Ke=null,Me=0,_r()),T}function sE(){for(;be!==null;)Ih(be)}function uE(n,l){var r=Pe;Pe|=2;var u=Rh(),m=Mh();Ke!==n||Me!==l?(ea=null,jr=Ct()+500,Nl(n,l)):Al=Zl(n,l);e:do try{if(Ge!==0&&be!==null){l=be;var v=Ft;t:switch(Ge){case 1:Ge=0,Ft=null,Rl(n,l,v,1);break;case 2:case 9:if(Vd(v)){Ge=0,Ft=null,Dh(l);break}l=function(){Ge!==2&&Ge!==9||Ke!==n||(Ge=7),Tn(n)},v.then(l,l);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Vd(v)?(Ge=0,Ft=null,Dh(l)):(Ge=0,Ft=null,Rl(n,l,v,7));break;case 5:var T=null;switch(be.tag){case 26:T=be.memoizedState;case 5:case 27:var C=be;if(T?ym(T):C.stateNode.complete){Ge=0,Ft=null;var R=C.sibling;if(R!==null)be=R;else{var q=C.return;q!==null?(be=q,ia(q)):be=null}break t}}Ge=0,Ft=null,Rl(n,l,v,5);break;case 6:Ge=0,Ft=null,Rl(n,l,v,6);break;case 8:Gu(),nt=6;break e;default:throw Error(o(462))}}cE();break}catch(Y){bh(n,Y)}while(!0);return kn=ki=null,z.H=u,z.A=m,Pe=r,be!==null?0:(Ke=null,Me=0,_r(),nt)}function cE(){for(;be!==null&&!es();)Ih(be)}function Ih(n){var l=th(n.alternate,n,On);n.memoizedProps=n.pendingProps,l===null?ia(n):be=l}function Dh(n){var l=n,r=l.alternate;switch(l.tag){case 15:case 0:l=Qp(r,l,l.pendingProps,l.type,void 0,Me);break;case 11:l=Qp(r,l,l.pendingProps,l.type.render,l.ref,Me);break;case 5:nu(l);default:ih(r,l),l=be=Md(l,On),l=th(r,l,On)}n.memoizedProps=n.pendingProps,l===null?ia(n):be=l}function Rl(n,l,r,u){kn=ki=null,nu(l),vl=null,mo=0;var m=l.return;try{if(WS(n,m,l,r,Me)){nt=1,Fr(n,jt(r,n.current)),be=null;return}}catch(v){if(m!==null)throw be=m,v;nt=1,Fr(n,jt(r,n.current)),be=null;return}l.flags&32768?(De||u===1?n=!0:Al||(Me&536870912)!==0?n=!1:(ui=n=!0,(u===2||u===9||u===3||u===6)&&(u=Bt.current,u!==null&&u.tag===13&&(u.flags|=16384))),kh(l,n)):ia(l)}function ia(n){var l=n;do{if((l.flags&32768)!==0){kh(l,ui);return}n=l.return;var r=tE(l.alternate,l,On);if(r!==null){be=r;return}if(l=l.sibling,l!==null){be=l;return}be=l=n}while(l!==null);nt===0&&(nt=5)}function kh(n,l){do{var r=nE(n.alternate,n);if(r!==null){r.flags&=32767,be=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!l&&(n=n.sibling,n!==null)){be=n;return}be=n=r}while(n!==null);nt=6,be=null}function Uh(n,l,r,u,m,v,T,C,R){n.cancelPendingCommit=null;do la();while(ft!==0);if((Pe&6)!==0)throw Error(o(327));if(l!==null){if(l===n.current)throw Error(o(177));if(v=l.lanes|l.childLanes,v|=Rs,Ov(n,r,v,T,C,R),n===Ke&&(be=Ke=null,Me=0),bl=l,di=n,Fn=r,zu=v,Hu=m,Ch=u,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,hE(ye,function(){return qh(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,m=W.p,W.p=2,T=Pe,Pe|=4;try{iE(n,l,r)}finally{Pe=T,W.p=m,z.T=u}}ft=1,Lh(),Ph(),zh()}}function Lh(){if(ft===1){ft=0;var n=di,l=bl,r=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||r){r=z.T,z.T=null;var u=W.p;W.p=2;var m=Pe;Pe|=4;try{mh(l,n);var v=ju,T=Td(n.containerInfo),C=v.focusedElem,R=v.selectionRange;if(T!==C&&C&&C.ownerDocument&&Ed(C.ownerDocument.documentElement,C)){if(R!==null&&xs(C)){var q=R.start,Y=R.end;if(Y===void 0&&(Y=q),"selectionStart"in C)C.selectionStart=q,C.selectionEnd=Math.min(Y,C.value.length);else{var $=C.ownerDocument||document,V=$&&$.defaultView||window;if(V.getSelection){var B=V.getSelection(),ue=C.textContent.length,me=Math.min(R.start,ue),Ye=R.end===void 0?me:Math.min(R.end,ue);!B.extend&&me>Ye&&(T=Ye,Ye=me,me=T);var L=Sd(C,me),k=Sd(C,Ye);if(L&&k&&(B.rangeCount!==1||B.anchorNode!==L.node||B.anchorOffset!==L.offset||B.focusNode!==k.node||B.focusOffset!==k.offset)){var H=$.createRange();H.setStart(L.node,L.offset),B.removeAllRanges(),me>Ye?(B.addRange(H),B.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),B.addRange(H))}}}}for($=[],B=C;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<$.length;C++){var X=$[C];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}ga=!!Wu,ju=Wu=null}finally{Pe=m,W.p=u,z.T=r}}n.current=l,ft=2}}function Ph(){if(ft===2){ft=0;var n=di,l=bl,r=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||r){r=z.T,z.T=null;var u=W.p;W.p=2;var m=Pe;Pe|=4;try{ch(n,l.alternate,l)}finally{Pe=m,W.p=u,z.T=r}}ft=3}}function zh(){if(ft===4||ft===3){ft=0,ts();var n=di,l=bl,r=Fn,u=Ch;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ft=5:(ft=0,bl=di=null,Hh(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(fi=null),os(r),l=l.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(xt,l,void 0,(l.current.flags&128)===128)}catch{}if(u!==null){l=z.T,m=W.p,W.p=2,z.T=null;try{for(var v=n.onRecoverableError,T=0;T<u.length;T++){var C=u[T];v(C.value,{componentStack:C.stack})}}finally{z.T=l,W.p=m}}(Fn&3)!==0&&la(),Tn(n),m=n.pendingLanes,(r&261930)!==0&&(m&42)!==0?n===qu?Do++:(Do=0,qu=n):Do=0,ko(0)}}function Hh(n,l){(n.pooledCacheLanes&=l)===0&&(l=n.pooledCache,l!=null&&(n.pooledCache=null,po(l)))}function la(){return Lh(),Ph(),zh(),qh()}function qh(){if(ft!==5)return!1;var n=di,l=zu;zu=0;var r=os(Fn),u=z.T,m=W.p;try{W.p=32>r?32:r,z.T=null,r=Hu,Hu=null;var v=di,T=Fn;if(ft=0,bl=di=null,Fn=0,(Pe&6)!==0)throw Error(o(331));var C=Pe;if(Pe|=4,Eh(v.current),yh(v,v.current,T,r),Pe=C,ko(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(xt,v)}catch{}return!0}finally{W.p=m,z.T=u,Hh(n,l)}}function Gh(n,l,r){l=jt(r,l),l=yu(n.stateNode,l,2),n=oi(n,l,2),n!==null&&(Wl(n,2),Tn(n))}function Ve(n,l,r){if(n.tag===3)Gh(n,n,r);else for(;l!==null;){if(l.tag===3){Gh(l,n,r);break}else if(l.tag===1){var u=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fi===null||!fi.has(u))){n=jt(r,n),r=Vp(2),u=oi(l,r,2),u!==null&&(Bp(r,u,l,n),Wl(u,2),Tn(u));break}}l=l.return}}function Bu(n,l,r){var u=n.pingCache;if(u===null){u=n.pingCache=new rE;var m=new Set;u.set(l,m)}else m=u.get(l),m===void 0&&(m=new Set,u.set(l,m));m.has(r)||(Uu=!0,m.add(r),n=fE.bind(null,n,l,r),l.then(n,n))}function fE(n,l,r){var u=n.pingCache;u!==null&&u.delete(l),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,Ke===n&&(Me&r)===r&&(nt===4||nt===3&&(Me&62914560)===Me&&300>Ct()-Wr?(Pe&2)===0&&Nl(n,0):Lu|=r,wl===Me&&(wl=0)),Tn(n)}function Vh(n,l){l===0&&(l=Lf()),n=Mi(n,l),n!==null&&(Wl(n,l),Tn(n))}function dE(n){var l=n.memoizedState,r=0;l!==null&&(r=l.retryLane),Vh(n,r)}function pE(n,l){var r=0;switch(n.tag){case 31:case 13:var u=n.stateNode,m=n.memoizedState;m!==null&&(r=m.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(l),Vh(n,r)}function hE(n,l){return $i(n,l)}var oa=null,Ml=null,Ou=!1,ra=!1,Fu=!1,hi=0;function Tn(n){n!==Ml&&n.next===null&&(Ml===null?oa=Ml=n:Ml=Ml.next=n),ra=!0,Ou||(Ou=!0,gE())}function ko(n,l){if(!Fu&&ra){Fu=!0;do for(var r=!1,u=oa;u!==null;){if(n!==0){var m=u.pendingLanes;if(m===0)var v=0;else{var T=u.suspendedLanes,C=u.pingedLanes;v=(1<<31-Je(42|n)+1)-1,v&=m&~(T&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(r=!0,Yh(u,v))}else v=Me,v=cr(u,u===Ke?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Zl(u,v)||(r=!0,Yh(u,v));u=u.next}while(r);Fu=!1}}function mE(){Bh()}function Bh(){ra=Ou=!1;var n=0;hi!==0&&wE()&&(n=hi);for(var l=Ct(),r=null,u=oa;u!==null;){var m=u.next,v=Oh(u,l);v===0?(u.next=null,r===null?oa=m:r.next=m,m===null&&(Ml=r)):(r=u,(n!==0||(v&3)!==0)&&(ra=!0)),u=m}ft!==0&&ft!==5||ko(n),hi!==0&&(hi=0)}function Oh(n,l){for(var r=n.suspendedLanes,u=n.pingedLanes,m=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var T=31-Je(v),C=1<<T,R=m[T];R===-1?((C&r)===0||(C&u)!==0)&&(m[T]=Bv(C,l)):R<=l&&(n.expiredLanes|=C),v&=~C}if(l=Ke,r=Me,r=cr(n,n===l?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,r===0||n===l&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&$l(u),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||Zl(n,r)){if(l=r&-r,l===n.callbackPriority)return l;switch(u!==null&&$l(u),os(r)){case 2:case 8:r=ne;break;case 32:r=ye;break;case 268435456:r=qe;break;default:r=ye}return u=Fh.bind(null,n),r=$i(r,u),n.callbackPriority=l,n.callbackNode=r,l}return u!==null&&u!==null&&$l(u),n.callbackPriority=2,n.callbackNode=null,2}function Fh(n,l){if(ft!==0&&ft!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(la()&&n.callbackNode!==r)return null;var u=Me;return u=cr(n,n===Ke?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Ah(n,u,l),Oh(n,Ct()),n.callbackNode!=null&&n.callbackNode===r?Fh.bind(null,n):null)}function Yh(n,l){if(la())return null;Ah(n,l,!0)}function gE(){NE(function(){(Pe&6)!==0?$i(K,mE):Bh()})}function Yu(){if(hi===0){var n=ml;n===0&&(n=ar,ar<<=1,(ar&261888)===0&&(ar=256)),hi=n}return hi}function Jh(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:hr(""+n)}function Kh(n,l){var r=l.ownerDocument.createElement("input");return r.name=l.name,r.value=l.value,n.id&&r.setAttribute("form",n.id),l.parentNode.insertBefore(r,l),n=new FormData(n),r.parentNode.removeChild(r),n}function yE(n,l,r,u,m){if(l==="submit"&&r&&r.stateNode===m){var v=Jh((m[Rt]||null).action),T=u.submitter;T&&(l=(l=T[Rt]||null)?Jh(l.formAction):T.getAttribute("formAction"),l!==null&&(v=l,T=null));var C=new vr("action","action",null,u,m);n.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(hi!==0){var R=T?Kh(m,T):new FormData(m);fu(r,{pending:!0,data:R,method:m.method,action:v},null,R)}}else typeof v=="function"&&(C.preventDefault(),R=T?Kh(m,T):new FormData(m),fu(r,{pending:!0,data:R,method:m.method,action:v},v,R))},currentTarget:m}]})}}for(var Ju=0;Ju<Ns.length;Ju++){var Ku=Ns[Ju],vE=Ku.toLowerCase(),SE=Ku[0].toUpperCase()+Ku.slice(1);dn(vE,"on"+SE)}dn(xd,"onAnimationEnd"),dn(Ad,"onAnimationIteration"),dn(wd,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(LS,"onTransitionRun"),dn(PS,"onTransitionStart"),dn(zS,"onTransitionCancel"),dn(bd,"onTransitionEnd"),tl("onMouseEnter",["mouseout","mouseover"]),tl("onMouseLeave",["mouseout","mouseover"]),tl("onPointerEnter",["pointerout","pointerover"]),tl("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uo));function Xh(n,l){l=(l&4)!==0;for(var r=0;r<n.length;r++){var u=n[r],m=u.event;u=u.listeners;e:{var v=void 0;if(l)for(var T=u.length-1;0<=T;T--){var C=u[T],R=C.instance,q=C.currentTarget;if(C=C.listener,R!==v&&m.isPropagationStopped())break e;v=C,m.currentTarget=q;try{v(m)}catch(Y){Tr(Y)}m.currentTarget=null,v=R}else for(T=0;T<u.length;T++){if(C=u[T],R=C.instance,q=C.currentTarget,C=C.listener,R!==v&&m.isPropagationStopped())break e;v=C,m.currentTarget=q;try{v(m)}catch(Y){Tr(Y)}m.currentTarget=null,v=R}}}}function Ne(n,l){var r=l[rs];r===void 0&&(r=l[rs]=new Set);var u=n+"__bubble";r.has(u)||(Qh(l,n,2,!1),r.add(u))}function Xu(n,l,r){var u=0;l&&(u|=4),Qh(r,n,u,l)}var aa="_reactListening"+Math.random().toString(36).slice(2);function Qu(n){if(!n[aa]){n[aa]=!0,Bf.forEach(function(r){r!=="selectionchange"&&(EE.has(r)||Xu(r,!1,n),Xu(r,!0,n))});var l=n.nodeType===9?n:n.ownerDocument;l===null||l[aa]||(l[aa]=!0,Xu("selectionchange",!1,l))}}function Qh(n,l,r,u){switch(xm(l)){case 2:var m=XE;break;case 8:m=QE;break;default:m=cc}r=m.bind(null,l,r,n),m=void 0,!ms||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(m=!0),u?m!==void 0?n.addEventListener(l,r,{capture:!0,passive:m}):n.addEventListener(l,r,!0):m!==void 0?n.addEventListener(l,r,{passive:m}):n.addEventListener(l,r,!1)}function $u(n,l,r,u,m){var v=u;if((l&1)===0&&(l&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var C=u.stateNode.containerInfo;if(C===m)break;if(T===4)for(T=u.return;T!==null;){var R=T.tag;if((R===3||R===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;C!==null;){if(T=Wi(C),T===null)return;if(R=T.tag,R===5||R===6||R===26||R===27){u=v=T;continue e}C=C.parentNode}}u=u.return}ed(function(){var q=v,Y=ps(r),$=[];e:{var V=Nd.get(n);if(V!==void 0){var B=vr,ue=n;switch(n){case"keypress":if(gr(r)===0)break e;case"keydown":case"keyup":B=pS;break;case"focusin":ue="focus",B=Ss;break;case"focusout":ue="blur",B=Ss;break;case"beforeblur":case"afterblur":B=Ss;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=tS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=gS;break;case xd:case Ad:case wd:B=lS;break;case bd:B=vS;break;case"scroll":case"scrollend":B=jv;break;case"wheel":B=ES;break;case"copy":case"cut":case"paste":B=rS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=od;break;case"toggle":case"beforetoggle":B=_S}var me=(l&4)!==0,Ye=!me&&(n==="scroll"||n==="scrollend"),L=me?V!==null?V+"Capture":null:V;me=[];for(var k=q,H;k!==null;){var X=k;if(H=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||H===null||L===null||(X=to(k,L),X!=null&&me.push(Lo(k,X,H))),Ye)break;k=k.return}0<me.length&&(V=new B(V,ue,null,r,Y),$.push({event:V,listeners:me}))}}if((l&7)===0){e:{if(V=n==="mouseover"||n==="pointerover",B=n==="mouseout"||n==="pointerout",V&&r!==ds&&(ue=r.relatedTarget||r.fromElement)&&(Wi(ue)||ue[Zi]))break e;if((B||V)&&(V=Y.window===Y?Y:(V=Y.ownerDocument)?V.defaultView||V.parentWindow:window,B?(ue=r.relatedTarget||r.toElement,B=q,ue=ue?Wi(ue):null,ue!==null&&(Ye=s(ue),me=ue.tag,ue!==Ye||me!==5&&me!==27&&me!==6)&&(ue=null)):(B=null,ue=q),B!==ue)){if(me=id,X="onMouseLeave",L="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(me=od,X="onPointerLeave",L="onPointerEnter",k="pointer"),Ye=B==null?V:eo(B),H=ue==null?V:eo(ue),V=new me(X,k+"leave",B,r,Y),V.target=Ye,V.relatedTarget=H,X=null,Wi(Y)===q&&(me=new me(L,k+"enter",ue,r,Y),me.target=H,me.relatedTarget=Ye,X=me),Ye=X,B&&ue)t:{for(me=TE,L=B,k=ue,H=0,X=L;X;X=me(X))H++;X=0;for(var he=k;he;he=me(he))X++;for(;0<H-X;)L=me(L),H--;for(;0<X-H;)k=me(k),X--;for(;H--;){if(L===k||k!==null&&L===k.alternate){me=L;break t}L=me(L),k=me(k)}me=null}else me=null;B!==null&&$h($,V,B,me,!1),ue!==null&&Ye!==null&&$h($,Ye,ue,me,!0)}}e:{if(V=q?eo(q):window,B=V.nodeName&&V.nodeName.toLowerCase(),B==="select"||B==="input"&&V.type==="file")var ke=pd;else if(fd(V))if(hd)ke=DS;else{ke=MS;var ce=RS}else B=V.nodeName,!B||B.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?q&&fs(q.elementType)&&(ke=pd):ke=IS;if(ke&&(ke=ke(n,q))){dd($,ke,r,Y);break e}ce&&ce(n,V,q),n==="focusout"&&q&&V.type==="number"&&q.memoizedProps.value!=null&&cs(V,"number",V.value)}switch(ce=q?eo(q):window,n){case"focusin":(fd(ce)||ce.contentEditable==="true")&&(al=ce,As=q,uo=null);break;case"focusout":uo=As=al=null;break;case"mousedown":ws=!0;break;case"contextmenu":case"mouseup":case"dragend":ws=!1,_d($,r,Y);break;case"selectionchange":if(US)break;case"keydown":case"keyup":_d($,r,Y)}var _e;if(Ts)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else rl?ud(n,r)&&(Ie="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Ie="onCompositionStart");Ie&&(rd&&r.locale!=="ko"&&(rl||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&rl&&(_e=td()):(Wn=Y,gs="value"in Wn?Wn.value:Wn.textContent,rl=!0)),ce=sa(q,Ie),0<ce.length&&(Ie=new ld(Ie,n,null,r,Y),$.push({event:Ie,listeners:ce}),_e?Ie.data=_e:(_e=cd(r),_e!==null&&(Ie.data=_e)))),(_e=xS?AS(n,r):wS(n,r))&&(Ie=sa(q,"onBeforeInput"),0<Ie.length&&(ce=new ld("onBeforeInput","beforeinput",null,r,Y),$.push({event:ce,listeners:Ie}),ce.data=_e)),yE($,n,q,r,Y)}Xh($,l)})}function Lo(n,l,r){return{instance:n,listener:l,currentTarget:r}}function sa(n,l){for(var r=l+"Capture",u=[];n!==null;){var m=n,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=to(n,r),m!=null&&u.unshift(Lo(n,m,v)),m=to(n,l),m!=null&&u.push(Lo(n,m,v))),n.tag===3)return u;n=n.return}return[]}function TE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function $h(n,l,r,u,m){for(var v=l._reactName,T=[];r!==null&&r!==u;){var C=r,R=C.alternate,q=C.stateNode;if(C=C.tag,R!==null&&R===u)break;C!==5&&C!==26&&C!==27||q===null||(R=q,m?(q=to(r,v),q!=null&&T.unshift(Lo(r,q,R))):m||(q=to(r,v),q!=null&&T.push(Lo(r,q,R)))),r=r.return}T.length!==0&&n.push({event:l,listeners:T})}var _E=/\r\n?/g,CE=/\u0000|\uFFFD/g;function Zh(n){return(typeof n=="string"?n:""+n).replace(_E,`
`).replace(CE,"")}function Wh(n,l){return l=Zh(l),Zh(n)===l}function Fe(n,l,r,u,m,v){switch(r){case"children":typeof u=="string"?l==="body"||l==="textarea"&&u===""||il(n,u):(typeof u=="number"||typeof u=="bigint")&&l!=="body"&&il(n,""+u);break;case"className":dr(n,"class",u);break;case"tabIndex":dr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(n,r,u);break;case"style":Wf(n,u,v);break;case"data":if(l!=="object"){dr(n,"data",u);break}case"src":case"href":if(u===""&&(l!=="a"||r!=="href")){n.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=hr(""+u),n.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(r==="formAction"?(l!=="input"&&Fe(n,l,"name",m.name,m,null),Fe(n,l,"formEncType",m.formEncType,m,null),Fe(n,l,"formMethod",m.formMethod,m,null),Fe(n,l,"formTarget",m.formTarget,m,null)):(Fe(n,l,"encType",m.encType,m,null),Fe(n,l,"method",m.method,m,null),Fe(n,l,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=hr(""+u),n.setAttribute(r,u);break;case"onClick":u!=null&&(n.onclick=Rn);break;case"onScroll":u!=null&&Ne("scroll",n);break;case"onScrollEnd":u!=null&&Ne("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(o(60));n.innerHTML=r}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}r=hr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""+u):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":u===!0?n.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,u):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(r,u):n.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(r):n.setAttribute(r,u);break;case"popover":Ne("beforetoggle",n),Ne("toggle",n),fr(n,"popover",u);break;case"xlinkActuate":Nn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":fr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Zv.get(r)||r,fr(n,r,u))}}function Zu(n,l,r,u,m,v){switch(r){case"style":Wf(n,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(o(60));n.innerHTML=r}}break;case"children":typeof u=="string"?il(n,u):(typeof u=="number"||typeof u=="bigint")&&il(n,""+u);break;case"onScroll":u!=null&&Ne("scroll",n);break;case"onScrollEnd":u!=null&&Ne("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Of.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(m=r.endsWith("Capture"),l=r.slice(2,m?r.length-7:void 0),v=n[Rt]||null,v=v!=null?v[r]:null,typeof v=="function"&&n.removeEventListener(l,v,m),typeof u=="function")){typeof v!="function"&&v!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(l,u,m);break e}r in n?n[r]=u:u===!0?n.setAttribute(r,""):fr(n,r,u)}}}function St(n,l,r){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",n),Ne("load",n);var u=!1,m=!1,v;for(v in r)if(r.hasOwnProperty(v)){var T=r[v];if(T!=null)switch(v){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,l));default:Fe(n,l,v,T,r,null)}}m&&Fe(n,l,"srcSet",r.srcSet,r,null),u&&Fe(n,l,"src",r.src,r,null);return;case"input":Ne("invalid",n);var C=v=T=m=null,R=null,q=null;for(u in r)if(r.hasOwnProperty(u)){var Y=r[u];if(Y!=null)switch(u){case"name":m=Y;break;case"type":T=Y;break;case"checked":R=Y;break;case"defaultChecked":q=Y;break;case"value":v=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,l));break;default:Fe(n,l,u,Y,r,null)}}Xf(n,v,C,R,q,T,m,!1);return;case"select":Ne("invalid",n),u=T=v=null;for(m in r)if(r.hasOwnProperty(m)&&(C=r[m],C!=null))switch(m){case"value":v=C;break;case"defaultValue":T=C;break;case"multiple":u=C;default:Fe(n,l,m,C,r,null)}l=v,r=T,n.multiple=!!u,l!=null?nl(n,!!u,l,!1):r!=null&&nl(n,!!u,r,!0);return;case"textarea":Ne("invalid",n),v=m=u=null;for(T in r)if(r.hasOwnProperty(T)&&(C=r[T],C!=null))switch(T){case"value":u=C;break;case"defaultValue":m=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:Fe(n,l,T,C,r,null)}$f(n,u,m,v);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(u=r[R],u!=null))switch(R){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Fe(n,l,R,u,r,null)}return;case"dialog":Ne("beforetoggle",n),Ne("toggle",n),Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":Ne("load",n);break;case"video":case"audio":for(u=0;u<Uo.length;u++)Ne(Uo[u],n);break;case"image":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"embed":case"source":case"link":Ne("error",n),Ne("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(u=r[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,l));default:Fe(n,l,q,u,r,null)}return;default:if(fs(l)){for(Y in r)r.hasOwnProperty(Y)&&(u=r[Y],u!==void 0&&Zu(n,l,Y,u,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(u=r[C],u!=null&&Fe(n,l,C,u,r,null))}function xE(n,l,r,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,T=null,C=null,R=null,q=null,Y=null;for(B in r){var $=r[B];if(r.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=$;default:u.hasOwnProperty(B)||Fe(n,l,B,null,u,$)}}for(var V in u){var B=u[V];if($=r[V],u.hasOwnProperty(V)&&(B!=null||$!=null))switch(V){case"type":v=B;break;case"name":m=B;break;case"checked":q=B;break;case"defaultChecked":Y=B;break;case"value":T=B;break;case"defaultValue":C=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,l));break;default:B!==$&&Fe(n,l,V,B,u,$)}}us(n,T,C,R,q,Y,v,m);return;case"select":B=T=C=V=null;for(v in r)if(R=r[v],r.hasOwnProperty(v)&&R!=null)switch(v){case"value":break;case"multiple":B=R;default:u.hasOwnProperty(v)||Fe(n,l,v,null,u,R)}for(m in u)if(v=u[m],R=r[m],u.hasOwnProperty(m)&&(v!=null||R!=null))switch(m){case"value":V=v;break;case"defaultValue":C=v;break;case"multiple":T=v;default:v!==R&&Fe(n,l,m,v,u,R)}l=C,r=T,u=B,V!=null?nl(n,!!r,V,!1):!!u!=!!r&&(l!=null?nl(n,!!r,l,!0):nl(n,!!r,r?[]:"",!1));return;case"textarea":B=V=null;for(C in r)if(m=r[C],r.hasOwnProperty(C)&&m!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Fe(n,l,C,null,u,m)}for(T in u)if(m=u[T],v=r[T],u.hasOwnProperty(T)&&(m!=null||v!=null))switch(T){case"value":V=m;break;case"defaultValue":B=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==v&&Fe(n,l,T,m,u,v)}Qf(n,V,B);return;case"option":for(var ue in r)if(V=r[ue],r.hasOwnProperty(ue)&&V!=null&&!u.hasOwnProperty(ue))switch(ue){case"selected":n.selected=!1;break;default:Fe(n,l,ue,null,u,V)}for(R in u)if(V=u[R],B=r[R],u.hasOwnProperty(R)&&V!==B&&(V!=null||B!=null))switch(R){case"selected":n.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:Fe(n,l,R,V,u,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in r)V=r[me],r.hasOwnProperty(me)&&V!=null&&!u.hasOwnProperty(me)&&Fe(n,l,me,null,u,V);for(q in u)if(V=u[q],B=r[q],u.hasOwnProperty(q)&&V!==B&&(V!=null||B!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,l));break;default:Fe(n,l,q,V,u,B)}return;default:if(fs(l)){for(var Ye in r)V=r[Ye],r.hasOwnProperty(Ye)&&V!==void 0&&!u.hasOwnProperty(Ye)&&Zu(n,l,Ye,void 0,u,V);for(Y in u)V=u[Y],B=r[Y],!u.hasOwnProperty(Y)||V===B||V===void 0&&B===void 0||Zu(n,l,Y,V,u,B);return}}for(var L in r)V=r[L],r.hasOwnProperty(L)&&V!=null&&!u.hasOwnProperty(L)&&Fe(n,l,L,null,u,V);for($ in u)V=u[$],B=r[$],!u.hasOwnProperty($)||V===B||V==null&&B==null||Fe(n,l,$,V,u,B)}function jh(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,l=0,r=performance.getEntriesByType("resource"),u=0;u<r.length;u++){var m=r[u],v=m.transferSize,T=m.initiatorType,C=m.duration;if(v&&C&&jh(T)){for(T=0,C=m.responseEnd,u+=1;u<r.length;u++){var R=r[u],q=R.startTime;if(q>C)break;var Y=R.transferSize,$=R.initiatorType;Y&&jh($)&&(R=R.responseEnd,T+=Y*(R<C?1:(C-q)/(R-q)))}if(--u,l+=8*(v+T)/(m.duration/1e3),n++,10<n)break}}if(0<n)return l/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Wu=null,ju=null;function ua(n){return n.nodeType===9?n:n.ownerDocument}function em(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tm(n,l){if(n===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&l==="foreignObject"?0:n}function ec(n,l){return n==="textarea"||n==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var tc=null;function wE(){var n=window.event;return n&&n.type==="popstate"?n===tc?!1:(tc=n,!0):(tc=null,!1)}var nm=typeof setTimeout=="function"?setTimeout:void 0,bE=typeof clearTimeout=="function"?clearTimeout:void 0,im=typeof Promise=="function"?Promise:void 0,NE=typeof queueMicrotask=="function"?queueMicrotask:typeof im<"u"?function(n){return im.resolve(null).then(n).catch(RE)}:nm;function RE(n){setTimeout(function(){throw n})}function mi(n){return n==="head"}function lm(n,l){var r=l,u=0;do{var m=r.nextSibling;if(n.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"||r==="/&"){if(u===0){n.removeChild(m),Ul(l);return}u--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")u++;else if(r==="html")Po(n.ownerDocument.documentElement);else if(r==="head"){r=n.ownerDocument.head,Po(r);for(var v=r.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[jl]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=T}}else r==="body"&&Po(n.ownerDocument.body);r=m}while(r);Ul(l)}function om(n,l){var r=n;n=0;do{var u=r.nextSibling;if(r.nodeType===1?l?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(l?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(n===0)break;n--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||n++;r=u}while(r)}function nc(n){var l=n.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var r=l;switch(l=l.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nc(r),as(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function ME(n,l,r,u){for(;n.nodeType===1;){var m=r;if(n.nodeName.toLowerCase()!==l.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[jl])switch(l){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(l==="input"&&n.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=on(n.nextSibling),n===null)break}return null}function IE(n,l,r){if(l==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=on(n.nextSibling),n===null))return null;return n}function rm(n,l){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=on(n.nextSibling),n===null))return null;return n}function ic(n){return n.data==="$?"||n.data==="$~"}function lc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function DE(n,l){var r=n.ownerDocument;if(n.data==="$~")n._reactRetry=l;else if(n.data!=="$?"||r.readyState!=="loading")l();else{var u=function(){l(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function on(n){for(;n!=null;n=n.nextSibling){var l=n.nodeType;if(l===1||l===3)break;if(l===8){if(l=n.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return n}var oc=null;function am(n){n=n.nextSibling;for(var l=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"||r==="/&"){if(l===0)return on(n.nextSibling);l--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||l++}n=n.nextSibling}return null}function sm(n){n=n.previousSibling;for(var l=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(l===0)return n;l--}else r!=="/$"&&r!=="/&"||l++}n=n.previousSibling}return null}function um(n,l,r){switch(l=ua(r),n){case"html":if(n=l.documentElement,!n)throw Error(o(452));return n;case"head":if(n=l.head,!n)throw Error(o(453));return n;case"body":if(n=l.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function Po(n){for(var l=n.attributes;l.length;)n.removeAttributeNode(l[0]);as(n)}var rn=new Map,cm=new Set;function ca(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Yn=W.d;W.d={f:kE,r:UE,D:LE,C:PE,L:zE,m:HE,X:GE,S:qE,M:VE};function kE(){var n=Yn.f(),l=ta();return n||l}function UE(n){var l=ji(n);l!==null&&l.tag===5&&l.type==="form"?bp(l):Yn.r(n)}var Il=typeof document>"u"?null:document;function fm(n,l,r){var u=Il;if(u&&typeof l=="string"&&l){var m=Zt(l);m='link[rel="'+n+'"][href="'+m+'"]',typeof r=="string"&&(m+='[crossorigin="'+r+'"]'),cm.has(m)||(cm.add(m),n={rel:n,crossOrigin:r,href:l},u.querySelector(m)===null&&(l=u.createElement("link"),St(l,"link",n),dt(l),u.head.appendChild(l)))}}function LE(n){Yn.D(n),fm("dns-prefetch",n,null)}function PE(n,l){Yn.C(n,l),fm("preconnect",n,l)}function zE(n,l,r){Yn.L(n,l,r);var u=Il;if(u&&n&&l){var m='link[rel="preload"][as="'+Zt(l)+'"]';l==="image"&&r&&r.imageSrcSet?(m+='[imagesrcset="'+Zt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(m+='[imagesizes="'+Zt(r.imageSizes)+'"]')):m+='[href="'+Zt(n)+'"]';var v=m;switch(l){case"style":v=Dl(n);break;case"script":v=kl(n)}rn.has(v)||(n=S({rel:"preload",href:l==="image"&&r&&r.imageSrcSet?void 0:n,as:l},r),rn.set(v,n),u.querySelector(m)!==null||l==="style"&&u.querySelector(zo(v))||l==="script"&&u.querySelector(Ho(v))||(l=u.createElement("link"),St(l,"link",n),dt(l),u.head.appendChild(l)))}}function HE(n,l){Yn.m(n,l);var r=Il;if(r&&n){var u=l&&typeof l.as=="string"?l.as:"script",m='link[rel="modulepreload"][as="'+Zt(u)+'"][href="'+Zt(n)+'"]',v=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=kl(n)}if(!rn.has(v)&&(n=S({rel:"modulepreload",href:n},l),rn.set(v,n),r.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ho(v)))return}u=r.createElement("link"),St(u,"link",n),dt(u),r.head.appendChild(u)}}}function qE(n,l,r){Yn.S(n,l,r);var u=Il;if(u&&n){var m=el(u).hoistableStyles,v=Dl(n);l=l||"default";var T=m.get(v);if(!T){var C={loading:0,preload:null};if(T=u.querySelector(zo(v)))C.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":l},r),(r=rn.get(v))&&rc(n,r);var R=T=u.createElement("link");dt(R),St(R,"link",n),R._p=new Promise(function(q,Y){R.onload=q,R.onerror=Y}),R.addEventListener("load",function(){C.loading|=1}),R.addEventListener("error",function(){C.loading|=2}),C.loading|=4,fa(T,l,u)}T={type:"stylesheet",instance:T,count:1,state:C},m.set(v,T)}}}function GE(n,l){Yn.X(n,l);var r=Il;if(r&&n){var u=el(r).hoistableScripts,m=kl(n),v=u.get(m);v||(v=r.querySelector(Ho(m)),v||(n=S({src:n,async:!0},l),(l=rn.get(m))&&ac(n,l),v=r.createElement("script"),dt(v),St(v,"link",n),r.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(m,v))}}function VE(n,l){Yn.M(n,l);var r=Il;if(r&&n){var u=el(r).hoistableScripts,m=kl(n),v=u.get(m);v||(v=r.querySelector(Ho(m)),v||(n=S({src:n,async:!0,type:"module"},l),(l=rn.get(m))&&ac(n,l),v=r.createElement("script"),dt(v),St(v,"link",n),r.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(m,v))}}function dm(n,l,r,u){var m=(m=pe.current)?ca(m):null;if(!m)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(l=Dl(r.href),r=el(m).hoistableStyles,u=r.get(l),u||(u={type:"style",instance:null,count:0,state:null},r.set(l,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=Dl(r.href);var v=el(m).hoistableStyles,T=v.get(n);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,T),(v=m.querySelector(zo(n)))&&!v._p&&(T.instance=v,T.state.loading=5),rn.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},rn.set(n,r),v||BE(m,n,r,T.state))),l&&u===null)throw Error(o(528,""));return T}if(l&&u!==null)throw Error(o(529,""));return null;case"script":return l=r.async,r=r.src,typeof r=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=kl(r),r=el(m).hoistableScripts,u=r.get(l),u||(u={type:"script",instance:null,count:0,state:null},r.set(l,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function Dl(n){return'href="'+Zt(n)+'"'}function zo(n){return'link[rel="stylesheet"]['+n+"]"}function pm(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function BE(n,l,r,u){n.querySelector('link[rel="preload"][as="style"]['+l+"]")?u.loading=1:(l=n.createElement("link"),u.preload=l,l.addEventListener("load",function(){return u.loading|=1}),l.addEventListener("error",function(){return u.loading|=2}),St(l,"link",r),dt(l),n.head.appendChild(l))}function kl(n){return'[src="'+Zt(n)+'"]'}function Ho(n){return"script[async]"+n}function hm(n,l,r){if(l.count++,l.instance===null)switch(l.type){case"style":var u=n.querySelector('style[data-href~="'+Zt(r.href)+'"]');if(u)return l.instance=u,dt(u),u;var m=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),dt(u),St(u,"style",m),fa(u,r.precedence,n),l.instance=u;case"stylesheet":m=Dl(r.href);var v=n.querySelector(zo(m));if(v)return l.state.loading|=4,l.instance=v,dt(v),v;u=pm(r),(m=rn.get(m))&&rc(u,m),v=(n.ownerDocument||n).createElement("link"),dt(v);var T=v;return T._p=new Promise(function(C,R){T.onload=C,T.onerror=R}),St(v,"link",u),l.state.loading|=4,fa(v,r.precedence,n),l.instance=v;case"script":return v=kl(r.src),(m=n.querySelector(Ho(v)))?(l.instance=m,dt(m),m):(u=r,(m=rn.get(v))&&(u=S({},r),ac(u,m)),n=n.ownerDocument||n,m=n.createElement("script"),dt(m),St(m,"link",u),n.head.appendChild(m),l.instance=m);case"void":return null;default:throw Error(o(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(u=l.instance,l.state.loading|=4,fa(u,r.precedence,n));return l.instance}function fa(n,l,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,v=m,T=0;T<u.length;T++){var C=u[T];if(C.dataset.precedence===l)v=C;else if(v!==m)break}v?v.parentNode.insertBefore(n,v.nextSibling):(l=r.nodeType===9?r.head:r,l.insertBefore(n,l.firstChild))}function rc(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.title==null&&(n.title=l.title)}function ac(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.integrity==null&&(n.integrity=l.integrity)}var da=null;function mm(n,l,r){if(da===null){var u=new Map,m=da=new Map;m.set(r,u)}else m=da,u=m.get(r),u||(u=new Map,m.set(r,u));if(u.has(n))return u;for(u.set(n,null),r=r.getElementsByTagName(n),m=0;m<r.length;m++){var v=r[m];if(!(v[jl]||v[mt]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(l)||"";T=n+T;var C=u.get(T);C?C.push(v):u.set(T,[v])}}return u}function gm(n,l,r){n=n.ownerDocument||n,n.head.insertBefore(r,l==="title"?n.querySelector("head > title"):null)}function OE(n,l,r){if(r===1||l.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return n=l.disabled,typeof l.precedence=="string"&&n==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function ym(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function FE(n,l,r,u){if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=Dl(u.href),v=l.querySelector(zo(m));if(v){l=v._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(n.count++,n=pa.bind(n),l.then(n,n)),r.state.loading|=4,r.instance=v,dt(v);return}v=l.ownerDocument||l,u=pm(u),(m=rn.get(m))&&rc(u,m),v=v.createElement("link"),dt(v);var T=v;T._p=new Promise(function(C,R){T.onload=C,T.onerror=R}),St(v,"link",u),r.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(r,l),(l=r.state.preload)&&(r.state.loading&3)===0&&(n.count++,r=pa.bind(n),l.addEventListener("load",r),l.addEventListener("error",r))}}var sc=0;function YE(n,l){return n.stylesheets&&n.count===0&&ma(n,n.stylesheets),0<n.count||0<n.imgCount?function(r){var u=setTimeout(function(){if(n.stylesheets&&ma(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+l);0<n.imgBytes&&sc===0&&(sc=62500*AE());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&ma(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>sc?50:800)+l);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function pa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ma(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ha=null;function ma(n,l){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ha=new Map,l.forEach(JE,n),ha=null,pa.call(n))}function JE(n,l){if(!(l.state.loading&4)){var r=ha.get(n);if(r)var u=r.get(null);else{r=new Map,ha.set(n,r);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var T=m[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),u=T)}u&&r.set(null,u)}m=l.instance,T=m.getAttribute("data-precedence"),v=r.get(T)||u,v===u&&r.set(null,m),r.set(T,m),this.count++,u=pa.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),v?v.parentNode.insertBefore(m,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),l.state.loading|=4}}var qo={$$typeof:P,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function KE(n,l,r,u,m,v,T,C,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function vm(n,l,r,u,m,v,T,C,R,q,Y,$){return n=new KE(n,l,r,T,R,q,Y,$,C),l=1,v===!0&&(l|=24),v=Vt(3,null,null,l),n.current=v,v.stateNode=n,l=Vs(),l.refCount++,n.pooledCache=l,l.refCount++,v.memoizedState={element:u,isDehydrated:r,cache:l},Ys(v),n}function Sm(n){return n?(n=cl,n):cl}function Em(n,l,r,u,m,v){m=Sm(m),u.context===null?u.context=m:u.pendingContext=m,u=li(l),u.payload={element:r},v=v===void 0?null:v,v!==null&&(u.callback=v),r=oi(n,u,l),r!==null&&(Lt(r,n,l),yo(r,n,l))}function Tm(n,l){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<l?r:l}}function uc(n,l){Tm(n,l),(n=n.alternate)&&Tm(n,l)}function _m(n){if(n.tag===13||n.tag===31){var l=Mi(n,67108864);l!==null&&Lt(l,n,67108864),uc(n,67108864)}}function Cm(n){if(n.tag===13||n.tag===31){var l=Jt();l=ls(l);var r=Mi(n,l);r!==null&&Lt(r,n,l),uc(n,l)}}var ga=!0;function XE(n,l,r,u){var m=z.T;z.T=null;var v=W.p;try{W.p=2,cc(n,l,r,u)}finally{W.p=v,z.T=m}}function QE(n,l,r,u){var m=z.T;z.T=null;var v=W.p;try{W.p=8,cc(n,l,r,u)}finally{W.p=v,z.T=m}}function cc(n,l,r,u){if(ga){var m=fc(u);if(m===null)$u(n,l,u,ya,r),Am(n,u);else if(ZE(m,n,l,r,u))u.stopPropagation();else if(Am(n,u),l&4&&-1<$E.indexOf(n)){for(;m!==null;){var v=ji(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=Ai(v.pendingLanes);if(T!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var R=1<<31-Je(T);C.entanglements[1]|=R,T&=~R}Tn(v),(Pe&6)===0&&(jr=Ct()+500,ko(0))}}break;case 31:case 13:C=Mi(v,2),C!==null&&Lt(C,v,2),ta(),uc(v,2)}if(v=fc(u),v===null&&$u(n,l,u,ya,r),v===m)break;m=v}m!==null&&u.stopPropagation()}else $u(n,l,u,null,r)}}function fc(n){return n=ps(n),dc(n)}var ya=null;function dc(n){if(ya=null,n=Wi(n),n!==null){var l=s(n);if(l===null)n=null;else{var r=l.tag;if(r===13){if(n=c(l),n!==null)return n;n=null}else if(r===31){if(n=p(l),n!==null)return n;n=null}else if(r===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;n=null}else l!==n&&(n=null)}}return ya=n,null}function xm(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case K:return 2;case ne:return 8;case ye:case we:return 32;case qe:return 268435456;default:return 32}default:return 32}}var pc=!1,gi=null,yi=null,vi=null,Go=new Map,Vo=new Map,Si=[],$E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Am(n,l){switch(n){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Go.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(l.pointerId)}}function Bo(n,l,r,u,m,v){return n===null||n.nativeEvent!==v?(n={blockedOn:l,domEventName:r,eventSystemFlags:u,nativeEvent:v,targetContainers:[m]},l!==null&&(l=ji(l),l!==null&&_m(l)),n):(n.eventSystemFlags|=u,l=n.targetContainers,m!==null&&l.indexOf(m)===-1&&l.push(m),n)}function ZE(n,l,r,u,m){switch(l){case"focusin":return gi=Bo(gi,n,l,r,u,m),!0;case"dragenter":return yi=Bo(yi,n,l,r,u,m),!0;case"mouseover":return vi=Bo(vi,n,l,r,u,m),!0;case"pointerover":var v=m.pointerId;return Go.set(v,Bo(Go.get(v)||null,n,l,r,u,m)),!0;case"gotpointercapture":return v=m.pointerId,Vo.set(v,Bo(Vo.get(v)||null,n,l,r,u,m)),!0}return!1}function wm(n){var l=Wi(n.target);if(l!==null){var r=s(l);if(r!==null){if(l=r.tag,l===13){if(l=c(r),l!==null){n.blockedOn=l,Gf(n.priority,function(){Cm(r)});return}}else if(l===31){if(l=p(r),l!==null){n.blockedOn=l,Gf(n.priority,function(){Cm(r)});return}}else if(l===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function va(n){if(n.blockedOn!==null)return!1;for(var l=n.targetContainers;0<l.length;){var r=fc(n.nativeEvent);if(r===null){r=n.nativeEvent;var u=new r.constructor(r.type,r);ds=u,r.target.dispatchEvent(u),ds=null}else return l=ji(r),l!==null&&_m(l),n.blockedOn=r,!1;l.shift()}return!0}function bm(n,l,r){va(n)&&r.delete(l)}function WE(){pc=!1,gi!==null&&va(gi)&&(gi=null),yi!==null&&va(yi)&&(yi=null),vi!==null&&va(vi)&&(vi=null),Go.forEach(bm),Vo.forEach(bm)}function Sa(n,l){n.blockedOn===l&&(n.blockedOn=null,pc||(pc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,WE)))}var Ea=null;function Nm(n){Ea!==n&&(Ea=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ea===n&&(Ea=null);for(var l=0;l<n.length;l+=3){var r=n[l],u=n[l+1],m=n[l+2];if(typeof u!="function"){if(dc(u||r)===null)continue;break}var v=ji(r);v!==null&&(n.splice(l,3),l-=3,fu(v,{pending:!0,data:m,method:r.method,action:u},u,m))}}))}function Ul(n){function l(R){return Sa(R,n)}gi!==null&&Sa(gi,n),yi!==null&&Sa(yi,n),vi!==null&&Sa(vi,n),Go.forEach(l),Vo.forEach(l);for(var r=0;r<Si.length;r++){var u=Si[r];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Si.length&&(r=Si[0],r.blockedOn===null);)wm(r),r.blockedOn===null&&Si.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var m=r[u],v=r[u+1],T=m[Rt]||null;if(typeof v=="function")T||Nm(r);else if(T){var C=null;if(v&&v.hasAttribute("formAction")){if(m=v,T=v[Rt]||null)C=T.formAction;else if(dc(m)!==null)continue}else C=T.action;typeof C=="function"?r[u+1]=C:(r.splice(u,3),u-=3),Nm(r)}}}function Rm(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function l(){m!==null&&(m(),m=null),u||setTimeout(r,20)}function r(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(r,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),m!==null&&(m(),m=null)}}}function hc(n){this._internalRoot=n}Ta.prototype.render=hc.prototype.render=function(n){var l=this._internalRoot;if(l===null)throw Error(o(409));var r=l.current,u=Jt();Em(r,u,n,l,null,null)},Ta.prototype.unmount=hc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var l=n.containerInfo;Em(n.current,2,null,n,null,null),ta(),l[Zi]=null}};function Ta(n){this._internalRoot=n}Ta.prototype.unstable_scheduleHydration=function(n){if(n){var l=qf();n={blockedOn:null,target:n,priority:l};for(var r=0;r<Si.length&&l!==0&&l<Si[r].priority;r++);Si.splice(r,0,n),r===0&&wm(n)}};var Mm=e.version;if(Mm!=="19.2.3")throw Error(o(527,Mm,"19.2.3"));W.findDOMNode=function(n){var l=n._reactInternals;if(l===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=h(l),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var jE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{xt=_a.inject(jE),ct=_a}catch{}}return Fo.createRoot=function(n,l){if(!a(n))throw Error(o(299));var r=!1,u="",m=zp,v=Hp,T=qp;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(u=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),l=vm(n,1,!1,null,null,r,u,null,m,v,T,Rm),n[Zi]=l.current,Qu(n),new hc(l)},Fo.hydrateRoot=function(n,l,r){if(!a(n))throw Error(o(299));var u=!1,m="",v=zp,T=Hp,C=qp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),l=vm(n,1,!0,l,r??null,u,m,R,v,T,C,Rm),l.context=Sm(null),r=l.current,u=Jt(),u=ls(u),m=li(u),m.callback=null,oi(r,m,u),r=u,l.current.lanes=r,Wl(l,r),Tn(l),n[Zi]=l.current,Qu(n),new Ta(l)},Fo.version="19.2.3",Fo}var Gm;function cT(){if(Gm)return yc.exports;Gm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yc.exports=uT(),yc.exports}var fT=cT();const dT=Oa(fT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,o)=>o?o.toUpperCase():i.toLowerCase()),Vm=t=>{const e=hT(t);return e.charAt(0).toUpperCase()+e.slice(1)},s0=(...t)=>t.filter((e,i,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===i).join(" ").trim(),mT=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=xe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:s,iconNode:c,...p},g)=>xe.createElement("svg",{ref:g,...gT,width:e,height:e,stroke:t,strokeWidth:o?Number(i)*24/Number(e):i,className:s0("lucide",a),...!s&&!mT(p)&&{"aria-hidden":"true"},...p},[...c.map(([h,y])=>xe.createElement(h,y)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(t,e)=>{const i=xe.forwardRef(({className:o,...a},s)=>xe.createElement(yT,{ref:s,iconNode:e,className:s0(`lucide-${pT(Vm(t))}`,`lucide-${t}`,o),...a}));return i.displayName=Vm(t),i};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ST=He("activity",vT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],TT=He("arrow-up",ET);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Ia=He("bot",_T);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],xT=He("box",CT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wT=He("chevron-down",AT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],NT=He("chevron-up",bT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],u0=He("circle-alert",RT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],IT=He("circle-check-big",MT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kT=He("circle-check",DT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],LT=He("circle-x",UT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],zT=He("cpu",PT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],qT=He("database",HT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],VT=He("download",GT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],OT=He("file-text",BT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],YT=He("hash",FT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],KT=He("image",JT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],c0=He("key",XT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],$T=He("library",QT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],WT=He("lock",ZT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Bm=He("menu",jT);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],f0=He("paperclip",e_);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],n_=He("plus",t_);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],l_=He("share-2",i_);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],r_=He("settings",o_);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],zc=He("terminal",a_);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cf=He("trash-2",s_);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c_=He("triangle-alert",u_);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],d_=He("upload",f_);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],h_=He("user",p_);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]],g_=He("variable",m_);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],d0=He("x",y_);var et=(t=>(t.Gemini="Gemini",t.OpenAI="OpenAI",t.Volcengine="Volcengine",t.Aliyun="Aliyun",t))(et||{}),an=(t=>(t.Notion="Notion",t.Feishu="Feishu",t))(an||{});const v_="You are a helpful, professional AI assistant. Answer concisely and accurately using {tone} tone and {language}.",Jn={[et.Gemini]:{baseUrl:"",defaultModel:"gemini-3-flash-preview",placeholder:"gemini-3-flash-preview"},[et.OpenAI]:{baseUrl:"https://api.openai.com/v1",defaultModel:"gpt-4o",placeholder:"gpt-4o, gpt-3.5-turbo"},[et.Volcengine]:{baseUrl:"https://ark.cn-beijing.volces.com/api/v3",defaultModel:"ep-2024...",placeholder:"Enter your Endpoint ID (ep-xxxx)"},[et.Aliyun]:{baseUrl:"https://dashscope.aliyuncs.com/compatible-mode/v1",defaultModel:"qwen-plus",placeholder:"qwen-plus, qwen-turbo"}},S_={currentProvider:et.Gemini,systemPrompt:v_,promptArguments:[{key:"tone",value:"friendly"},{key:"language",value:"English"}],providers:{[et.Gemini]:{modelName:Jn[et.Gemini].defaultModel,apiKey:"",baseUrl:Jn[et.Gemini].baseUrl},[et.OpenAI]:{modelName:Jn[et.OpenAI].defaultModel,apiKey:"",baseUrl:Jn[et.OpenAI].baseUrl},[et.Volcengine]:{modelName:Jn[et.Volcengine].defaultModel,apiKey:"",baseUrl:Jn[et.Volcengine].baseUrl},[et.Aliyun]:{modelName:Jn[et.Aliyun].defaultModel,apiKey:"",baseUrl:Jn[et.Aliyun].baseUrl}}},E_=({globalConfig:t,setGlobalConfig:e,exportConfig:i,setExportConfig:o})=>{const a=xe.useRef(null),s=t.currentProvider,c=t.providers[s],p=Jn[s],g=G=>{const Q=G.target.value;e(U=>({...U,currentProvider:Q}))},h=(G,Q)=>{e(U=>({...U,providers:{...U.providers,[s]:{...U.providers[s],[G]:Q}}}))},y=G=>{e(Q=>({...Q,systemPrompt:G.target.value}))},S=()=>{e(G=>({...G,promptArguments:[...G.promptArguments||[],{key:"",value:""}]}))},E=G=>{e(Q=>({...Q,promptArguments:Q.promptArguments.filter((U,F)=>F!==G)}))},_=(G,Q,U)=>{e(F=>{const oe=[...F.promptArguments];return oe[G]={...oe[G],[Q]:U},{...F,promptArguments:oe}})},A=()=>{const G={globalConfig:t,exportConfig:i,version:1,exportedAt:new Date().toISOString()},Q=new Blob([JSON.stringify(G,null,2)],{type:"application/json"}),U=URL.createObjectURL(Q),F=document.createElement("a");F.href=U,F.download=`llm-config-v1-${Date.now()}.json`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(U)},I=G=>{var F;const Q=(F=G.target.files)==null?void 0:F[0];if(!Q)return;const U=new FileReader;U.onload=oe=>{var Z;try{const le=(Z=oe.target)==null?void 0:Z.result,ee=JSON.parse(le);ee.globalConfig&&e(ee.globalConfig),ee.exportConfig&&o(ee.exportConfig),a.current&&(a.current.value=""),alert("Configuration imported successfully!")}catch{alert("Failed to import configuration. Invalid JSON file.")}},U.readAsText(Q)},M=xe.useMemo(()=>{const G=t.systemPrompt.match(/\{(\w+)\}/g)||[];return new Set(G.map(Q=>Q.slice(1,-1)))},[t.systemPrompt]),N=xe.useMemo(()=>{t.promptArguments.forEach(Q=>{Q.key.trim()});const G={};return t.promptArguments.map(Q=>{const U=Q.key.trim();return U?(G[U]=(G[U]||0)+1,{isDuplicate:G[U]>1}):{isDuplicate:!1}})},[t.promptArguments]),O=xe.useMemo(()=>new Set(t.promptArguments.map(G=>G.key.trim()).filter(Boolean)),[t.promptArguments]),P=xe.useMemo(()=>Array.from(M).filter(G=>!O.has(G)),[M,O]);return w.jsxs("div",{className:"w-full md:w-80 bg-white border-r border-slate-200 flex flex-col h-full overflow-y-auto",children:[w.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center gap-2 sticky top-0 bg-white z-10 shadow-sm",children:[w.jsx(r_,{className:"w-5 h-5 text-indigo-600"}),w.jsx("h2",{className:"font-semibold text-slate-800",children:"Model Configuration"})]}),w.jsxs("div",{className:"p-4 space-y-6 flex-1",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-slate-700 block",children:"Provider"}),w.jsxs("div",{className:"relative",children:[w.jsx("select",{value:s,onChange:g,className:"w-full p-2.5 bg-slate-50 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none appearance-none",children:Object.values(et).map(G=>w.jsx("option",{value:G,children:G},G))}),w.jsx(xT,{className:"w-4 h-4 text-slate-400 absolute right-3 top-3.5 pointer-events-none"})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 uppercase tracking-widest",children:[s," API"]}),s!==et.Gemini&&w.jsx("input",{type:"text",value:c.baseUrl,onChange:G=>h("baseUrl",G.target.value),placeholder:"Base URL",className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm"}),w.jsx("input",{type:"text",value:c.modelName,onChange:G=>h("modelName",G.target.value),placeholder:p.placeholder,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"password",value:c.apiKey,onChange:G=>h("apiKey",G.target.value),placeholder:"API Key",className:"w-full p-2 pl-8 bg-slate-50 border border-slate-200 rounded-lg text-sm"}),w.jsx(c0,{className:"w-3.5 h-3.5 text-slate-400 absolute left-2.5 top-3"})]})]}),w.jsx("hr",{className:"border-slate-100"}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-slate-700 flex items-center justify-between",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(zc,{className:"w-4 h-4 text-slate-400"}),"System Prompt"]})}),w.jsxs("div",{className:"relative",children:[w.jsx("textarea",{value:t.systemPrompt,onChange:y,className:"w-full p-3 bg-slate-50 border border-slate-300 rounded-lg text-sm h-32 resize-none focus:ring-2 focus:ring-indigo-500 outline-none font-mono leading-relaxed",placeholder:"Use {variable} syntax..."}),P.length>0&&w.jsxs("div",{className:"absolute -bottom-2 right-2 flex items-center gap-1.5 px-2 py-1 bg-red-50 border border-red-100 rounded shadow-sm",children:[w.jsx(LT,{className:"w-3 h-3 text-red-500"}),w.jsxs("span",{className:"text-[10px] text-red-600 font-bold uppercase tracking-tight",children:["Undefined: ",P.join(", ")]})]})]})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[w.jsx(g_,{className:"w-3.5 h-3.5"}),"Arguments"]}),w.jsx("button",{onClick:S,className:"p-1 hover:bg-indigo-50 rounded text-indigo-600 transition-colors",title:"Add Argument",children:w.jsx(n_,{className:"w-4 h-4"})})]}),w.jsxs("div",{className:"space-y-3",children:[t.promptArguments.map((G,Q)=>{var Z;const U=M.has(G.key),F=!G.key.trim(),oe=(Z=N[Q])==null?void 0:Z.isDuplicate;return w.jsxs("div",{className:`group flex flex-col gap-2 bg-slate-50 p-2.5 rounded-xl border transition-all shadow-sm
                    ${oe?"border-red-300 bg-red-50":"border-slate-100 hover:border-slate-200"}`,children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("div",{className:"flex-1 flex items-center gap-2 min-w-0",children:[w.jsx("input",{type:"text",value:G.key,onChange:le=>_(Q,"key",le.target.value),placeholder:"Key",className:`flex-1 min-w-0 bg-transparent text-xs font-bold outline-none border-b border-transparent focus:border-indigo-400 pb-0.5
                            ${oe?"text-red-700":"text-slate-700"}`}),!F&&(oe?w.jsx(u0,{className:"w-3.5 h-3.5 text-red-500 shrink-0",title:"Duplicate Key"}):U?w.jsx(kT,{className:"w-3.5 h-3.5 text-green-500 shrink-0",title:"Used in prompt"}):w.jsx(c_,{className:"w-3.5 h-3.5 text-amber-400 shrink-0",title:"Not used in prompt"}))]}),w.jsx("button",{onClick:()=>E(Q),className:"p-1 text-slate-400 hover:text-red-500 transition-all rounded",children:w.jsx(cf,{className:"w-3.5 h-3.5"})})]}),w.jsx("textarea",{value:G.value,onChange:le=>_(Q,"value",le.target.value),placeholder:"Value",rows:5,className:"w-full bg-white/50 border border-slate-200 rounded-lg p-2 text-xs text-slate-600 outline-none focus:ring-1 focus:ring-indigo-400 resize-none transition-all"}),oe&&w.jsx("span",{className:"text-[10px] text-red-500 font-semibold px-1",children:"Duplicate key name"})]},Q)}),t.promptArguments.length===0&&w.jsx("p",{className:"text-[10px] text-slate-400 italic text-center py-2",children:"No arguments defined."})]})]})]})]}),w.jsxs("div",{className:"p-4 border-t border-slate-200 bg-slate-50 grid grid-cols-2 gap-2",children:[w.jsxs("button",{onClick:A,className:"flex items-center justify-center gap-2 px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50 hover:text-indigo-600 transition-all shadow-sm",children:[w.jsx(d_,{className:"w-4 h-4"}),"Export"]}),w.jsxs("button",{onClick:()=>{var G;return(G=a.current)==null?void 0:G.click()},className:"flex items-center justify-center gap-2 px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50 hover:text-indigo-600 transition-all shadow-sm",children:[w.jsx(VT,{className:"w-4 h-4"}),"Import"]}),w.jsx("input",{type:"file",ref:a,className:"hidden",accept:".json",onChange:I})]})]})},Fi=async(t,e,i)=>{const o=`https://corsproxy.io/?${encodeURIComponent(t)}`;try{return await fetch(o,e)}catch(a){throw i("error","Proxy request failed",{message:a.message,proxy:"CorsProxy.io"}),new Error(`Proxy Network Error: ${a.message}`)}},Tc=100,Om=2e3,Fm=t=>{const e=[];for(let i=0;i<t.length;i+=Om)e.push(t.substring(i,i+Om));return e},T_=(t,e)=>{const i=[];if(t&&t.trim()){const o=Fm(t);i.push({object:"block",type:"callout",callout:{icon:{emoji:""},color:"gray_background",rich_text:[{type:"text",text:{content:`System Prompt:
`},annotations:{bold:!0}},{type:"text",text:{content:o[0]||" "}}]}});for(let a=1;a<o.length;a++)i.push({object:"block",type:"paragraph",paragraph:{rich_text:[{type:"text",text:{content:o[a]}}]}})}return e.forEach(o=>{const a=Fm(o.content);i.push({object:"block",type:"callout",callout:{icon:{emoji:o.role==="user"?"":""},color:o.role==="user"?"blue_background":"gray_background",rich_text:[{type:"text",text:{content:a[0]||" "}}]}});for(let s=1;s<a.length;s++)i.push({object:"block",type:"paragraph",paragraph:{rich_text:[{type:"text",text:{content:a[s]}}]}});if(o.attachments&&o.attachments.length>0){const s=o.attachments.map(c=>c.name).join(", ");i.push({object:"block",type:"paragraph",paragraph:{rich_text:[{type:"text",text:{content:`[Attachments: ${s}]`},annotations:{italic:!0}}]}})}}),i},__=async(t,e,i,o)=>{if(!t.databaseId)throw new Error("Notion Database ID is missing");const a=new Date().toLocaleString(),s="https://api.notion.com/v1/pages";o("info","Notion: Creating new page in database...");const c={parent:{database_id:t.databaseId},properties:{Name:{title:[{text:{content:`Chat Export - ${a}`}}]}}},p=await Fi(s,{method:"POST",headers:{Authorization:`Bearer ${t.token}`,"Content-Type":"application/json","Notion-Version":"2022-06-28"},body:JSON.stringify(c)},o);if(!p.ok){const S=await p.text();throw S.includes("body.properties.Name")?new Error("Notion Error: Could not find title property 'Name'. Please ensure your database title column is named 'Name'."):new Error(`Failed to create Notion page (${p.status}): ${S}`)}const h=(await p.json()).id;o("info",`Notion: Page created successfully (${h})`);const y=T_(i,e);for(let S=0;S<y.length;S+=Tc){const E=y.slice(S,S+Tc),_=`https://api.notion.com/v1/blocks/${h}/children`;o("request",`Notion API: Appending Batch ${Math.floor(S/Tc)+1}`,{batchSize:E.length});const A=await Fi(_,{method:"PATCH",headers:{Authorization:`Bearer ${t.token}`,"Content-Type":"application/json","Notion-Version":"2022-06-28"},body:JSON.stringify({children:E})},o);if(!A.ok){const I=await A.text();throw new Error(`Notion API Append Error (${A.status}): ${I}`)}}},C_=async(t,e,i)=>{i("info","Feishu: Getting Tenant Access Token");const a=await Fi("https://open.feishu.cn/open-apis/auth/v3/tenant_access_token/internal",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({app_id:t,app_secret:e})},i);if(!a.ok)throw new Error(`Auth Failed (${a.status})`);const s=await a.json();if(s.code!==0)throw new Error(`Auth Logic Error: ${s.msg}`);return i("info","Feishu: Token acquired"),s.tenant_access_token},x_=async(t,e,i)=>{var p,g,h,y;i("info",`Feishu: Resolving Space ID for token '${e}'`);const o=`https://open.feishu.cn/open-apis/wiki/v2/spaces/get_node?token=${e}`,a=await Fi(o,{method:"GET",headers:{Authorization:`Bearer ${t}`}},i);if(!a.ok){const S=await a.text();throw new Error(`Get Node Info Failed (${a.status}): ${S}`)}const s=await a.json();if(s.code!==0)throw new Error(`Get Node Info Error (${s.code}): ${s.msg}`);const c=((g=(p=s.data)==null?void 0:p.node)==null?void 0:g.space_id)||((y=(h=s.data)==null?void 0:h.space)==null?void 0:y.space_id);if(!c)throw i("error","Node Info Data",s),new Error("Could not extract Space ID from Node Info");return c},A_=async(t,e,i)=>{var p,g;i("info",`Feishu: Creating blank Docx: "${e}"`);const a=await Fi("https://open.feishu.cn/open-apis/docx/v1/documents",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({title:e})},i);if(!a.ok){const h=await a.text();throw new Error(`Create Doc Failed (${a.status}): ${h}`)}const s=await a.json();if(s.code!==0)throw new Error(`Create Doc Error (${s.code}): ${s.msg}`);const c=(g=(p=s.data)==null?void 0:p.document)==null?void 0:g.document_id;if(!c)throw new Error("Created document but got no document_id");return i("info",`Feishu: Blank document created (${c})`),c},w_=async(t,e,i,o,a,s)=>{var y,S;s("info",`Feishu: Moving document to Wiki under node '${i}'`);const c=`https://open.feishu.cn/open-apis/wiki/v2/spaces/${e}/nodes`,p=await Fi(c,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({parent_node_token:i,obj_token:o,obj_type:"docx",node_type:"origin",title:a})},s);if(!p.ok){const E=await p.text();throw new Error(`Move to Wiki Failed (${p.status}): ${E}`)}const g=await p.json();if(g.code!==0)throw new Error(`Move to Wiki Error (${g.code}): ${g.msg}`);const h=(S=(y=g.data)==null?void 0:y.node)==null?void 0:S.obj_token;return s("info",`Feishu: Document successfully added to Wiki. ID: ${h}`),h},b_=(t,e,i)=>{const o=[];return o.push({block_type:3,heading1:{elements:[{text_run:{content:t,text_element_style:{bold:!0}}}],style:{}}}),e&&e.trim()&&(o.push({block_type:5,heading3:{elements:[{text_run:{content:" System Prompt",text_element_style:{bold:!0}}}],style:{}}}),o.push({block_type:2,text:{elements:[{text_run:{content:e,text_element_style:{}}}],style:{}}}),o.push({block_type:2,text:{elements:[{text_run:{content:" ",text_element_style:{}}}],style:{}}})),i.forEach(a=>{o.push({block_type:5,heading3:{elements:[{text_run:{content:a.role==="user"?" User":" Assistant",text_element_style:{bold:!0}}}],style:{}}}),a.content&&a.content.trim()&&o.push({block_type:2,text:{elements:[{text_run:{content:a.content,text_element_style:{}}}],style:{}}}),a.attachments&&a.attachments.length>0&&o.push({block_type:2,text:{elements:[{text_run:{content:`[Attachments: ${a.attachments.map(s=>s.name).join(", ")}]`,text_element_style:{italic:!0}}}],style:{}}}),o.push({block_type:2,text:{elements:[{text_run:{content:" ",text_element_style:{}}}],style:{}}})}),o},N_=async(t,e,i,o)=>{var M,N,O;const a=(M=t.appId)==null?void 0:M.trim(),s=(N=t.appSecret)==null?void 0:N.trim(),c=(O=t.wikiNodeToken)==null?void 0:O.trim().replace(/^["']|["']$/g,"");if(!a||!s||!c)throw new Error("Feishu configuration (App ID, Secret, Wiki Token) is incomplete.");const p=await C_(a,s,o),g=await x_(p,c,o);o("info",`Feishu: Resolved Space ID: ${g}`);const y=`Chat Export - ${new Date().toLocaleString()}`,S=await A_(p,y,o),E=await w_(p,g,c,S,y,o),_=b_(y,i,e),A=50,I=`https://open.feishu.cn/open-apis/docx/v1/documents/${E}/blocks/${E}/children`;for(let P=0;P<_.length;P+=A){const G=_.slice(P,P+A);o("request",`Feishu: Writing content batch ${Math.floor(P/A)+1}`);const Q=await Fi(I,{method:"POST",headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({children:G})},o);if(!Q.ok){const F=await Q.text();throw new Error(`Write Content Failed (${Q.status}): ${F}`)}const U=await Q.json();if(U.code!==0)throw new Error(`Write Content Error (${U.code}): ${U.msg}`)}o("info","Feishu Wiki Export Complete")},R_=async(t,e,i,o)=>{const a=(s,c,p)=>{o&&o({category:s,summary:c,details:p})};a("info",`Starting export to ${t.target}`);try{if(t.target===an.Notion){if(!t.notion.databaseId)throw new Error("Notion Database ID is missing");await __(t.notion,e,i,a)}else if(t.target===an.Feishu){if(!t.feishu.appId)throw new Error("Feishu App ID is missing");await N_(t.feishu,e,i,a)}else throw new Error(`Unsupported export target: ${t.target}`)}catch(s){throw a("error","Export Failed",{message:s.message}),s}},M_=({config:t,setConfig:e,chatHistory:i,onLog:o,appConfig:a})=>{const[s,c]=xe.useState(!1),[p,g]=xe.useState("idle"),[h,y]=xe.useState(""),S=async()=>{if(i.length===0){y("No chat history to export."),g("error"),o({category:"error",summary:"Export failed: No history"});return}if(t.target===an.Notion){if(!t.notion.token){y("Notion Token is required"),g("error");return}if(!t.notion.databaseId){y("Notion Database ID is required"),g("error");return}}if(t.target===an.Feishu){if(!t.feishu.appId||!t.feishu.appSecret){y("App ID and App Secret are required"),g("error");return}if(!t.feishu.wikiNodeToken){y("Parent Wiki Node Token is required"),g("error");return}}c(!0),g("idle");try{await R_(t,i,a.systemPrompt,o),g("success")}catch(A){g("error"),y(A.message||"Export failed")}finally{c(!1)}},E=(A,I)=>{e(M=>({...M,notion:{...M.notion,[A]:I}}))},_=(A,I)=>{e(M=>({...M,feishu:{...M.feishu,[A]:I}}))};return w.jsxs("div",{className:"w-full md:w-80 bg-white border-l border-slate-200 flex flex-col h-full overflow-y-auto",children:[w.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center gap-2",children:[w.jsx(l_,{className:"w-5 h-5 text-indigo-600"}),w.jsx("h2",{className:"font-semibold text-slate-800",children:"Export Settings"})]}),w.jsxs("div",{className:"p-4 space-y-6 flex-1",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-slate-700 block",children:"Destination"}),w.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[w.jsx("button",{onClick:()=>e(A=>({...A,target:an.Notion})),className:`p-3 rounded-lg border text-sm font-medium transition-all flex items-center justify-center gap-2
                ${t.target===an.Notion?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Notion"}),w.jsx("button",{onClick:()=>e(A=>({...A,target:an.Feishu})),className:`p-3 rounded-lg border text-sm font-medium transition-all flex items-center justify-center gap-2
                ${t.target===an.Feishu?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Feishu"})]})]}),t.target===an.Notion&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-slate-700 block",children:"Integration Token"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"password",value:t.notion.token,onChange:A=>E("token",A.target.value),placeholder:"secret_...",className:"w-full p-2.5 pl-9 bg-slate-50 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"}),w.jsx(c0,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-slate-700 block",children:"Database ID"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"text",value:t.notion.databaseId,onChange:A=>E("databaseId",A.target.value),placeholder:"xxxxxxxx...",className:"w-full p-2.5 pl-9 bg-slate-50 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"}),w.jsx(qT,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"})]}),w.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"A new page will be created in this DB."})]})]}),t.target===an.Feishu&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-slate-700 block",children:"App ID"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"text",value:t.feishu.appId,onChange:A=>_("appId",A.target.value),placeholder:"cli_...",className:"w-full p-2.5 pl-9 bg-slate-50 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"}),w.jsx(YT,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-slate-700 block",children:"App Secret"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"password",value:t.feishu.appSecret,onChange:A=>_("appSecret",A.target.value),placeholder:"Secret key...",className:"w-full p-2.5 pl-9 bg-slate-50 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"}),w.jsx(WT,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-medium text-slate-700 block",children:"Parent Wiki Node Token"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"text",value:t.feishu.wikiNodeToken,onChange:A=>_("wikiNodeToken",A.target.value),placeholder:"wik... (Token from URL)",className:"w-full p-2.5 pl-9 bg-slate-50 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"}),w.jsx($T,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"})]}),w.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Found in the browser URL of the target Wiki folder/page."})]})]})]}),w.jsxs("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:[p==="success"&&w.jsxs("div",{className:"mb-3 p-2 bg-green-100 text-green-700 text-xs rounded flex items-center gap-2",children:[w.jsx(IT,{className:"w-4 h-4"})," Export successful!"]}),p==="error"&&w.jsxs("div",{className:"mb-3 p-2 bg-red-100 text-red-700 text-xs rounded flex items-center gap-2",children:[w.jsx(u0,{className:"w-4 h-4"})," ",h]}),w.jsx("button",{onClick:S,disabled:s,className:`w-full py-2.5 rounded-lg text-sm font-medium text-white shadow-sm transition-all flex items-center justify-center gap-2
            ${s?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 active:transform active:scale-95"}`,children:s?w.jsx(w.Fragment,{children:"Processing..."}):w.jsxs(w.Fragment,{children:[w.jsx(OT,{className:"w-4 h-4"}),"Export to ",t.target]})})]})]})};function I_(t,e){const i={};return(t[t.length-1]===""?[...t,""]:t).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const D_=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,k_=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,U_={};function Ym(t,e){return(U_.jsx?k_:D_).test(t)}const L_=/[ \t\n\f\r]/g;function P_(t){return typeof t=="object"?t.type==="text"?Jm(t.value):!1:Jm(t)}function Jm(t){return t.replace(L_,"")===""}class nr{constructor(e,i,o){this.normal=i,this.property=e,o&&(this.space=o)}}nr.prototype.normal={};nr.prototype.property={};nr.prototype.space=void 0;function p0(t,e){const i={},o={};for(const a of t)Object.assign(i,a.property),Object.assign(o,a.normal);return new nr(i,o,e)}function Hc(t){return t.toLowerCase()}class Ht{constructor(e,i){this.attribute=i,this.property=e}}Ht.prototype.attribute="";Ht.prototype.booleanish=!1;Ht.prototype.boolean=!1;Ht.prototype.commaOrSpaceSeparated=!1;Ht.prototype.commaSeparated=!1;Ht.prototype.defined=!1;Ht.prototype.mustUseProperty=!1;Ht.prototype.number=!1;Ht.prototype.overloadedBoolean=!1;Ht.prototype.property="";Ht.prototype.spaceSeparated=!1;Ht.prototype.space=void 0;let z_=0;const Ce=Yi(),ut=Yi(),qc=Yi(),j=Yi(),Xe=Yi(),Gl=Yi(),Kt=Yi();function Yi(){return 2**++z_}const Gc=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ce,booleanish:ut,commaOrSpaceSeparated:Kt,commaSeparated:Gl,number:j,overloadedBoolean:qc,spaceSeparated:Xe},Symbol.toStringTag,{value:"Module"})),_c=Object.keys(Gc);class ff extends Ht{constructor(e,i,o,a){let s=-1;if(super(e,i),Km(this,"space",a),typeof o=="number")for(;++s<_c.length;){const c=_c[s];Km(this,_c[s],(o&Gc[c])===Gc[c])}}}ff.prototype.defined=!0;function Km(t,e,i){i&&(t[e]=i)}function Fl(t){const e={},i={};for(const[o,a]of Object.entries(t.properties)){const s=new ff(o,t.transform(t.attributes||{},o),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(s.mustUseProperty=!0),e[o]=s,i[Hc(o)]=o,i[Hc(s.attribute)]=o}return new nr(e,i,t.space)}const h0=Fl({properties:{ariaActiveDescendant:null,ariaAtomic:ut,ariaAutoComplete:null,ariaBusy:ut,ariaChecked:ut,ariaColCount:j,ariaColIndex:j,ariaColSpan:j,ariaControls:Xe,ariaCurrent:null,ariaDescribedBy:Xe,ariaDetails:null,ariaDisabled:ut,ariaDropEffect:Xe,ariaErrorMessage:null,ariaExpanded:ut,ariaFlowTo:Xe,ariaGrabbed:ut,ariaHasPopup:null,ariaHidden:ut,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xe,ariaLevel:j,ariaLive:null,ariaModal:ut,ariaMultiLine:ut,ariaMultiSelectable:ut,ariaOrientation:null,ariaOwns:Xe,ariaPlaceholder:null,ariaPosInSet:j,ariaPressed:ut,ariaReadOnly:ut,ariaRelevant:null,ariaRequired:ut,ariaRoleDescription:Xe,ariaRowCount:j,ariaRowIndex:j,ariaRowSpan:j,ariaSelected:ut,ariaSetSize:j,ariaSort:null,ariaValueMax:j,ariaValueMin:j,ariaValueNow:j,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function m0(t,e){return e in t?t[e]:e}function g0(t,e){return m0(t,e.toLowerCase())}const H_=Fl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Gl,acceptCharset:Xe,accessKey:Xe,action:null,allow:null,allowFullScreen:Ce,allowPaymentRequest:Ce,allowUserMedia:Ce,alt:null,as:null,async:Ce,autoCapitalize:null,autoComplete:Xe,autoFocus:Ce,autoPlay:Ce,blocking:Xe,capture:null,charSet:null,checked:Ce,cite:null,className:Xe,cols:j,colSpan:null,content:null,contentEditable:ut,controls:Ce,controlsList:Xe,coords:j|Gl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ce,defer:Ce,dir:null,dirName:null,disabled:Ce,download:qc,draggable:ut,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ce,formTarget:null,headers:Xe,height:j,hidden:qc,high:j,href:null,hrefLang:null,htmlFor:Xe,httpEquiv:Xe,id:null,imageSizes:null,imageSrcSet:null,inert:Ce,inputMode:null,integrity:null,is:null,isMap:Ce,itemId:null,itemProp:Xe,itemRef:Xe,itemScope:Ce,itemType:Xe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ce,low:j,manifest:null,max:null,maxLength:j,media:null,method:null,min:null,minLength:j,multiple:Ce,muted:Ce,name:null,nonce:null,noModule:Ce,noValidate:Ce,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ce,optimum:j,pattern:null,ping:Xe,placeholder:null,playsInline:Ce,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ce,referrerPolicy:null,rel:Xe,required:Ce,reversed:Ce,rows:j,rowSpan:j,sandbox:Xe,scope:null,scoped:Ce,seamless:Ce,selected:Ce,shadowRootClonable:Ce,shadowRootDelegatesFocus:Ce,shadowRootMode:null,shape:null,size:j,sizes:null,slot:null,span:j,spellCheck:ut,src:null,srcDoc:null,srcLang:null,srcSet:null,start:j,step:null,style:null,tabIndex:j,target:null,title:null,translate:null,type:null,typeMustMatch:Ce,useMap:null,value:ut,width:j,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xe,axis:null,background:null,bgColor:null,border:j,borderColor:null,bottomMargin:j,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ce,declare:Ce,event:null,face:null,frame:null,frameBorder:null,hSpace:j,leftMargin:j,link:null,longDesc:null,lowSrc:null,marginHeight:j,marginWidth:j,noResize:Ce,noHref:Ce,noShade:Ce,noWrap:Ce,object:null,profile:null,prompt:null,rev:null,rightMargin:j,rules:null,scheme:null,scrolling:ut,standby:null,summary:null,text:null,topMargin:j,valueType:null,version:null,vAlign:null,vLink:null,vSpace:j,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ce,disableRemotePlayback:Ce,prefix:null,property:null,results:j,security:null,unselectable:null},space:"html",transform:g0}),q_=Fl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Kt,accentHeight:j,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:j,amplitude:j,arabicForm:null,ascent:j,attributeName:null,attributeType:null,azimuth:j,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:j,by:null,calcMode:null,capHeight:j,className:Xe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:j,diffuseConstant:j,direction:null,display:null,dur:null,divisor:j,dominantBaseline:null,download:Ce,dx:null,dy:null,edgeMode:null,editable:null,elevation:j,enableBackground:null,end:null,event:null,exponent:j,externalResourcesRequired:null,fill:null,fillOpacity:j,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Gl,g2:Gl,glyphName:Gl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:j,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:j,horizOriginX:j,horizOriginY:j,id:null,ideographic:j,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:j,k:j,k1:j,k2:j,k3:j,k4:j,kernelMatrix:Kt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:j,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:j,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:j,overlineThickness:j,paintOrder:null,panose1:null,path:null,pathLength:j,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:j,pointsAtY:j,pointsAtZ:j,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kt,rev:Kt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kt,requiredFeatures:Kt,requiredFonts:Kt,requiredFormats:Kt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:j,specularExponent:j,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:j,strikethroughThickness:j,string:null,stroke:null,strokeDashArray:Kt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:j,strokeOpacity:j,strokeWidth:null,style:null,surfaceScale:j,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kt,tabIndex:j,tableValues:null,target:null,targetX:j,targetY:j,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:j,underlineThickness:j,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:j,values:null,vAlphabetic:j,vMathematical:j,vectorEffect:null,vHanging:j,vIdeographic:j,version:null,vertAdvY:j,vertOriginX:j,vertOriginY:j,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:j,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:m0}),y0=Fl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),v0=Fl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:g0}),S0=Fl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),G_={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},V_=/[A-Z]/g,Xm=/-[a-z]/g,B_=/^data[-\w.:]+$/i;function O_(t,e){const i=Hc(e);let o=e,a=Ht;if(i in t.normal)return t.property[t.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&B_.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Xm,Y_);o="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Xm.test(s)){let c=s.replace(V_,F_);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}a=ff}return new a(o,e)}function F_(t){return"-"+t.toLowerCase()}function Y_(t){return t.charAt(1).toUpperCase()}const J_=p0([h0,H_,y0,v0,S0],"html"),df=p0([h0,q_,y0,v0,S0],"svg");function K_(t){return t.join(" ").trim()}var Ll={},Cc,Qm;function X_(){if(Qm)return Cc;Qm=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,i=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,p=/^\s+|\s+$/g,g=`
`,h="/",y="*",S="",E="comment",_="declaration";function A(M,N){if(typeof M!="string")throw new TypeError("First argument must be a string");if(!M)return[];N=N||{};var O=1,P=1;function G(se){var te=se.match(e);te&&(O+=te.length);var z=se.lastIndexOf(g);P=~z?se.length-z:P+se.length}function Q(){var se={line:O,column:P};return function(te){return te.position=new U(se),Z(),te}}function U(se){this.start=se,this.end={line:O,column:P},this.source=N.source}U.prototype.content=M;function F(se){var te=new Error(N.source+":"+O+":"+P+": "+se);if(te.reason=se,te.filename=N.source,te.line=O,te.column=P,te.source=M,!N.silent)throw te}function oe(se){var te=se.exec(M);if(te){var z=te[0];return G(z),M=M.slice(z.length),te}}function Z(){oe(i)}function le(se){var te;for(se=se||[];te=ee();)te!==!1&&se.push(te);return se}function ee(){var se=Q();if(!(h!=M.charAt(0)||y!=M.charAt(1))){for(var te=2;S!=M.charAt(te)&&(y!=M.charAt(te)||h!=M.charAt(te+1));)++te;if(te+=2,S===M.charAt(te-1))return F("End of comment missing");var z=M.slice(2,te-2);return P+=2,G(z),M=M.slice(te),P+=2,se({type:E,comment:z})}}function ie(){var se=Q(),te=oe(o);if(te){if(ee(),!oe(a))return F("property missing ':'");var z=oe(s),W=se({type:_,property:I(te[0].replace(t,S)),value:z?I(z[0].replace(t,S)):S});return oe(c),W}}function de(){var se=[];le(se);for(var te;te=ie();)te!==!1&&(se.push(te),le(se));return se}return Z(),de()}function I(M){return M?M.replace(p,S):S}return Cc=A,Cc}var $m;function Q_(){if($m)return Ll;$m=1;var t=Ll&&Ll.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.default=i;const e=t(X_());function i(o,a){let s=null;if(!o||typeof o!="string")return s;const c=(0,e.default)(o),p=typeof a=="function";return c.forEach(g=>{if(g.type!=="declaration")return;const{property:h,value:y}=g;p?a(h,y,g):y&&(s=s||{},s[h]=y)}),s}return Ll}var Yo={},Zm;function $_(){if(Zm)return Yo;Zm=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,i=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(h){return!h||i.test(h)||t.test(h)},c=function(h,y){return y.toUpperCase()},p=function(h,y){return"".concat(y,"-")},g=function(h,y){return y===void 0&&(y={}),s(h)?h:(h=h.toLowerCase(),y.reactCompat?h=h.replace(a,p):h=h.replace(o,p),h.replace(e,c))};return Yo.camelCase=g,Yo}var Jo,Wm;function Z_(){if(Wm)return Jo;Wm=1;var t=Jo&&Jo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(Q_()),i=$_();function o(a,s){var c={};return!a||typeof a!="string"||(0,e.default)(a,function(p,g){p&&g&&(c[(0,i.camelCase)(p,s)]=g)}),c}return o.default=o,Jo=o,Jo}var W_=Z_();const j_=Oa(W_),E0=T0("end"),pf=T0("start");function T0(t){return e;function e(i){const o=i&&i.position&&i.position[t]||{};if(typeof o.line=="number"&&o.line>0&&typeof o.column=="number"&&o.column>0)return{line:o.line,column:o.column,offset:typeof o.offset=="number"&&o.offset>-1?o.offset:void 0}}}function eC(t){const e=pf(t),i=E0(t);if(e&&i)return{start:e,end:i}}function Wo(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?jm(t.position):"start"in t||"end"in t?jm(t):"line"in t||"column"in t?Vc(t):""}function Vc(t){return eg(t&&t.line)+":"+eg(t&&t.column)}function jm(t){return Vc(t&&t.start)+"-"+Vc(t&&t.end)}function eg(t){return t&&typeof t=="number"?t:1}class _t extends Error{constructor(e,i,o){super(),typeof i=="string"&&(o=i,i=void 0);let a="",s={},c=!1;if(i&&("line"in i&&"column"in i?s={place:i}:"start"in i&&"end"in i?s={place:i}:"type"in i?s={ancestors:[i],place:i.position}:s={...i}),typeof e=="string"?a=e:!s.cause&&e&&(c=!0,a=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof o=="string"){const g=o.indexOf(":");g===-1?s.ruleId=o:(s.source=o.slice(0,g),s.ruleId=o.slice(g+1))}if(!s.place&&s.ancestors&&s.ancestors){const g=s.ancestors[s.ancestors.length-1];g&&(s.place=g.position)}const p=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=p?p.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=p?p.line:void 0,this.name=Wo(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=c&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}_t.prototype.file="";_t.prototype.name="";_t.prototype.reason="";_t.prototype.message="";_t.prototype.stack="";_t.prototype.column=void 0;_t.prototype.line=void 0;_t.prototype.ancestors=void 0;_t.prototype.cause=void 0;_t.prototype.fatal=void 0;_t.prototype.place=void 0;_t.prototype.ruleId=void 0;_t.prototype.source=void 0;const hf={}.hasOwnProperty,tC=new Map,nC=/[A-Z]/g,iC=new Set(["table","tbody","thead","tfoot","tr"]),lC=new Set(["td","th"]),_0="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function oC(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=e.filePath||void 0;let o;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");o=pC(i,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");o=dC(i,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:o,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?df:J_,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=C0(a,t,void 0);return s&&typeof s!="string"?s:a.create(t,a.Fragment,{children:s||void 0},void 0)}function C0(t,e,i){if(e.type==="element")return rC(t,e,i);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return aC(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return uC(t,e,i);if(e.type==="mdxjsEsm")return sC(t,e);if(e.type==="root")return cC(t,e,i);if(e.type==="text")return fC(t,e)}function rC(t,e,i){const o=t.schema;let a=o;e.tagName.toLowerCase()==="svg"&&o.space==="html"&&(a=df,t.schema=a),t.ancestors.push(e);const s=A0(t,e.tagName,!1),c=hC(t,e);let p=gf(t,e);return iC.has(e.tagName)&&(p=p.filter(function(g){return typeof g=="string"?!P_(g):!0})),x0(t,c,s,e),mf(c,p),t.ancestors.pop(),t.schema=o,t.create(e,s,c,i)}function aC(t,e){if(e.data&&e.data.estree&&t.evaluater){const o=e.data.estree.body[0];return o.type,t.evaluater.evaluateExpression(o.expression)}tr(t,e.position)}function sC(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);tr(t,e.position)}function uC(t,e,i){const o=t.schema;let a=o;e.name==="svg"&&o.space==="html"&&(a=df,t.schema=a),t.ancestors.push(e);const s=e.name===null?t.Fragment:A0(t,e.name,!0),c=mC(t,e),p=gf(t,e);return x0(t,c,s,e),mf(c,p),t.ancestors.pop(),t.schema=o,t.create(e,s,c,i)}function cC(t,e,i){const o={};return mf(o,gf(t,e)),t.create(e,t.Fragment,o,i)}function fC(t,e){return e.value}function x0(t,e,i,o){typeof i!="string"&&i!==t.Fragment&&t.passNode&&(e.node=o)}function mf(t,e){if(e.length>0){const i=e.length>1?e:e[0];i&&(t.children=i)}}function dC(t,e,i){return o;function o(a,s,c,p){const h=Array.isArray(c.children)?i:e;return p?h(s,c,p):h(s,c)}}function pC(t,e){return i;function i(o,a,s,c){const p=Array.isArray(s.children),g=pf(o);return e(a,s,c,p,{columnNumber:g?g.column-1:void 0,fileName:t,lineNumber:g?g.line:void 0},void 0)}}function hC(t,e){const i={};let o,a;for(a in e.properties)if(a!=="children"&&hf.call(e.properties,a)){const s=gC(t,a,e.properties[a]);if(s){const[c,p]=s;t.tableCellAlignToStyle&&c==="align"&&typeof p=="string"&&lC.has(e.tagName)?o=p:i[c]=p}}if(o){const s=i.style||(i.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=o}return i}function mC(t,e){const i={};for(const o of e.attributes)if(o.type==="mdxJsxExpressionAttribute")if(o.data&&o.data.estree&&t.evaluater){const s=o.data.estree.body[0];s.type;const c=s.expression;c.type;const p=c.properties[0];p.type,Object.assign(i,t.evaluater.evaluateExpression(p.argument))}else tr(t,e.position);else{const a=o.name;let s;if(o.value&&typeof o.value=="object")if(o.value.data&&o.value.data.estree&&t.evaluater){const p=o.value.data.estree.body[0];p.type,s=t.evaluater.evaluateExpression(p.expression)}else tr(t,e.position);else s=o.value===null?!0:o.value;i[a]=s}return i}function gf(t,e){const i=[];let o=-1;const a=t.passKeys?new Map:tC;for(;++o<e.children.length;){const s=e.children[o];let c;if(t.passKeys){const g=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(g){const h=a.get(g)||0;c=g+"-"+h,a.set(g,h+1)}}const p=C0(t,s,c);p!==void 0&&i.push(p)}return i}function gC(t,e,i){const o=O_(t.schema,e);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=o.commaSeparated?I_(i):K_(i)),o.property==="style"){let a=typeof i=="object"?i:yC(t,String(i));return t.stylePropertyNameCase==="css"&&(a=vC(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&o.space?G_[o.property]||o.property:o.attribute,i]}}function yC(t,e){try{return j_(e,{reactCompat:!0})}catch(i){if(t.ignoreInvalidStyle)return{};const o=i,a=new _t("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=_0+"#cannot-parse-style-attribute",a}}function A0(t,e,i){let o;if(!i)o={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let s=-1,c;for(;++s<a.length;){const p=Ym(a[s])?{type:"Identifier",name:a[s]}:{type:"Literal",value:a[s]};c=c?{type:"MemberExpression",object:c,property:p,computed:!!(s&&p.type==="Literal"),optional:!1}:p}o=c}else o=Ym(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(o.type==="Literal"){const a=o.value;return hf.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(o);tr(t)}function tr(t,e){const i=new _t("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=_0+"#cannot-handle-mdx-estrees-without-createevaluater",i}function vC(t){const e={};let i;for(i in t)hf.call(t,i)&&(e[SC(i)]=t[i]);return e}function SC(t){let e=t.replace(nC,EC);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function EC(t){return"-"+t.toLowerCase()}const xc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},TC={};function _C(t,e){const i=TC,o=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,a=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return w0(t,o,a)}function w0(t,e,i){if(CC(t)){if("value"in t)return t.type==="html"&&!i?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return tg(t.children,e,i)}return Array.isArray(t)?tg(t,e,i):""}function tg(t,e,i){const o=[];let a=-1;for(;++a<t.length;)o[a]=w0(t[a],e,i);return o.join("")}function CC(t){return!!(t&&typeof t=="object")}const ng=document.createElement("i");function yf(t){const e="&"+t+";";ng.innerHTML=e;const i=ng.textContent;return i.charCodeAt(i.length-1)===59&&t!=="semi"||i===e?!1:i}function xn(t,e,i,o){const a=t.length;let s=0,c;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,i=i>0?i:0,o.length<1e4)c=Array.from(o),c.unshift(e,i),t.splice(...c);else for(i&&t.splice(e,i);s<o.length;)c=o.slice(s,s+1e4),c.unshift(e,0),t.splice(...c),s+=1e4,e+=1e4}function sn(t,e){return t.length>0?(xn(t,t.length,0,e),t):e}const ig={}.hasOwnProperty;function xC(t){const e={};let i=-1;for(;++i<t.length;)AC(e,t[i]);return e}function AC(t,e){let i;for(i in e){const a=(ig.call(t,i)?t[i]:void 0)||(t[i]={}),s=e[i];let c;if(s)for(c in s){ig.call(a,c)||(a[c]=[]);const p=s[c];wC(a[c],Array.isArray(p)?p:p?[p]:[])}}}function wC(t,e){let i=-1;const o=[];for(;++i<e.length;)(e[i].add==="after"?t:o).push(e[i]);xn(t,0,0,o)}function b0(t,e){const i=Number.parseInt(t,e);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function Vl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Cn=Ci(/[A-Za-z]/),Xt=Ci(/[\dA-Za-z]/),bC=Ci(/[#-'*+\--9=?A-Z^-~]/);function Bc(t){return t!==null&&(t<32||t===127)}const Oc=Ci(/\d/),NC=Ci(/[\dA-Fa-f]/),RC=Ci(/[!-/:-@[-`{-~]/);function ve(t){return t!==null&&t<-2}function zt(t){return t!==null&&(t<0||t===32)}function ze(t){return t===-2||t===-1||t===32}const MC=Ci(new RegExp("\\p{P}|\\p{S}","u")),IC=Ci(/\s/);function Ci(t){return e;function e(i){return i!==null&&i>-1&&t.test(String.fromCharCode(i))}}function Yl(t){const e=[];let i=-1,o=0,a=0;for(;++i<t.length;){const s=t.charCodeAt(i);let c="";if(s===37&&Xt(t.charCodeAt(i+1))&&Xt(t.charCodeAt(i+2)))a=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(c=String.fromCharCode(s));else if(s>55295&&s<57344){const p=t.charCodeAt(i+1);s<56320&&p>56319&&p<57344?(c=String.fromCharCode(s,p),a=1):c=""}else c=String.fromCharCode(s);c&&(e.push(t.slice(o,i),encodeURIComponent(c)),o=i+a+1,c=""),a&&(i+=a,a=0)}return e.join("")+t.slice(o)}function Qe(t,e,i,o){const a=o?o-1:Number.POSITIVE_INFINITY;let s=0;return c;function c(g){return ze(g)?(t.enter(i),p(g)):e(g)}function p(g){return ze(g)&&s++<a?(t.consume(g),p):(t.exit(i),e(g))}}const DC={tokenize:kC};function kC(t){const e=t.attempt(this.parser.constructs.contentInitial,o,a);let i;return e;function o(p){if(p===null){t.consume(p);return}return t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Qe(t,e,"linePrefix")}function a(p){return t.enter("paragraph"),s(p)}function s(p){const g=t.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=g),i=g,c(p)}function c(p){if(p===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(p);return}return ve(p)?(t.consume(p),t.exit("chunkText"),s):(t.consume(p),c)}}const UC={tokenize:LC},lg={tokenize:PC};function LC(t){const e=this,i=[];let o=0,a,s,c;return p;function p(P){if(o<i.length){const G=i[o];return e.containerState=G[1],t.attempt(G[0].continuation,g,h)(P)}return h(P)}function g(P){if(o++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&O();const G=e.events.length;let Q=G,U;for(;Q--;)if(e.events[Q][0]==="exit"&&e.events[Q][1].type==="chunkFlow"){U=e.events[Q][1].end;break}N(o);let F=G;for(;F<e.events.length;)e.events[F][1].end={...U},F++;return xn(e.events,Q+1,0,e.events.slice(G)),e.events.length=F,h(P)}return p(P)}function h(P){if(o===i.length){if(!a)return E(P);if(a.currentConstruct&&a.currentConstruct.concrete)return A(P);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(lg,y,S)(P)}function y(P){return a&&O(),N(o),E(P)}function S(P){return e.parser.lazy[e.now().line]=o!==i.length,c=e.now().offset,A(P)}function E(P){return e.containerState={},t.attempt(lg,_,A)(P)}function _(P){return o++,i.push([e.currentConstruct,e.containerState]),E(P)}function A(P){if(P===null){a&&O(),N(0),t.consume(P);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:s}),I(P)}function I(P){if(P===null){M(t.exit("chunkFlow"),!0),N(0),t.consume(P);return}return ve(P)?(t.consume(P),M(t.exit("chunkFlow")),o=0,e.interrupt=void 0,p):(t.consume(P),I)}function M(P,G){const Q=e.sliceStream(P);if(G&&Q.push(null),P.previous=s,s&&(s.next=P),s=P,a.defineSkip(P.start),a.write(Q),e.parser.lazy[P.start.line]){let U=a.events.length;for(;U--;)if(a.events[U][1].start.offset<c&&(!a.events[U][1].end||a.events[U][1].end.offset>c))return;const F=e.events.length;let oe=F,Z,le;for(;oe--;)if(e.events[oe][0]==="exit"&&e.events[oe][1].type==="chunkFlow"){if(Z){le=e.events[oe][1].end;break}Z=!0}for(N(o),U=F;U<e.events.length;)e.events[U][1].end={...le},U++;xn(e.events,oe+1,0,e.events.slice(F)),e.events.length=U}}function N(P){let G=i.length;for(;G-- >P;){const Q=i[G];e.containerState=Q[1],Q[0].exit.call(e,t)}i.length=P}function O(){a.write([null]),s=void 0,a=void 0,e.containerState._closeFlow=void 0}}function PC(t,e,i){return Qe(t,t.attempt(this.parser.constructs.document,e,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function og(t){if(t===null||zt(t)||IC(t))return 1;if(MC(t))return 2}function vf(t,e,i){const o=[];let a=-1;for(;++a<t.length;){const s=t[a].resolveAll;s&&!o.includes(s)&&(e=s(e,i),o.push(s))}return e}const Fc={name:"attention",resolveAll:zC,tokenize:HC};function zC(t,e){let i=-1,o,a,s,c,p,g,h,y;for(;++i<t.length;)if(t[i][0]==="enter"&&t[i][1].type==="attentionSequence"&&t[i][1]._close){for(o=i;o--;)if(t[o][0]==="exit"&&t[o][1].type==="attentionSequence"&&t[o][1]._open&&e.sliceSerialize(t[o][1]).charCodeAt(0)===e.sliceSerialize(t[i][1]).charCodeAt(0)){if((t[o][1]._close||t[i][1]._open)&&(t[i][1].end.offset-t[i][1].start.offset)%3&&!((t[o][1].end.offset-t[o][1].start.offset+t[i][1].end.offset-t[i][1].start.offset)%3))continue;g=t[o][1].end.offset-t[o][1].start.offset>1&&t[i][1].end.offset-t[i][1].start.offset>1?2:1;const S={...t[o][1].end},E={...t[i][1].start};rg(S,-g),rg(E,g),c={type:g>1?"strongSequence":"emphasisSequence",start:S,end:{...t[o][1].end}},p={type:g>1?"strongSequence":"emphasisSequence",start:{...t[i][1].start},end:E},s={type:g>1?"strongText":"emphasisText",start:{...t[o][1].end},end:{...t[i][1].start}},a={type:g>1?"strong":"emphasis",start:{...c.start},end:{...p.end}},t[o][1].end={...c.start},t[i][1].start={...p.end},h=[],t[o][1].end.offset-t[o][1].start.offset&&(h=sn(h,[["enter",t[o][1],e],["exit",t[o][1],e]])),h=sn(h,[["enter",a,e],["enter",c,e],["exit",c,e],["enter",s,e]]),h=sn(h,vf(e.parser.constructs.insideSpan.null,t.slice(o+1,i),e)),h=sn(h,[["exit",s,e],["enter",p,e],["exit",p,e],["exit",a,e]]),t[i][1].end.offset-t[i][1].start.offset?(y=2,h=sn(h,[["enter",t[i][1],e],["exit",t[i][1],e]])):y=0,xn(t,o-1,i-o+3,h),i=o+h.length-y-2;break}}for(i=-1;++i<t.length;)t[i][1].type==="attentionSequence"&&(t[i][1].type="data");return t}function HC(t,e){const i=this.parser.constructs.attentionMarkers.null,o=this.previous,a=og(o);let s;return c;function c(g){return s=g,t.enter("attentionSequence"),p(g)}function p(g){if(g===s)return t.consume(g),p;const h=t.exit("attentionSequence"),y=og(g),S=!y||y===2&&a||i.includes(g),E=!a||a===2&&y||i.includes(o);return h._open=!!(s===42?S:S&&(a||!E)),h._close=!!(s===42?E:E&&(y||!S)),e(g)}}function rg(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const qC={name:"autolink",tokenize:GC};function GC(t,e,i){let o=0;return a;function a(_){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(_){return Cn(_)?(t.consume(_),c):_===64?i(_):h(_)}function c(_){return _===43||_===45||_===46||Xt(_)?(o=1,p(_)):h(_)}function p(_){return _===58?(t.consume(_),o=0,g):(_===43||_===45||_===46||Xt(_))&&o++<32?(t.consume(_),p):(o=0,h(_))}function g(_){return _===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):_===null||_===32||_===60||Bc(_)?i(_):(t.consume(_),g)}function h(_){return _===64?(t.consume(_),y):bC(_)?(t.consume(_),h):i(_)}function y(_){return Xt(_)?S(_):i(_)}function S(_){return _===46?(t.consume(_),o=0,y):_===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(_),t.exit("autolinkMarker"),t.exit("autolink"),e):E(_)}function E(_){if((_===45||Xt(_))&&o++<63){const A=_===45?E:S;return t.consume(_),A}return i(_)}}const Fa={partial:!0,tokenize:VC};function VC(t,e,i){return o;function o(s){return ze(s)?Qe(t,a,"linePrefix")(s):a(s)}function a(s){return s===null||ve(s)?e(s):i(s)}}const N0={continuation:{tokenize:OC},exit:FC,name:"blockQuote",tokenize:BC};function BC(t,e,i){const o=this;return a;function a(c){if(c===62){const p=o.containerState;return p.open||(t.enter("blockQuote",{_container:!0}),p.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),s}return i(c)}function s(c){return ze(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(c))}}function OC(t,e,i){const o=this;return a;function a(c){return ze(c)?Qe(t,s,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):s(c)}function s(c){return t.attempt(N0,e,i)(c)}}function FC(t){t.exit("blockQuote")}const R0={name:"characterEscape",tokenize:YC};function YC(t,e,i){return o;function o(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),a}function a(s){return RC(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):i(s)}}const M0={name:"characterReference",tokenize:JC};function JC(t,e,i){const o=this;let a=0,s,c;return p;function p(S){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(S),t.exit("characterReferenceMarker"),g}function g(S){return S===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(S),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),s=31,c=Xt,y(S))}function h(S){return S===88||S===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(S),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,c=NC,y):(t.enter("characterReferenceValue"),s=7,c=Oc,y(S))}function y(S){if(S===59&&a){const E=t.exit("characterReferenceValue");return c===Xt&&!yf(o.sliceSerialize(E))?i(S):(t.enter("characterReferenceMarker"),t.consume(S),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return c(S)&&a++<s?(t.consume(S),y):i(S)}}const ag={partial:!0,tokenize:XC},sg={concrete:!0,name:"codeFenced",tokenize:KC};function KC(t,e,i){const o=this,a={partial:!0,tokenize:Q};let s=0,c=0,p;return g;function g(U){return h(U)}function h(U){const F=o.events[o.events.length-1];return s=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,p=U,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y(U)}function y(U){return U===p?(c++,t.consume(U),y):c<3?i(U):(t.exit("codeFencedFenceSequence"),ze(U)?Qe(t,S,"whitespace")(U):S(U))}function S(U){return U===null||ve(U)?(t.exit("codeFencedFence"),o.interrupt?e(U):t.check(ag,I,G)(U)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),E(U))}function E(U){return U===null||ve(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),S(U)):ze(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Qe(t,_,"whitespace")(U)):U===96&&U===p?i(U):(t.consume(U),E)}function _(U){return U===null||ve(U)?S(U):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),A(U))}function A(U){return U===null||ve(U)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),S(U)):U===96&&U===p?i(U):(t.consume(U),A)}function I(U){return t.attempt(a,G,M)(U)}function M(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),N}function N(U){return s>0&&ze(U)?Qe(t,O,"linePrefix",s+1)(U):O(U)}function O(U){return U===null||ve(U)?t.check(ag,I,G)(U):(t.enter("codeFlowValue"),P(U))}function P(U){return U===null||ve(U)?(t.exit("codeFlowValue"),O(U)):(t.consume(U),P)}function G(U){return t.exit("codeFenced"),e(U)}function Q(U,F,oe){let Z=0;return le;function le(te){return U.enter("lineEnding"),U.consume(te),U.exit("lineEnding"),ee}function ee(te){return U.enter("codeFencedFence"),ze(te)?Qe(U,ie,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):ie(te)}function ie(te){return te===p?(U.enter("codeFencedFenceSequence"),de(te)):oe(te)}function de(te){return te===p?(Z++,U.consume(te),de):Z>=c?(U.exit("codeFencedFenceSequence"),ze(te)?Qe(U,se,"whitespace")(te):se(te)):oe(te)}function se(te){return te===null||ve(te)?(U.exit("codeFencedFence"),F(te)):oe(te)}}}function XC(t,e,i){const o=this;return a;function a(c){return c===null?i(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),s)}function s(c){return o.parser.lazy[o.now().line]?i(c):e(c)}}const Ac={name:"codeIndented",tokenize:$C},QC={partial:!0,tokenize:ZC};function $C(t,e,i){const o=this;return a;function a(h){return t.enter("codeIndented"),Qe(t,s,"linePrefix",5)(h)}function s(h){const y=o.events[o.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?c(h):i(h)}function c(h){return h===null?g(h):ve(h)?t.attempt(QC,c,g)(h):(t.enter("codeFlowValue"),p(h))}function p(h){return h===null||ve(h)?(t.exit("codeFlowValue"),c(h)):(t.consume(h),p)}function g(h){return t.exit("codeIndented"),e(h)}}function ZC(t,e,i){const o=this;return a;function a(c){return o.parser.lazy[o.now().line]?i(c):ve(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),a):Qe(t,s,"linePrefix",5)(c)}function s(c){const p=o.events[o.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?e(c):ve(c)?a(c):i(c)}}const WC={name:"codeText",previous:ex,resolve:jC,tokenize:tx};function jC(t){let e=t.length-4,i=3,o,a;if((t[i][1].type==="lineEnding"||t[i][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(o=i;++o<e;)if(t[o][1].type==="codeTextData"){t[i][1].type="codeTextPadding",t[e][1].type="codeTextPadding",i+=2,e-=2;break}}for(o=i-1,e++;++o<=e;)a===void 0?o!==e&&t[o][1].type!=="lineEnding"&&(a=o):(o===e||t[o][1].type==="lineEnding")&&(t[a][1].type="codeTextData",o!==a+2&&(t[a][1].end=t[o-1][1].end,t.splice(a+2,o-a-2),e-=o-a-2,o=a+2),a=void 0);return t}function ex(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tx(t,e,i){let o=0,a,s;return c;function c(S){return t.enter("codeText"),t.enter("codeTextSequence"),p(S)}function p(S){return S===96?(t.consume(S),o++,p):(t.exit("codeTextSequence"),g(S))}function g(S){return S===null?i(S):S===32?(t.enter("space"),t.consume(S),t.exit("space"),g):S===96?(s=t.enter("codeTextSequence"),a=0,y(S)):ve(S)?(t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),g):(t.enter("codeTextData"),h(S))}function h(S){return S===null||S===32||S===96||ve(S)?(t.exit("codeTextData"),g(S)):(t.consume(S),h)}function y(S){return S===96?(t.consume(S),a++,y):a===o?(t.exit("codeTextSequence"),t.exit("codeText"),e(S)):(s.type="codeTextData",h(S))}}class nx{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,i){const o=i??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(e,o):e>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(e,i,o){const a=i||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return o&&Ko(this.left,o),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ko(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ko(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const i=this.left.splice(e,Number.POSITIVE_INFINITY);Ko(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ko(this.left,i.reverse())}}}function Ko(t,e){let i=0;if(e.length<1e4)t.push(...e);else for(;i<e.length;)t.push(...e.slice(i,i+1e4)),i+=1e4}function I0(t){const e={};let i=-1,o,a,s,c,p,g,h;const y=new nx(t);for(;++i<y.length;){for(;i in e;)i=e[i];if(o=y.get(i),i&&o[1].type==="chunkFlow"&&y.get(i-1)[1].type==="listItemPrefix"&&(g=o[1]._tokenizer.events,s=0,s<g.length&&g[s][1].type==="lineEndingBlank"&&(s+=2),s<g.length&&g[s][1].type==="content"))for(;++s<g.length&&g[s][1].type!=="content";)g[s][1].type==="chunkText"&&(g[s][1]._isInFirstContentOfListItem=!0,s++);if(o[0]==="enter")o[1].contentType&&(Object.assign(e,ix(y,i)),i=e[i],h=!0);else if(o[1]._container){for(s=i,a=void 0;s--;)if(c=y.get(s),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(y.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=s);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(o[1].end={...y.get(a)[1].start},p=y.slice(a,i),p.unshift(o),y.splice(a,i-a+1,p))}}return xn(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!h}function ix(t,e){const i=t.get(e)[1],o=t.get(e)[2];let a=e-1;const s=[];let c=i._tokenizer;c||(c=o.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const p=c.events,g=[],h={};let y,S,E=-1,_=i,A=0,I=0;const M=[I];for(;_;){for(;t.get(++a)[1]!==_;);s.push(a),_._tokenizer||(y=o.sliceStream(_),_.next||y.push(null),S&&c.defineSkip(_.start),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(y),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),S=_,_=_.next}for(_=i;++E<p.length;)p[E][0]==="exit"&&p[E-1][0]==="enter"&&p[E][1].type===p[E-1][1].type&&p[E][1].start.line!==p[E][1].end.line&&(I=E+1,M.push(I),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(c.events=[],_?(_._tokenizer=void 0,_.previous=void 0):M.pop(),E=M.length;E--;){const N=p.slice(M[E],M[E+1]),O=s.pop();g.push([O,O+N.length-1]),t.splice(O,2,N)}for(g.reverse(),E=-1;++E<g.length;)h[A+g[E][0]]=A+g[E][1],A+=g[E][1]-g[E][0]-1;return h}const lx={resolve:rx,tokenize:ax},ox={partial:!0,tokenize:sx};function rx(t){return I0(t),t}function ax(t,e){let i;return o;function o(p){return t.enter("content"),i=t.enter("chunkContent",{contentType:"content"}),a(p)}function a(p){return p===null?s(p):ve(p)?t.check(ox,c,s)(p):(t.consume(p),a)}function s(p){return t.exit("chunkContent"),t.exit("content"),e(p)}function c(p){return t.consume(p),t.exit("chunkContent"),i.next=t.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,a}}function sx(t,e,i){const o=this;return a;function a(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Qe(t,s,"linePrefix")}function s(c){if(c===null||ve(c))return i(c);const p=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?e(c):t.interrupt(o.parser.constructs.flow,i,e)(c)}}function D0(t,e,i,o,a,s,c,p,g){const h=g||Number.POSITIVE_INFINITY;let y=0;return S;function S(N){return N===60?(t.enter(o),t.enter(a),t.enter(s),t.consume(N),t.exit(s),E):N===null||N===32||N===41||Bc(N)?i(N):(t.enter(o),t.enter(c),t.enter(p),t.enter("chunkString",{contentType:"string"}),I(N))}function E(N){return N===62?(t.enter(s),t.consume(N),t.exit(s),t.exit(a),t.exit(o),e):(t.enter(p),t.enter("chunkString",{contentType:"string"}),_(N))}function _(N){return N===62?(t.exit("chunkString"),t.exit(p),E(N)):N===null||N===60||ve(N)?i(N):(t.consume(N),N===92?A:_)}function A(N){return N===60||N===62||N===92?(t.consume(N),_):_(N)}function I(N){return!y&&(N===null||N===41||zt(N))?(t.exit("chunkString"),t.exit(p),t.exit(c),t.exit(o),e(N)):y<h&&N===40?(t.consume(N),y++,I):N===41?(t.consume(N),y--,I):N===null||N===32||N===40||Bc(N)?i(N):(t.consume(N),N===92?M:I)}function M(N){return N===40||N===41||N===92?(t.consume(N),I):I(N)}}function k0(t,e,i,o,a,s){const c=this;let p=0,g;return h;function h(_){return t.enter(o),t.enter(a),t.consume(_),t.exit(a),t.enter(s),y}function y(_){return p>999||_===null||_===91||_===93&&!g||_===94&&!p&&"_hiddenFootnoteSupport"in c.parser.constructs?i(_):_===93?(t.exit(s),t.enter(a),t.consume(_),t.exit(a),t.exit(o),e):ve(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),S(_))}function S(_){return _===null||_===91||_===93||ve(_)||p++>999?(t.exit("chunkString"),y(_)):(t.consume(_),g||(g=!ze(_)),_===92?E:S)}function E(_){return _===91||_===92||_===93?(t.consume(_),p++,S):S(_)}}function U0(t,e,i,o,a,s){let c;return p;function p(E){return E===34||E===39||E===40?(t.enter(o),t.enter(a),t.consume(E),t.exit(a),c=E===40?41:E,g):i(E)}function g(E){return E===c?(t.enter(a),t.consume(E),t.exit(a),t.exit(o),e):(t.enter(s),h(E))}function h(E){return E===c?(t.exit(s),g(c)):E===null?i(E):ve(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),Qe(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===c||E===null||ve(E)?(t.exit("chunkString"),h(E)):(t.consume(E),E===92?S:y)}function S(E){return E===c||E===92?(t.consume(E),y):y(E)}}function jo(t,e){let i;return o;function o(a){return ve(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i=!0,o):ze(a)?Qe(t,o,i?"linePrefix":"lineSuffix")(a):e(a)}}const ux={name:"definition",tokenize:fx},cx={partial:!0,tokenize:dx};function fx(t,e,i){const o=this;let a;return s;function s(_){return t.enter("definition"),c(_)}function c(_){return k0.call(o,t,p,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function p(_){return a=Vl(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),_===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),g):i(_)}function g(_){return zt(_)?jo(t,h)(_):h(_)}function h(_){return D0(t,y,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function y(_){return t.attempt(cx,S,S)(_)}function S(_){return ze(_)?Qe(t,E,"whitespace")(_):E(_)}function E(_){return _===null||ve(_)?(t.exit("definition"),o.parser.defined.push(a),e(_)):i(_)}}function dx(t,e,i){return o;function o(p){return zt(p)?jo(t,a)(p):i(p)}function a(p){return U0(t,s,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(p)}function s(p){return ze(p)?Qe(t,c,"whitespace")(p):c(p)}function c(p){return p===null||ve(p)?e(p):i(p)}}const px={name:"hardBreakEscape",tokenize:hx};function hx(t,e,i){return o;function o(s){return t.enter("hardBreakEscape"),t.consume(s),a}function a(s){return ve(s)?(t.exit("hardBreakEscape"),e(s)):i(s)}}const mx={name:"headingAtx",resolve:gx,tokenize:yx};function gx(t,e){let i=t.length-2,o=3,a,s;return t[o][1].type==="whitespace"&&(o+=2),i-2>o&&t[i][1].type==="whitespace"&&(i-=2),t[i][1].type==="atxHeadingSequence"&&(o===i-1||i-4>o&&t[i-2][1].type==="whitespace")&&(i-=o+1===i?2:4),i>o&&(a={type:"atxHeadingText",start:t[o][1].start,end:t[i][1].end},s={type:"chunkText",start:t[o][1].start,end:t[i][1].end,contentType:"text"},xn(t,o,i-o+1,[["enter",a,e],["enter",s,e],["exit",s,e],["exit",a,e]])),t}function yx(t,e,i){let o=0;return a;function a(y){return t.enter("atxHeading"),s(y)}function s(y){return t.enter("atxHeadingSequence"),c(y)}function c(y){return y===35&&o++<6?(t.consume(y),c):y===null||zt(y)?(t.exit("atxHeadingSequence"),p(y)):i(y)}function p(y){return y===35?(t.enter("atxHeadingSequence"),g(y)):y===null||ve(y)?(t.exit("atxHeading"),e(y)):ze(y)?Qe(t,p,"whitespace")(y):(t.enter("atxHeadingText"),h(y))}function g(y){return y===35?(t.consume(y),g):(t.exit("atxHeadingSequence"),p(y))}function h(y){return y===null||y===35||zt(y)?(t.exit("atxHeadingText"),p(y)):(t.consume(y),h)}}const vx=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ug=["pre","script","style","textarea"],Sx={concrete:!0,name:"htmlFlow",resolveTo:_x,tokenize:Cx},Ex={partial:!0,tokenize:Ax},Tx={partial:!0,tokenize:xx};function _x(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Cx(t,e,i){const o=this;let a,s,c,p,g;return h;function h(x){return y(x)}function y(x){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(x),S}function S(x){return x===33?(t.consume(x),E):x===47?(t.consume(x),s=!0,I):x===63?(t.consume(x),a=3,o.interrupt?e:b):Cn(x)?(t.consume(x),c=String.fromCharCode(x),M):i(x)}function E(x){return x===45?(t.consume(x),a=2,_):x===91?(t.consume(x),a=5,p=0,A):Cn(x)?(t.consume(x),a=4,o.interrupt?e:b):i(x)}function _(x){return x===45?(t.consume(x),o.interrupt?e:b):i(x)}function A(x){const re="CDATA[";return x===re.charCodeAt(p++)?(t.consume(x),p===re.length?o.interrupt?e:ie:A):i(x)}function I(x){return Cn(x)?(t.consume(x),c=String.fromCharCode(x),M):i(x)}function M(x){if(x===null||x===47||x===62||zt(x)){const re=x===47,ge=c.toLowerCase();return!re&&!s&&ug.includes(ge)?(a=1,o.interrupt?e(x):ie(x)):vx.includes(c.toLowerCase())?(a=6,re?(t.consume(x),N):o.interrupt?e(x):ie(x)):(a=7,o.interrupt&&!o.parser.lazy[o.now().line]?i(x):s?O(x):P(x))}return x===45||Xt(x)?(t.consume(x),c+=String.fromCharCode(x),M):i(x)}function N(x){return x===62?(t.consume(x),o.interrupt?e:ie):i(x)}function O(x){return ze(x)?(t.consume(x),O):le(x)}function P(x){return x===47?(t.consume(x),le):x===58||x===95||Cn(x)?(t.consume(x),G):ze(x)?(t.consume(x),P):le(x)}function G(x){return x===45||x===46||x===58||x===95||Xt(x)?(t.consume(x),G):Q(x)}function Q(x){return x===61?(t.consume(x),U):ze(x)?(t.consume(x),Q):P(x)}function U(x){return x===null||x===60||x===61||x===62||x===96?i(x):x===34||x===39?(t.consume(x),g=x,F):ze(x)?(t.consume(x),U):oe(x)}function F(x){return x===g?(t.consume(x),g=null,Z):x===null||ve(x)?i(x):(t.consume(x),F)}function oe(x){return x===null||x===34||x===39||x===47||x===60||x===61||x===62||x===96||zt(x)?Q(x):(t.consume(x),oe)}function Z(x){return x===47||x===62||ze(x)?P(x):i(x)}function le(x){return x===62?(t.consume(x),ee):i(x)}function ee(x){return x===null||ve(x)?ie(x):ze(x)?(t.consume(x),ee):i(x)}function ie(x){return x===45&&a===2?(t.consume(x),z):x===60&&a===1?(t.consume(x),W):x===62&&a===4?(t.consume(x),D):x===63&&a===3?(t.consume(x),b):x===93&&a===5?(t.consume(x),Ae):ve(x)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(Ex,J,de)(x)):x===null||ve(x)?(t.exit("htmlFlowData"),de(x)):(t.consume(x),ie)}function de(x){return t.check(Tx,se,J)(x)}function se(x){return t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),te}function te(x){return x===null||ve(x)?de(x):(t.enter("htmlFlowData"),ie(x))}function z(x){return x===45?(t.consume(x),b):ie(x)}function W(x){return x===47?(t.consume(x),c="",fe):ie(x)}function fe(x){if(x===62){const re=c.toLowerCase();return ug.includes(re)?(t.consume(x),D):ie(x)}return Cn(x)&&c.length<8?(t.consume(x),c+=String.fromCharCode(x),fe):ie(x)}function Ae(x){return x===93?(t.consume(x),b):ie(x)}function b(x){return x===62?(t.consume(x),D):x===45&&a===2?(t.consume(x),b):ie(x)}function D(x){return x===null||ve(x)?(t.exit("htmlFlowData"),J(x)):(t.consume(x),D)}function J(x){return t.exit("htmlFlow"),e(x)}}function xx(t,e,i){const o=this;return a;function a(c){return ve(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),s):i(c)}function s(c){return o.parser.lazy[o.now().line]?i(c):e(c)}}function Ax(t,e,i){return o;function o(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(Fa,e,i)}}const wx={name:"htmlText",tokenize:bx};function bx(t,e,i){const o=this;let a,s,c;return p;function p(b){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(b),g}function g(b){return b===33?(t.consume(b),h):b===47?(t.consume(b),Q):b===63?(t.consume(b),P):Cn(b)?(t.consume(b),oe):i(b)}function h(b){return b===45?(t.consume(b),y):b===91?(t.consume(b),s=0,A):Cn(b)?(t.consume(b),O):i(b)}function y(b){return b===45?(t.consume(b),_):i(b)}function S(b){return b===null?i(b):b===45?(t.consume(b),E):ve(b)?(c=S,W(b)):(t.consume(b),S)}function E(b){return b===45?(t.consume(b),_):S(b)}function _(b){return b===62?z(b):b===45?E(b):S(b)}function A(b){const D="CDATA[";return b===D.charCodeAt(s++)?(t.consume(b),s===D.length?I:A):i(b)}function I(b){return b===null?i(b):b===93?(t.consume(b),M):ve(b)?(c=I,W(b)):(t.consume(b),I)}function M(b){return b===93?(t.consume(b),N):I(b)}function N(b){return b===62?z(b):b===93?(t.consume(b),N):I(b)}function O(b){return b===null||b===62?z(b):ve(b)?(c=O,W(b)):(t.consume(b),O)}function P(b){return b===null?i(b):b===63?(t.consume(b),G):ve(b)?(c=P,W(b)):(t.consume(b),P)}function G(b){return b===62?z(b):P(b)}function Q(b){return Cn(b)?(t.consume(b),U):i(b)}function U(b){return b===45||Xt(b)?(t.consume(b),U):F(b)}function F(b){return ve(b)?(c=F,W(b)):ze(b)?(t.consume(b),F):z(b)}function oe(b){return b===45||Xt(b)?(t.consume(b),oe):b===47||b===62||zt(b)?Z(b):i(b)}function Z(b){return b===47?(t.consume(b),z):b===58||b===95||Cn(b)?(t.consume(b),le):ve(b)?(c=Z,W(b)):ze(b)?(t.consume(b),Z):z(b)}function le(b){return b===45||b===46||b===58||b===95||Xt(b)?(t.consume(b),le):ee(b)}function ee(b){return b===61?(t.consume(b),ie):ve(b)?(c=ee,W(b)):ze(b)?(t.consume(b),ee):Z(b)}function ie(b){return b===null||b===60||b===61||b===62||b===96?i(b):b===34||b===39?(t.consume(b),a=b,de):ve(b)?(c=ie,W(b)):ze(b)?(t.consume(b),ie):(t.consume(b),se)}function de(b){return b===a?(t.consume(b),a=void 0,te):b===null?i(b):ve(b)?(c=de,W(b)):(t.consume(b),de)}function se(b){return b===null||b===34||b===39||b===60||b===61||b===96?i(b):b===47||b===62||zt(b)?Z(b):(t.consume(b),se)}function te(b){return b===47||b===62||zt(b)?Z(b):i(b)}function z(b){return b===62?(t.consume(b),t.exit("htmlTextData"),t.exit("htmlText"),e):i(b)}function W(b){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),fe}function fe(b){return ze(b)?Qe(t,Ae,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):Ae(b)}function Ae(b){return t.enter("htmlTextData"),c(b)}}const Sf={name:"labelEnd",resolveAll:Ix,resolveTo:Dx,tokenize:kx},Nx={tokenize:Ux},Rx={tokenize:Lx},Mx={tokenize:Px};function Ix(t){let e=-1;const i=[];for(;++e<t.length;){const o=t[e][1];if(i.push(t[e]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const a=o.type==="labelImage"?4:2;o.type="data",e+=a}}return t.length!==i.length&&xn(t,0,t.length,i),t}function Dx(t,e){let i=t.length,o=0,a,s,c,p;for(;i--;)if(a=t[i][1],s){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[i][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(t[i][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(s=i,a.type!=="labelLink")){o=2;break}}else a.type==="labelEnd"&&(c=i);const g={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[s][1].start},end:{...t[c][1].end}},y={type:"labelText",start:{...t[s+o+2][1].end},end:{...t[c-2][1].start}};return p=[["enter",g,e],["enter",h,e]],p=sn(p,t.slice(s+1,s+o+3)),p=sn(p,[["enter",y,e]]),p=sn(p,vf(e.parser.constructs.insideSpan.null,t.slice(s+o+4,c-3),e)),p=sn(p,[["exit",y,e],t[c-2],t[c-1],["exit",h,e]]),p=sn(p,t.slice(c+1)),p=sn(p,[["exit",g,e]]),xn(t,s,t.length,p),t}function kx(t,e,i){const o=this;let a=o.events.length,s,c;for(;a--;)if((o.events[a][1].type==="labelImage"||o.events[a][1].type==="labelLink")&&!o.events[a][1]._balanced){s=o.events[a][1];break}return p;function p(E){return s?s._inactive?S(E):(c=o.parser.defined.includes(Vl(o.sliceSerialize({start:s.end,end:o.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(E),t.exit("labelMarker"),t.exit("labelEnd"),g):i(E)}function g(E){return E===40?t.attempt(Nx,y,c?y:S)(E):E===91?t.attempt(Rx,y,c?h:S)(E):c?y(E):S(E)}function h(E){return t.attempt(Mx,y,S)(E)}function y(E){return e(E)}function S(E){return s._balanced=!0,i(E)}}function Ux(t,e,i){return o;function o(S){return t.enter("resource"),t.enter("resourceMarker"),t.consume(S),t.exit("resourceMarker"),a}function a(S){return zt(S)?jo(t,s)(S):s(S)}function s(S){return S===41?y(S):D0(t,c,p,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(S)}function c(S){return zt(S)?jo(t,g)(S):y(S)}function p(S){return i(S)}function g(S){return S===34||S===39||S===40?U0(t,h,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(S):y(S)}function h(S){return zt(S)?jo(t,y)(S):y(S)}function y(S){return S===41?(t.enter("resourceMarker"),t.consume(S),t.exit("resourceMarker"),t.exit("resource"),e):i(S)}}function Lx(t,e,i){const o=this;return a;function a(p){return k0.call(o,t,s,c,"reference","referenceMarker","referenceString")(p)}function s(p){return o.parser.defined.includes(Vl(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?e(p):i(p)}function c(p){return i(p)}}function Px(t,e,i){return o;function o(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),a}function a(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):i(s)}}const zx={name:"labelStartImage",resolveAll:Sf.resolveAll,tokenize:Hx};function Hx(t,e,i){const o=this;return a;function a(p){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(p),t.exit("labelImageMarker"),s}function s(p){return p===91?(t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelImage"),c):i(p)}function c(p){return p===94&&"_hiddenFootnoteSupport"in o.parser.constructs?i(p):e(p)}}const qx={name:"labelStartLink",resolveAll:Sf.resolveAll,tokenize:Gx};function Gx(t,e,i){const o=this;return a;function a(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),s}function s(c){return c===94&&"_hiddenFootnoteSupport"in o.parser.constructs?i(c):e(c)}}const wc={name:"lineEnding",tokenize:Vx};function Vx(t,e){return i;function i(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Qe(t,e,"linePrefix")}}const Da={name:"thematicBreak",tokenize:Bx};function Bx(t,e,i){let o=0,a;return s;function s(h){return t.enter("thematicBreak"),c(h)}function c(h){return a=h,p(h)}function p(h){return h===a?(t.enter("thematicBreakSequence"),g(h)):o>=3&&(h===null||ve(h))?(t.exit("thematicBreak"),e(h)):i(h)}function g(h){return h===a?(t.consume(h),o++,g):(t.exit("thematicBreakSequence"),ze(h)?Qe(t,p,"whitespace")(h):p(h))}}const Pt={continuation:{tokenize:Jx},exit:Xx,name:"list",tokenize:Yx},Ox={partial:!0,tokenize:Qx},Fx={partial:!0,tokenize:Kx};function Yx(t,e,i){const o=this,a=o.events[o.events.length-1];let s=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return p;function p(_){const A=o.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(A==="listUnordered"?!o.containerState.marker||_===o.containerState.marker:Oc(_)){if(o.containerState.type||(o.containerState.type=A,t.enter(A,{_container:!0})),A==="listUnordered")return t.enter("listItemPrefix"),_===42||_===45?t.check(Da,i,h)(_):h(_);if(!o.interrupt||_===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),g(_)}return i(_)}function g(_){return Oc(_)&&++c<10?(t.consume(_),g):(!o.interrupt||c<2)&&(o.containerState.marker?_===o.containerState.marker:_===41||_===46)?(t.exit("listItemValue"),h(_)):i(_)}function h(_){return t.enter("listItemMarker"),t.consume(_),t.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||_,t.check(Fa,o.interrupt?i:y,t.attempt(Ox,E,S))}function y(_){return o.containerState.initialBlankLine=!0,s++,E(_)}function S(_){return ze(_)?(t.enter("listItemPrefixWhitespace"),t.consume(_),t.exit("listItemPrefixWhitespace"),E):i(_)}function E(_){return o.containerState.size=s+o.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(_)}}function Jx(t,e,i){const o=this;return o.containerState._closeFlow=void 0,t.check(Fa,a,s);function a(p){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,Qe(t,e,"listItemIndent",o.containerState.size+1)(p)}function s(p){return o.containerState.furtherBlankLines||!ze(p)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,c(p)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,t.attempt(Fx,e,c)(p))}function c(p){return o.containerState._closeFlow=!0,o.interrupt=void 0,Qe(t,t.attempt(Pt,e,i),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p)}}function Kx(t,e,i){const o=this;return Qe(t,a,"listItemIndent",o.containerState.size+1);function a(s){const c=o.events[o.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===o.containerState.size?e(s):i(s)}}function Xx(t){t.exit(this.containerState.type)}function Qx(t,e,i){const o=this;return Qe(t,a,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(s){const c=o.events[o.events.length-1];return!ze(s)&&c&&c[1].type==="listItemPrefixWhitespace"?e(s):i(s)}}const cg={name:"setextUnderline",resolveTo:$x,tokenize:Zx};function $x(t,e){let i=t.length,o,a,s;for(;i--;)if(t[i][0]==="enter"){if(t[i][1].type==="content"){o=i;break}t[i][1].type==="paragraph"&&(a=i)}else t[i][1].type==="content"&&t.splice(i,1),!s&&t[i][1].type==="definition"&&(s=i);const c={type:"setextHeading",start:{...t[o][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",s?(t.splice(a,0,["enter",c,e]),t.splice(s+1,0,["exit",t[o][1],e]),t[o][1].end={...t[s][1].end}):t[o][1]=c,t.push(["exit",c,e]),t}function Zx(t,e,i){const o=this;let a;return s;function s(h){let y=o.events.length,S;for(;y--;)if(o.events[y][1].type!=="lineEnding"&&o.events[y][1].type!=="linePrefix"&&o.events[y][1].type!=="content"){S=o.events[y][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||S)?(t.enter("setextHeadingLine"),a=h,c(h)):i(h)}function c(h){return t.enter("setextHeadingLineSequence"),p(h)}function p(h){return h===a?(t.consume(h),p):(t.exit("setextHeadingLineSequence"),ze(h)?Qe(t,g,"lineSuffix")(h):g(h))}function g(h){return h===null||ve(h)?(t.exit("setextHeadingLine"),e(h)):i(h)}}const Wx={tokenize:jx};function jx(t){const e=this,i=t.attempt(Fa,o,t.attempt(this.parser.constructs.flowInitial,a,Qe(t,t.attempt(this.parser.constructs.flow,a,t.attempt(lx,a)),"linePrefix")));return i;function o(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,i}function a(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,i}}const eA={resolveAll:P0()},tA=L0("string"),nA=L0("text");function L0(t){return{resolveAll:P0(t==="text"?iA:void 0),tokenize:e};function e(i){const o=this,a=this.parser.constructs[t],s=i.attempt(a,c,p);return c;function c(y){return h(y)?s(y):p(y)}function p(y){if(y===null){i.consume(y);return}return i.enter("data"),i.consume(y),g}function g(y){return h(y)?(i.exit("data"),s(y)):(i.consume(y),g)}function h(y){if(y===null)return!0;const S=a[y];let E=-1;if(S)for(;++E<S.length;){const _=S[E];if(!_.previous||_.previous.call(o,o.previous))return!0}return!1}}}function P0(t){return e;function e(i,o){let a=-1,s;for(;++a<=i.length;)s===void 0?i[a]&&i[a][1].type==="data"&&(s=a,a++):(!i[a]||i[a][1].type!=="data")&&(a!==s+2&&(i[s][1].end=i[a-1][1].end,i.splice(s+2,a-s-2),a=s+2),s=void 0);return t?t(i,o):i}}function iA(t,e){let i=0;for(;++i<=t.length;)if((i===t.length||t[i][1].type==="lineEnding")&&t[i-1][1].type==="data"){const o=t[i-1][1],a=e.sliceStream(o);let s=a.length,c=-1,p=0,g;for(;s--;){const h=a[s];if(typeof h=="string"){for(c=h.length;h.charCodeAt(c-1)===32;)p++,c--;if(c)break;c=-1}else if(h===-2)g=!0,p++;else if(h!==-1){s++;break}}if(e._contentTypeTextTrailing&&i===t.length&&(p=0),p){const h={type:i===t.length||g||p<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?c:o.start._bufferIndex+c,_index:o.start._index+s,line:o.end.line,column:o.end.column-p,offset:o.end.offset-p},end:{...o.end}};o.end={...h.start},o.start.offset===o.end.offset?Object.assign(o,h):(t.splice(i,0,["enter",h,e],["exit",h,e]),i+=2)}i++}return t}const lA={42:Pt,43:Pt,45:Pt,48:Pt,49:Pt,50:Pt,51:Pt,52:Pt,53:Pt,54:Pt,55:Pt,56:Pt,57:Pt,62:N0},oA={91:ux},rA={[-2]:Ac,[-1]:Ac,32:Ac},aA={35:mx,42:Da,45:[cg,Da],60:Sx,61:cg,95:Da,96:sg,126:sg},sA={38:M0,92:R0},uA={[-5]:wc,[-4]:wc,[-3]:wc,33:zx,38:M0,42:Fc,60:[qC,wx],91:qx,92:[px,R0],93:Sf,95:Fc,96:WC},cA={null:[Fc,eA]},fA={null:[42,95]},dA={null:[]},pA=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:fA,contentInitial:oA,disable:dA,document:lA,flow:aA,flowInitial:rA,insideSpan:cA,string:sA,text:uA},Symbol.toStringTag,{value:"Module"}));function hA(t,e,i){let o={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const a={},s=[];let c=[],p=[];const g={attempt:F(Q),check:F(U),consume:O,enter:P,exit:G,interrupt:F(U,{interrupt:!0})},h={code:null,containerState:{},defineSkip:I,events:[],now:A,parser:t,previous:null,sliceSerialize:E,sliceStream:_,write:S};let y=e.tokenize.call(h,g);return e.resolveAll&&s.push(e),h;function S(ee){return c=sn(c,ee),M(),c[c.length-1]!==null?[]:(oe(e,0),h.events=vf(s,h.events,h),h.events)}function E(ee,ie){return gA(_(ee),ie)}function _(ee){return mA(c,ee)}function A(){const{_bufferIndex:ee,_index:ie,line:de,column:se,offset:te}=o;return{_bufferIndex:ee,_index:ie,line:de,column:se,offset:te}}function I(ee){a[ee.line]=ee.column,le()}function M(){let ee;for(;o._index<c.length;){const ie=c[o._index];if(typeof ie=="string")for(ee=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===ee&&o._bufferIndex<ie.length;)N(ie.charCodeAt(o._bufferIndex));else N(ie)}}function N(ee){y=y(ee)}function O(ee){ve(ee)?(o.line++,o.column=1,o.offset+=ee===-3?2:1,le()):ee!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===c[o._index].length&&(o._bufferIndex=-1,o._index++)),h.previous=ee}function P(ee,ie){const de=ie||{};return de.type=ee,de.start=A(),h.events.push(["enter",de,h]),p.push(de),de}function G(ee){const ie=p.pop();return ie.end=A(),h.events.push(["exit",ie,h]),ie}function Q(ee,ie){oe(ee,ie.from)}function U(ee,ie){ie.restore()}function F(ee,ie){return de;function de(se,te,z){let W,fe,Ae,b;return Array.isArray(se)?J(se):"tokenize"in se?J([se]):D(se);function D(pe){return Re;function Re(We){const Be=We!==null&&pe[We],Qt=We!==null&&pe.null,An=[...Array.isArray(Be)?Be:Be?[Be]:[],...Array.isArray(Qt)?Qt:Qt?[Qt]:[]];return J(An)(We)}}function J(pe){return W=pe,fe=0,pe.length===0?z:x(pe[fe])}function x(pe){return Re;function Re(We){return b=Z(),Ae=pe,pe.partial||(h.currentConstruct=pe),pe.name&&h.parser.constructs.disable.null.includes(pe.name)?ge():pe.tokenize.call(ie?Object.assign(Object.create(h),ie):h,g,re,ge)(We)}}function re(pe){return ee(Ae,b),te}function ge(pe){return b.restore(),++fe<W.length?x(W[fe]):z}}}function oe(ee,ie){ee.resolveAll&&!s.includes(ee)&&s.push(ee),ee.resolve&&xn(h.events,ie,h.events.length-ie,ee.resolve(h.events.slice(ie),h)),ee.resolveTo&&(h.events=ee.resolveTo(h.events,h))}function Z(){const ee=A(),ie=h.previous,de=h.currentConstruct,se=h.events.length,te=Array.from(p);return{from:se,restore:z};function z(){o=ee,h.previous=ie,h.currentConstruct=de,h.events.length=se,p=te,le()}}function le(){o.line in a&&o.column<2&&(o.column=a[o.line],o.offset+=a[o.line]-1)}}function mA(t,e){const i=e.start._index,o=e.start._bufferIndex,a=e.end._index,s=e.end._bufferIndex;let c;if(i===a)c=[t[i].slice(o,s)];else{if(c=t.slice(i,a),o>-1){const p=c[0];typeof p=="string"?c[0]=p.slice(o):c.shift()}s>0&&c.push(t[a].slice(0,s))}return c}function gA(t,e){let i=-1;const o=[];let a;for(;++i<t.length;){const s=t[i];let c;if(typeof s=="string")c=s;else switch(s){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&a)continue;c=" ";break}default:c=String.fromCharCode(s)}a=s===-2,o.push(c)}return o.join("")}function yA(t){const o={constructs:xC([pA,...(t||{}).extensions||[]]),content:a(DC),defined:[],document:a(UC),flow:a(Wx),lazy:{},string:a(tA),text:a(nA)};return o;function a(s){return c;function c(p){return hA(o,s,p)}}}function vA(t){for(;!I0(t););return t}const fg=/[\0\t\n\r]/g;function SA(){let t=1,e="",i=!0,o;return a;function a(s,c,p){const g=[];let h,y,S,E,_;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(c||void 0).decode(s)),S=0,e="",i&&(s.charCodeAt(0)===65279&&S++,i=void 0);S<s.length;){if(fg.lastIndex=S,h=fg.exec(s),E=h&&h.index!==void 0?h.index:s.length,_=s.charCodeAt(E),!h){e=s.slice(S);break}if(_===10&&S===E&&o)g.push(-3),o=void 0;else switch(o&&(g.push(-5),o=void 0),S<E&&(g.push(s.slice(S,E)),t+=E-S),_){case 0:{g.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,g.push(-2);t++<y;)g.push(-1);break}case 10:{g.push(-4),t=1;break}default:o=!0,t=1}S=E+1}return p&&(o&&g.push(-5),e&&g.push(e),g.push(null)),g}}const EA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function TA(t){return t.replace(EA,_A)}function _A(t,e,i){if(e)return e;if(i.charCodeAt(0)===35){const a=i.charCodeAt(1),s=a===120||a===88;return b0(i.slice(s?2:1),s?16:10)}return yf(i)||t}const z0={}.hasOwnProperty;function CA(t,e,i){return typeof e!="string"&&(i=e,e=void 0),xA(i)(vA(yA(i).document().write(SA()(t,e,!0))))}function xA(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Qi),autolinkProtocol:Z,autolinkEmail:Z,atxHeading:s(Ki),blockQuote:s(Qt),characterEscape:Z,characterReference:Z,codeFenced:s(An),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:s(An,c),codeText:s(Ql,c),codeTextData:Z,data:Z,codeFlowValue:Z,definition:s(lr),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:s(wn),hardBreakEscape:s(Xi),hardBreakTrailing:s(Xi),htmlFlow:s(or,c),htmlFlowData:Z,htmlText:s(or,c),htmlTextData:Z,image:s(rr),label:c,link:s(Qi),listItem:s($l),listItemValue:E,listOrdered:s($i,S),listUnordered:s($i),paragraph:s(es),reference:x,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:s(Ki),strong:s(ts),thematicBreak:s(ns)},exit:{atxHeading:g(),atxHeadingSequence:Q,autolink:g(),autolinkEmail:Be,autolinkProtocol:We,blockQuote:g(),characterEscapeValue:le,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:pe,characterReference:Re,codeFenced:g(M),codeFencedFence:I,codeFencedFenceInfo:_,codeFencedFenceMeta:A,codeFlowValue:le,codeIndented:g(N),codeText:g(te),codeTextData:le,data:le,definition:g(),definitionDestinationString:G,definitionLabelString:O,definitionTitleString:P,emphasis:g(),hardBreakEscape:g(ie),hardBreakTrailing:g(ie),htmlFlow:g(de),htmlFlowData:le,htmlText:g(se),htmlTextData:le,image:g(W),label:Ae,labelText:fe,lineEnding:ee,link:g(z),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:re,resourceDestinationString:b,resourceTitleString:D,resource:J,setextHeading:g(oe),setextHeadingLineSequence:F,setextHeadingText:U,strong:g(),thematicBreak:g()}};H0(e,(t||{}).mdastExtensions||[]);const i={};return o;function o(K){let ne={type:"root",children:[]};const ye={stack:[ne],tokenStack:[],config:e,enter:p,exit:h,buffer:c,resume:y,data:i},we=[];let qe=-1;for(;++qe<K.length;)if(K[qe][1].type==="listOrdered"||K[qe][1].type==="listUnordered")if(K[qe][0]==="enter")we.push(qe);else{const qt=we.pop();qe=a(K,qt,qe)}for(qe=-1;++qe<K.length;){const qt=e[K[qe][0]];z0.call(qt,K[qe][1].type)&&qt[K[qe][1].type].call(Object.assign({sliceSerialize:K[qe][2].sliceSerialize},ye),K[qe][1])}if(ye.tokenStack.length>0){const qt=ye.tokenStack[ye.tokenStack.length-1];(qt[1]||dg).call(ye,void 0,qt[0])}for(ne.position={start:Ti(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:Ti(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},qe=-1;++qe<e.transforms.length;)ne=e.transforms[qe](ne)||ne;return ne}function a(K,ne,ye){let we=ne-1,qe=-1,qt=!1,bn,xt,ct,Nt;for(;++we<=ye;){const Je=K[we];switch(Je[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Je[0]==="enter"?qe++:qe--,Nt=void 0;break}case"lineEndingBlank":{Je[0]==="enter"&&(bn&&!Nt&&!qe&&!ct&&(ct=we),Nt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Nt=void 0}if(!qe&&Je[0]==="enter"&&Je[1].type==="listItemPrefix"||qe===-1&&Je[0]==="exit"&&(Je[1].type==="listUnordered"||Je[1].type==="listOrdered")){if(bn){let $n=we;for(xt=void 0;$n--;){const fn=K[$n];if(fn[1].type==="lineEnding"||fn[1].type==="lineEndingBlank"){if(fn[0]==="exit")continue;xt&&(K[xt][1].type="lineEndingBlank",qt=!0),fn[1].type="lineEnding",xt=$n}else if(!(fn[1].type==="linePrefix"||fn[1].type==="blockQuotePrefix"||fn[1].type==="blockQuotePrefixWhitespace"||fn[1].type==="blockQuoteMarker"||fn[1].type==="listItemIndent"))break}ct&&(!xt||ct<xt)&&(bn._spread=!0),bn.end=Object.assign({},xt?K[xt][1].start:Je[1].end),K.splice(xt||we,0,["exit",bn,Je[2]]),we++,ye++}if(Je[1].type==="listItemPrefix"){const $n={type:"listItem",_spread:!1,start:Object.assign({},Je[1].start),end:void 0};bn=$n,K.splice(we,0,["enter",$n,Je[2]]),we++,ye++,ct=void 0,Nt=!0}}}return K[ne][1]._spread=qt,ye}function s(K,ne){return ye;function ye(we){p.call(this,K(we),we),ne&&ne.call(this,we)}}function c(){this.stack.push({type:"fragment",children:[]})}function p(K,ne,ye){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([ne,ye||void 0]),K.position={start:Ti(ne.start),end:void 0}}function g(K){return ne;function ne(ye){K&&K.call(this,ye),h.call(this,ye)}}function h(K,ne){const ye=this.stack.pop(),we=this.tokenStack.pop();if(we)we[0].type!==K.type&&(ne?ne.call(this,K,we[0]):(we[1]||dg).call(this,K,we[0]));else throw new Error("Cannot close `"+K.type+"` ("+Wo({start:K.start,end:K.end})+"): its not open");ye.position.end=Ti(K.end)}function y(){return _C(this.stack.pop())}function S(){this.data.expectingFirstListItemValue=!0}function E(K){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function _(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=K}function A(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=K}function I(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function M(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.value=K.replace(/(\r?\n|\r)$/g,"")}function O(K){const ne=this.resume(),ye=this.stack[this.stack.length-1];ye.label=ne,ye.identifier=Vl(this.sliceSerialize(K)).toLowerCase()}function P(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.title=K}function G(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.url=K}function Q(K){const ne=this.stack[this.stack.length-1];if(!ne.depth){const ye=this.sliceSerialize(K).length;ne.depth=ye}}function U(){this.data.setextHeadingSlurpLineEnding=!0}function F(K){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function oe(){this.data.setextHeadingSlurpLineEnding=void 0}function Z(K){const ye=this.stack[this.stack.length-1].children;let we=ye[ye.length-1];(!we||we.type!=="text")&&(we=Ct(),we.position={start:Ti(K.start),end:void 0},ye.push(we)),this.stack.push(we)}function le(K){const ne=this.stack.pop();ne.value+=this.sliceSerialize(K),ne.position.end=Ti(K.end)}function ee(K){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ye=ne.children[ne.children.length-1];ye.position.end=Ti(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ne.type)&&(Z.call(this,K),le.call(this,K))}function ie(){this.data.atHardBreak=!0}function de(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.value=K}function se(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.value=K}function te(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.value=K}function z(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ne,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function W(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ne,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function fe(K){const ne=this.sliceSerialize(K),ye=this.stack[this.stack.length-2];ye.label=TA(ne),ye.identifier=Vl(ne).toLowerCase()}function Ae(){const K=this.stack[this.stack.length-1],ne=this.resume(),ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,ye.type==="link"){const we=K.children;ye.children=we}else ye.alt=ne}function b(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.url=K}function D(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.title=K}function J(){this.data.inReference=void 0}function x(){this.data.referenceType="collapsed"}function re(K){const ne=this.resume(),ye=this.stack[this.stack.length-1];ye.label=ne,ye.identifier=Vl(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function ge(K){this.data.characterReferenceType=K.type}function pe(K){const ne=this.sliceSerialize(K),ye=this.data.characterReferenceType;let we;ye?(we=b0(ne,ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):we=yf(ne);const qe=this.stack[this.stack.length-1];qe.value+=we}function Re(K){const ne=this.stack.pop();ne.position.end=Ti(K.end)}function We(K){le.call(this,K);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(K)}function Be(K){le.call(this,K);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(K)}function Qt(){return{type:"blockquote",children:[]}}function An(){return{type:"code",lang:null,meta:null,value:""}}function Ql(){return{type:"inlineCode",value:""}}function lr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function wn(){return{type:"emphasis",children:[]}}function Ki(){return{type:"heading",depth:0,children:[]}}function Xi(){return{type:"break"}}function or(){return{type:"html",value:""}}function rr(){return{type:"image",title:null,url:"",alt:null}}function Qi(){return{type:"link",title:null,url:"",children:[]}}function $i(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function $l(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function es(){return{type:"paragraph",children:[]}}function ts(){return{type:"strong",children:[]}}function Ct(){return{type:"text",value:""}}function ns(){return{type:"thematicBreak"}}}function Ti(t){return{line:t.line,column:t.column,offset:t.offset}}function H0(t,e){let i=-1;for(;++i<e.length;){const o=e[i];Array.isArray(o)?H0(t,o):AA(t,o)}}function AA(t,e){let i;for(i in e)if(z0.call(e,i))switch(i){case"canContainEols":{const o=e[i];o&&t[i].push(...o);break}case"transforms":{const o=e[i];o&&t[i].push(...o);break}case"enter":case"exit":{const o=e[i];o&&Object.assign(t[i],o);break}}}function dg(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Wo({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Wo({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Wo({start:e.start,end:e.end})+") is still open")}function wA(t){const e=this;e.parser=i;function i(o){return CA(o,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function bA(t,e){const i={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,i),t.applyData(e,i)}function NA(t,e){const i={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,i),[t.applyData(e,i),{type:"text",value:`
`}]}function RA(t,e){const i=e.value?e.value+`
`:"",o={},a=e.lang?e.lang.split(/\s+/):[];a.length>0&&(o.className=["language-"+a[0]]);let s={type:"element",tagName:"code",properties:o,children:[{type:"text",value:i}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function MA(t,e){const i={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function IA(t,e){const i={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function DA(t,e){const i=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",o=String(e.identifier).toUpperCase(),a=Yl(o.toLowerCase()),s=t.footnoteOrder.indexOf(o);let c,p=t.footnoteCounts.get(o);p===void 0?(p=0,t.footnoteOrder.push(o),c=t.footnoteOrder.length):c=s+1,p+=1,t.footnoteCounts.set(o,p);const g={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+a,id:i+"fnref-"+a+(p>1?"-"+p:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(e,g);const h={type:"element",tagName:"sup",properties:{},children:[g]};return t.patch(e,h),t.applyData(e,h)}function kA(t,e){const i={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function UA(t,e){if(t.options.allowDangerousHtml){const i={type:"raw",value:e.value};return t.patch(e,i),t.applyData(e,i)}}function q0(t,e){const i=e.referenceType;let o="]";if(i==="collapsed"?o+="[]":i==="full"&&(o+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+o}];const a=t.all(e),s=a[0];s&&s.type==="text"?s.value="["+s.value:a.unshift({type:"text",value:"["});const c=a[a.length-1];return c&&c.type==="text"?c.value+=o:a.push({type:"text",value:o}),a}function LA(t,e){const i=String(e.identifier).toUpperCase(),o=t.definitionById.get(i);if(!o)return q0(t,e);const a={src:Yl(o.url||""),alt:e.alt};o.title!==null&&o.title!==void 0&&(a.title=o.title);const s={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,s),t.applyData(e,s)}function PA(t,e){const i={src:Yl(e.url)};e.alt!==null&&e.alt!==void 0&&(i.alt=e.alt),e.title!==null&&e.title!==void 0&&(i.title=e.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function zA(t,e){const i={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,i);const o={type:"element",tagName:"code",properties:{},children:[i]};return t.patch(e,o),t.applyData(e,o)}function HA(t,e){const i=String(e.identifier).toUpperCase(),o=t.definitionById.get(i);if(!o)return q0(t,e);const a={href:Yl(o.url||"")};o.title!==null&&o.title!==void 0&&(a.title=o.title);const s={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function qA(t,e){const i={href:Yl(e.url)};e.title!==null&&e.title!==void 0&&(i.title=e.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function GA(t,e,i){const o=t.all(e),a=i?VA(i):G0(e),s={},c=[];if(typeof e.checked=="boolean"){const y=o[0];let S;y&&y.type==="element"&&y.tagName==="p"?S=y:(S={type:"element",tagName:"p",properties:{},children:[]},o.unshift(S)),S.children.length>0&&S.children.unshift({type:"text",value:" "}),S.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let p=-1;for(;++p<o.length;){const y=o[p];(a||p!==0||y.type!=="element"||y.tagName!=="p")&&c.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!a?c.push(...y.children):c.push(y)}const g=o[o.length-1];g&&(a||g.type!=="element"||g.tagName!=="p")&&c.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:s,children:c};return t.patch(e,h),t.applyData(e,h)}function VA(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const i=t.children;let o=-1;for(;!e&&++o<i.length;)e=G0(i[o])}return e}function G0(t){const e=t.spread;return e??t.children.length>1}function BA(t,e){const i={},o=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(i.start=e.start);++a<o.length;){const c=o[a];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:i,children:t.wrap(o,!0)};return t.patch(e,s),t.applyData(e,s)}function OA(t,e){const i={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function FA(t,e){const i={type:"root",children:t.wrap(t.all(e))};return t.patch(e,i),t.applyData(e,i)}function YA(t,e){const i={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function JA(t,e){const i=t.all(e),o=i.shift(),a=[];if(o){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([o],!0)};t.patch(e.children[0],c),a.push(c)}if(i.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(i,!0)},p=pf(e.children[1]),g=E0(e.children[e.children.length-1]);p&&g&&(c.position={start:p,end:g}),a.push(c)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,s),t.applyData(e,s)}function KA(t,e,i){const o=i?i.children:void 0,s=(o?o.indexOf(e):1)===0?"th":"td",c=i&&i.type==="table"?i.align:void 0,p=c?c.length:e.children.length;let g=-1;const h=[];for(;++g<p;){const S=e.children[g],E={},_=c?c[g]:void 0;_&&(E.align=_);let A={type:"element",tagName:s,properties:E,children:[]};S&&(A.children=t.all(S),t.patch(S,A),A=t.applyData(S,A)),h.push(A)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,y),t.applyData(e,y)}function XA(t,e){const i={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}const pg=9,hg=32;function QA(t){const e=String(t),i=/\r?\n|\r/g;let o=i.exec(e),a=0;const s=[];for(;o;)s.push(mg(e.slice(a,o.index),a>0,!0),o[0]),a=o.index+o[0].length,o=i.exec(e);return s.push(mg(e.slice(a),a>0,!1)),s.join("")}function mg(t,e,i){let o=0,a=t.length;if(e){let s=t.codePointAt(o);for(;s===pg||s===hg;)o++,s=t.codePointAt(o)}if(i){let s=t.codePointAt(a-1);for(;s===pg||s===hg;)a--,s=t.codePointAt(a-1)}return a>o?t.slice(o,a):""}function $A(t,e){const i={type:"text",value:QA(String(e.value))};return t.patch(e,i),t.applyData(e,i)}function ZA(t,e){const i={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,i),t.applyData(e,i)}const WA={blockquote:bA,break:NA,code:RA,delete:MA,emphasis:IA,footnoteReference:DA,heading:kA,html:UA,imageReference:LA,image:PA,inlineCode:zA,linkReference:HA,link:qA,listItem:GA,list:BA,paragraph:OA,root:FA,strong:YA,table:JA,tableCell:XA,tableRow:KA,text:$A,thematicBreak:ZA,toml:Ca,yaml:Ca,definition:Ca,footnoteDefinition:Ca};function Ca(){}const V0=-1,Ya=0,er=1,La=2,Ef=3,Tf=4,_f=5,Cf=6,B0=7,O0=8,gg=typeof self=="object"?self:globalThis,jA=(t,e)=>{const i=(a,s)=>(t.set(s,a),a),o=a=>{if(t.has(a))return t.get(a);const[s,c]=e[a];switch(s){case Ya:case V0:return i(c,a);case er:{const p=i([],a);for(const g of c)p.push(o(g));return p}case La:{const p=i({},a);for(const[g,h]of c)p[o(g)]=o(h);return p}case Ef:return i(new Date(c),a);case Tf:{const{source:p,flags:g}=c;return i(new RegExp(p,g),a)}case _f:{const p=i(new Map,a);for(const[g,h]of c)p.set(o(g),o(h));return p}case Cf:{const p=i(new Set,a);for(const g of c)p.add(o(g));return p}case B0:{const{name:p,message:g}=c;return i(new gg[p](g),a)}case O0:return i(BigInt(c),a);case"BigInt":return i(Object(BigInt(c)),a);case"ArrayBuffer":return i(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:p}=new Uint8Array(c);return i(new DataView(p),c)}}return i(new gg[s](c),a)};return o},yg=t=>jA(new Map,t)(0),Pl="",{toString:e1}={},{keys:t1}=Object,Xo=t=>{const e=typeof t;if(e!=="object"||!t)return[Ya,e];const i=e1.call(t).slice(8,-1);switch(i){case"Array":return[er,Pl];case"Object":return[La,Pl];case"Date":return[Ef,Pl];case"RegExp":return[Tf,Pl];case"Map":return[_f,Pl];case"Set":return[Cf,Pl];case"DataView":return[er,i]}return i.includes("Array")?[er,i]:i.includes("Error")?[B0,i]:[La,i]},xa=([t,e])=>t===Ya&&(e==="function"||e==="symbol"),n1=(t,e,i,o)=>{const a=(c,p)=>{const g=o.push(c)-1;return i.set(p,g),g},s=c=>{if(i.has(c))return i.get(c);let[p,g]=Xo(c);switch(p){case Ya:{let y=c;switch(g){case"bigint":p=O0,y=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+g);y=null;break;case"undefined":return a([V0],c)}return a([p,y],c)}case er:{if(g){let E=c;return g==="DataView"?E=new Uint8Array(c.buffer):g==="ArrayBuffer"&&(E=new Uint8Array(c)),a([g,[...E]],c)}const y=[],S=a([p,y],c);for(const E of c)y.push(s(E));return S}case La:{if(g)switch(g){case"BigInt":return a([g,c.toString()],c);case"Boolean":case"Number":case"String":return a([g,c.valueOf()],c)}if(e&&"toJSON"in c)return s(c.toJSON());const y=[],S=a([p,y],c);for(const E of t1(c))(t||!xa(Xo(c[E])))&&y.push([s(E),s(c[E])]);return S}case Ef:return a([p,c.toISOString()],c);case Tf:{const{source:y,flags:S}=c;return a([p,{source:y,flags:S}],c)}case _f:{const y=[],S=a([p,y],c);for(const[E,_]of c)(t||!(xa(Xo(E))||xa(Xo(_))))&&y.push([s(E),s(_)]);return S}case Cf:{const y=[],S=a([p,y],c);for(const E of c)(t||!xa(Xo(E)))&&y.push(s(E));return S}}const{message:h}=c;return a([p,{name:g,message:h}],c)};return s},vg=(t,{json:e,lossy:i}={})=>{const o=[];return n1(!(e||i),!!e,new Map,o)(t),o},Pa=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?yg(vg(t,e)):structuredClone(t):(t,e)=>yg(vg(t,e));function i1(t,e){const i=[{type:"text",value:""}];return e>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),i}function l1(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function o1(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=t.options.footnoteBackContent||i1,o=t.options.footnoteBackLabel||l1,a=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},p=[];let g=-1;for(;++g<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[g]);if(!h)continue;const y=t.all(h),S=String(h.identifier).toUpperCase(),E=Yl(S.toLowerCase());let _=0;const A=[],I=t.footnoteCounts.get(S);for(;I!==void 0&&++_<=I;){A.length>0&&A.push({type:"text",value:" "});let O=typeof i=="string"?i:i(g,_);typeof O=="string"&&(O={type:"text",value:O}),A.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+E+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof o=="string"?o:o(g,_),className:["data-footnote-backref"]},children:Array.isArray(O)?O:[O]})}const M=y[y.length-1];if(M&&M.type==="element"&&M.tagName==="p"){const O=M.children[M.children.length-1];O&&O.type==="text"?O.value+=" ":M.children.push({type:"text",value:" "}),M.children.push(...A)}else y.push(...A);const N={type:"element",tagName:"li",properties:{id:e+"fn-"+E},children:t.wrap(y,!0)};t.patch(h,N),p.push(N)}if(p.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Pa(c),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(p,!0)},{type:"text",value:`
`}]}}const F0=(function(t){if(t==null)return u1;if(typeof t=="function")return Ja(t);if(typeof t=="object")return Array.isArray(t)?r1(t):a1(t);if(typeof t=="string")return s1(t);throw new Error("Expected function, string, or object as test")});function r1(t){const e=[];let i=-1;for(;++i<t.length;)e[i]=F0(t[i]);return Ja(o);function o(...a){let s=-1;for(;++s<e.length;)if(e[s].apply(this,a))return!0;return!1}}function a1(t){const e=t;return Ja(i);function i(o){const a=o;let s;for(s in t)if(a[s]!==e[s])return!1;return!0}}function s1(t){return Ja(e);function e(i){return i&&i.type===t}}function Ja(t){return e;function e(i,o,a){return!!(c1(i)&&t.call(this,i,typeof o=="number"?o:void 0,a||void 0))}}function u1(){return!0}function c1(t){return t!==null&&typeof t=="object"&&"type"in t}const Y0=[],f1=!0,Sg=!1,d1="skip";function p1(t,e,i,o){let a;typeof e=="function"&&typeof i!="function"?(o=i,i=e):a=e;const s=F0(a),c=o?-1:1;p(t,void 0,[])();function p(g,h,y){const S=g&&typeof g=="object"?g:{};if(typeof S.type=="string"){const _=typeof S.tagName=="string"?S.tagName:typeof S.name=="string"?S.name:void 0;Object.defineProperty(E,"name",{value:"node ("+(g.type+(_?"<"+_+">":""))+")"})}return E;function E(){let _=Y0,A,I,M;if((!e||s(g,h,y[y.length-1]||void 0))&&(_=h1(i(g,y)),_[0]===Sg))return _;if("children"in g&&g.children){const N=g;if(N.children&&_[0]!==d1)for(I=(o?N.children.length:-1)+c,M=y.concat(N);I>-1&&I<N.children.length;){const O=N.children[I];if(A=p(O,I,M)(),A[0]===Sg)return A;I=typeof A[1]=="number"?A[1]:I+c}}return _}}}function h1(t){return Array.isArray(t)?t:typeof t=="number"?[f1,t]:t==null?Y0:[t]}function J0(t,e,i,o){let a,s,c;typeof e=="function"&&typeof i!="function"?(s=void 0,c=e,a=i):(s=e,c=i,a=o),p1(t,s,p,a);function p(g,h){const y=h[h.length-1],S=y?y.children.indexOf(g):void 0;return c(g,S,y)}}const Yc={}.hasOwnProperty,m1={};function g1(t,e){const i=e||m1,o=new Map,a=new Map,s=new Map,c={...WA,...i.handlers},p={all:h,applyData:v1,definitionById:o,footnoteById:a,footnoteCounts:s,footnoteOrder:[],handlers:c,one:g,options:i,patch:y1,wrap:E1};return J0(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const S=y.type==="definition"?o:a,E=String(y.identifier).toUpperCase();S.has(E)||S.set(E,y)}}),p;function g(y,S){const E=y.type,_=p.handlers[E];if(Yc.call(p.handlers,E)&&_)return _(p,y,S);if(p.options.passThrough&&p.options.passThrough.includes(E)){if("children"in y){const{children:I,...M}=y,N=Pa(M);return N.children=p.all(y),N}return Pa(y)}return(p.options.unknownHandler||S1)(p,y,S)}function h(y){const S=[];if("children"in y){const E=y.children;let _=-1;for(;++_<E.length;){const A=p.one(E[_],y);if(A){if(_&&E[_-1].type==="break"&&(!Array.isArray(A)&&A.type==="text"&&(A.value=Eg(A.value)),!Array.isArray(A)&&A.type==="element")){const I=A.children[0];I&&I.type==="text"&&(I.value=Eg(I.value))}Array.isArray(A)?S.push(...A):S.push(A)}}}return S}}function y1(t,e){t.position&&(e.position=eC(t))}function v1(t,e){let i=e;if(t&&t.data){const o=t.data.hName,a=t.data.hChildren,s=t.data.hProperties;if(typeof o=="string")if(i.type==="element")i.tagName=o;else{const c="children"in i?i.children:[i];i={type:"element",tagName:o,properties:{},children:c}}i.type==="element"&&s&&Object.assign(i.properties,Pa(s)),"children"in i&&i.children&&a!==null&&a!==void 0&&(i.children=a)}return i}function S1(t,e){const i=e.data||{},o="value"in e&&!(Yc.call(i,"hProperties")||Yc.call(i,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function E1(t,e){const i=[];let o=-1;for(e&&i.push({type:"text",value:`
`});++o<t.length;)o&&i.push({type:"text",value:`
`}),i.push(t[o]);return e&&t.length>0&&i.push({type:"text",value:`
`}),i}function Eg(t){let e=0,i=t.charCodeAt(e);for(;i===9||i===32;)e++,i=t.charCodeAt(e);return t.slice(e)}function Tg(t,e){const i=g1(t,e),o=i.one(t,void 0),a=o1(i),s=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return a&&s.children.push({type:"text",value:`
`},a),s}function T1(t,e){return t&&"run"in t?async function(i,o){const a=Tg(i,{file:o,...e});await t.run(a,o)}:function(i,o){return Tg(i,{file:o,...t||e})}}function _g(t){if(t)throw t}var bc,Cg;function _1(){if(Cg)return bc;Cg=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},s=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var y=t.call(h,"constructor"),S=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!y&&!S)return!1;var E;for(E in h);return typeof E>"u"||t.call(h,E)},c=function(h,y){i&&y.name==="__proto__"?i(h,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):h[y.name]=y.newValue},p=function(h,y){if(y==="__proto__")if(t.call(h,y)){if(o)return o(h,y).value}else return;return h[y]};return bc=function g(){var h,y,S,E,_,A,I=arguments[0],M=1,N=arguments.length,O=!1;for(typeof I=="boolean"&&(O=I,I=arguments[1]||{},M=2),(I==null||typeof I!="object"&&typeof I!="function")&&(I={});M<N;++M)if(h=arguments[M],h!=null)for(y in h)S=p(I,y),E=p(h,y),I!==E&&(O&&E&&(s(E)||(_=a(E)))?(_?(_=!1,A=S&&a(S)?S:[]):A=S&&s(S)?S:{},c(I,{name:y,newValue:g(O,A,E)})):typeof E<"u"&&c(I,{name:y,newValue:E}));return I},bc}var C1=_1();const Nc=Oa(C1);function Jc(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function x1(){const t=[],e={run:i,use:o};return e;function i(...a){let s=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);p(null,...a);function p(g,...h){const y=t[++s];let S=-1;if(g){c(g);return}for(;++S<a.length;)(h[S]===null||h[S]===void 0)&&(h[S]=a[S]);a=h,y?A1(y,p)(...h):c(null,...h)}}function o(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function A1(t,e){let i;return o;function o(...c){const p=t.length>c.length;let g;p&&c.push(a);try{g=t.apply(this,c)}catch(h){const y=h;if(p&&i)throw y;return a(y)}p||(g&&g.then&&typeof g.then=="function"?g.then(s,a):g instanceof Error?a(g):s(g))}function a(c,...p){i||(i=!0,e(c,...p))}function s(c){a(null,c)}}const _n={basename:w1,dirname:b1,extname:N1,join:R1,sep:"/"};function w1(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ir(t);let i=0,o=-1,a=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(s){i=a+1;break}}else o<0&&(s=!0,o=a+1);return o<0?"":t.slice(i,o)}if(e===t)return"";let c=-1,p=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(s){i=a+1;break}}else c<0&&(s=!0,c=a+1),p>-1&&(t.codePointAt(a)===e.codePointAt(p--)?p<0&&(o=a):(p=-1,o=c));return i===o?o=c:o<0&&(o=t.length),t.slice(i,o)}function b1(t){if(ir(t),t.length===0)return".";let e=-1,i=t.length,o;for(;--i;)if(t.codePointAt(i)===47){if(o){e=i;break}}else o||(o=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function N1(t){ir(t);let e=t.length,i=-1,o=0,a=-1,s=0,c;for(;e--;){const p=t.codePointAt(e);if(p===47){if(c){o=e+1;break}continue}i<0&&(c=!0,i=e+1),p===46?a<0?a=e:s!==1&&(s=1):a>-1&&(s=-1)}return a<0||i<0||s===0||s===1&&a===i-1&&a===o+1?"":t.slice(a,i)}function R1(...t){let e=-1,i;for(;++e<t.length;)ir(t[e]),t[e]&&(i=i===void 0?t[e]:i+"/"+t[e]);return i===void 0?".":M1(i)}function M1(t){ir(t);const e=t.codePointAt(0)===47;let i=I1(t,!e);return i.length===0&&!e&&(i="."),i.length>0&&t.codePointAt(t.length-1)===47&&(i+="/"),e?"/"+i:i}function I1(t,e){let i="",o=0,a=-1,s=0,c=-1,p,g;for(;++c<=t.length;){if(c<t.length)p=t.codePointAt(c);else{if(p===47)break;p=47}if(p===47){if(!(a===c-1||s===1))if(a!==c-1&&s===2){if(i.length<2||o!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(g=i.lastIndexOf("/"),g!==i.length-1){g<0?(i="",o=0):(i=i.slice(0,g),o=i.length-1-i.lastIndexOf("/")),a=c,s=0;continue}}else if(i.length>0){i="",o=0,a=c,s=0;continue}}e&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+t.slice(a+1,c):i=t.slice(a+1,c),o=c-a-1;a=c,s=0}else p===46&&s>-1?s++:s=-1}return i}function ir(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const D1={cwd:k1};function k1(){return"/"}function Kc(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function U1(t){if(typeof t=="string")t=new URL(t);else if(!Kc(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return L1(t)}function L1(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const e=t.pathname;let i=-1;for(;++i<e.length;)if(e.codePointAt(i)===37&&e.codePointAt(i+1)===50){const o=e.codePointAt(i+2);if(o===70||o===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const Rc=["history","path","basename","stem","extname","dirname"];class K0{constructor(e){let i;e?Kc(e)?i={path:e}:typeof e=="string"||P1(e)?i={value:e}:i=e:i={},this.cwd="cwd"in i?"":D1.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<Rc.length;){const s=Rc[o];s in i&&i[s]!==void 0&&i[s]!==null&&(this[s]=s==="history"?[...i[s]]:i[s])}let a;for(a in i)Rc.includes(a)||(this[a]=i[a])}get basename(){return typeof this.path=="string"?_n.basename(this.path):void 0}set basename(e){Ic(e,"basename"),Mc(e,"basename"),this.path=_n.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?_n.dirname(this.path):void 0}set dirname(e){xg(this.basename,"dirname"),this.path=_n.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?_n.extname(this.path):void 0}set extname(e){if(Mc(e,"extname"),xg(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_n.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Kc(e)&&(e=U1(e)),Ic(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?_n.basename(this.path,this.extname):void 0}set stem(e){Ic(e,"stem"),Mc(e,"stem"),this.path=_n.join(this.dirname||"",e+(this.extname||""))}fail(e,i,o){const a=this.message(e,i,o);throw a.fatal=!0,a}info(e,i,o){const a=this.message(e,i,o);return a.fatal=void 0,a}message(e,i,o){const a=new _t(e,i,o);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Mc(t,e){if(t&&t.includes(_n.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+_n.sep+"`")}function Ic(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function xg(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function P1(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const z1=(function(t){const o=this.constructor.prototype,a=o[t],s=function(){return a.apply(s,arguments)};return Object.setPrototypeOf(s,o),s}),H1={}.hasOwnProperty;class xf extends z1{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=x1()}copy(){const e=new xf;let i=-1;for(;++i<this.attachers.length;){const o=this.attachers[i];e.use(...o)}return e.data(Nc(!0,{},this.namespace)),e}data(e,i){return typeof e=="string"?arguments.length===2?(Uc("data",this.frozen),this.namespace[e]=i,this):H1.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Uc("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const a=i.call(e,...o);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const i=Aa(e),o=this.parser||this.Parser;return Dc("parse",o),o(String(i),i)}process(e,i){const o=this;return this.freeze(),Dc("process",this.parser||this.Parser),kc("process",this.compiler||this.Compiler),i?a(void 0,i):new Promise(a);function a(s,c){const p=Aa(e),g=o.parse(p);o.run(g,p,function(y,S,E){if(y||!S||!E)return h(y);const _=S,A=o.stringify(_,E);V1(A)?E.value=A:E.result=A,h(y,E)});function h(y,S){y||!S?c(y):s?s(S):i(void 0,S)}}}processSync(e){let i=!1,o;return this.freeze(),Dc("processSync",this.parser||this.Parser),kc("processSync",this.compiler||this.Compiler),this.process(e,a),wg("processSync","process",i),o;function a(s,c){i=!0,_g(s),o=c}}run(e,i,o){Ag(e),this.freeze();const a=this.transformers;return!o&&typeof i=="function"&&(o=i,i=void 0),o?s(void 0,o):new Promise(s);function s(c,p){const g=Aa(i);a.run(e,g,h);function h(y,S,E){const _=S||e;y?p(y):c?c(_):o(void 0,_,E)}}}runSync(e,i){let o=!1,a;return this.run(e,i,s),wg("runSync","run",o),a;function s(c,p){_g(c),a=p,o=!0}}stringify(e,i){this.freeze();const o=Aa(i),a=this.compiler||this.Compiler;return kc("stringify",a),Ag(e),a(e,o)}use(e,...i){const o=this.attachers,a=this.namespace;if(Uc("use",this.frozen),e!=null)if(typeof e=="function")g(e,i);else if(typeof e=="object")Array.isArray(e)?p(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(h){if(typeof h=="function")g(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[y,...S]=h;g(y,S)}else c(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function c(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");p(h.plugins),h.settings&&(a.settings=Nc(!0,a.settings,h.settings))}function p(h){let y=-1;if(h!=null)if(Array.isArray(h))for(;++y<h.length;){const S=h[y];s(S)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function g(h,y){let S=-1,E=-1;for(;++S<o.length;)if(o[S][0]===h){E=S;break}if(E===-1)o.push([h,...y]);else if(y.length>0){let[_,...A]=y;const I=o[E][1];Jc(I)&&Jc(_)&&(_=Nc(!0,I,_)),o[E]=[h,_,...A]}}}}const q1=new xf().freeze();function Dc(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function kc(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Uc(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ag(t){if(!Jc(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function wg(t,e,i){if(!i)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Aa(t){return G1(t)?t:new K0(t)}function G1(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function V1(t){return typeof t=="string"||B1(t)}function B1(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const O1="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",bg=[],Ng={allowDangerousHtml:!0},F1=/^(https?|ircs?|mailto|xmpp)$/i,Y1=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function J1(t){const e=K1(t),i=X1(t);return Q1(e.runSync(e.parse(i),i),t)}function K1(t){const e=t.rehypePlugins||bg,i=t.remarkPlugins||bg,o=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Ng}:Ng;return q1().use(wA).use(i).use(T1,o).use(e)}function X1(t){const e=t.children||"",i=new K0;return typeof e=="string"&&(i.value=e),i}function Q1(t,e){const i=e.allowedElements,o=e.allowElement,a=e.components,s=e.disallowedElements,c=e.skipHtml,p=e.unwrapDisallowed,g=e.urlTransform||$1;for(const y of Y1)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+O1+y.id,void 0);return J0(t,h),oC(t,{Fragment:w.Fragment,components:a,ignoreInvalidStyle:!0,jsx:w.jsx,jsxs:w.jsxs,passKeys:!0,passNode:!0});function h(y,S,E){if(y.type==="raw"&&E&&typeof S=="number")return c?E.children.splice(S,1):E.children[S]={type:"text",value:y.value},S;if(y.type==="element"){let _;for(_ in xc)if(Object.hasOwn(xc,_)&&Object.hasOwn(y.properties,_)){const A=y.properties[_],I=xc[_];(I===null||I.includes(y.tagName))&&(y.properties[_]=g(String(A||""),_,y))}}if(y.type==="element"){let _=i?!i.includes(y.tagName):s?s.includes(y.tagName):!1;if(!_&&o&&typeof S=="number"&&(_=!o(y,S,E)),_&&E&&typeof S=="number")return p&&y.children?E.children.splice(S,1,...y.children):E.children.splice(S,1),S}}}function $1(t){const e=t.indexOf(":"),i=t.indexOf("?"),o=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||i!==-1&&e>i||o!==-1&&e>o||F1.test(t.slice(0,e))?t:""}const Z1=({msg:t})=>w.jsxs("div",{className:`flex gap-4 group ${t.role==="user"?"flex-row-reverse":"flex-row"}`,children:[w.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 shadow-sm border border-black/5
              ${t.role==="user"?"bg-indigo-600":"bg-white"}`,children:t.role==="user"?w.jsx(h_,{className:"w-5 h-5 text-white"}):w.jsx(Ia,{className:"w-5 h-5 text-indigo-600"})}),w.jsxs("div",{className:`flex flex-col max-w-[85%] md:max-w-[75%] ${t.role==="user"?"items-end":"items-start"}`,children:[w.jsxs("div",{className:`px-5 py-3.5 rounded-2xl shadow-sm text-sm leading-7 overflow-hidden transition-all
                  ${t.role==="user"?"bg-indigo-600 text-white rounded-tr-sm":"bg-white text-slate-800 border border-slate-100 rounded-tl-sm hover:shadow-md"}`,children:[t.attachments&&t.attachments.length>0&&w.jsx("div",{className:"mb-3 space-y-2",children:t.attachments.map((e,i)=>e.type==="image"?w.jsx("img",{src:`data:${e.mimeType};base64,${e.data}`,alt:e.name,className:"max-w-full rounded-lg border border-white/20 shadow-sm",style:{maxHeight:"300px"}},i):w.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/5 rounded-lg border border-black/5",children:[w.jsx("div",{className:"p-2 bg-white rounded shadow-sm",children:w.jsx(f0,{className:"w-4 h-4 text-slate-600"})}),w.jsx("span",{className:"text-xs font-medium truncate max-w-[150px]",children:e.name})]},i))}),w.jsx("div",{className:`prose prose-sm max-w-none break-words ${t.role==="user"?"prose-invert":"prose-slate"}`,children:w.jsx(J1,{children:t.content})})]}),w.jsxs("div",{className:`flex items-center gap-2 mt-1.5 px-1 opacity-60 group-hover:opacity-100 transition-opacity ${t.role==="user"?"justify-end":"justify-start"}`,children:[w.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),t.role==="assistant"&&t.model&&w.jsxs("span",{className:"text-[10px] text-indigo-600 bg-indigo-50 border border-indigo-100 px-1.5 py-0.5 rounded-md flex items-center gap-1 font-medium",children:[w.jsx(zT,{className:"w-3 h-3"}),t.model]})]})]})]}),W1=({messages:t,onSendMessage:e,isLoading:i,onClear:o})=>{const[a,s]=xe.useState(""),[c,p]=xe.useState([]),[g,h]=xe.useState(!1),y=xe.useRef(null),S=xe.useRef(null),E=xe.useRef(null);xe.useEffect(()=>{var N;(N=y.current)==null||N.scrollIntoView({behavior:"smooth"})},[t]),xe.useEffect(()=>{E.current&&(E.current.style.height="auto",E.current.style.height=`${Math.min(E.current.scrollHeight,200)}px`)},[a]);const _=()=>{!a.trim()&&c.length===0||i||(e(a,c),s(""),p([]),E.current&&(E.current.style.height="auto"))},A=N=>{if(N.key==="Enter"&&!N.shiftKey){if(g||N.nativeEvent.isComposing)return;N.preventDefault(),_()}},I=async N=>{if(N.target.files){const O=[];for(let P=0;P<N.target.files.length;P++){const G=N.target.files[P],Q=new FileReader;await new Promise(U=>{Q.onload=F=>{var le;const Z=((le=F.target)==null?void 0:le.result).split(",")[1];O.push({type:G.type.startsWith("image/")?"image":"file",name:G.name,data:Z,mimeType:G.type}),U()},Q.readAsDataURL(G)})}p(P=>[...P,...O]),S.current&&(S.current.value="")}},M=N=>{p(O=>O.filter((P,G)=>G!==N))};return w.jsxs("div",{className:"flex-1 flex flex-col h-full bg-slate-50 relative",children:[w.jsxs("div",{className:"h-16 border-b border-slate-200 bg-white/80 backdrop-blur-md flex items-center justify-between px-6 shrink-0 sticky top-0 z-10",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:w.jsx(Ia,{className:"w-5 h-5"})}),w.jsx("h1",{className:"font-bold text-lg text-slate-800",children:"Test Playground"})]}),w.jsxs("button",{onClick:o,className:"text-slate-400 hover:text-red-500 hover:bg-red-50 transition-all p-2 rounded-lg group flex items-center gap-2 text-sm font-medium",title:"Clear Chat",children:[w.jsx("span",{className:"hidden sm:inline group-hover:text-red-500 transition-colors",children:"Clear History"}),w.jsx(cf,{className:"w-4 h-4"})]})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-8 scroll-smooth",children:[t.length===0&&w.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 space-y-4",children:[w.jsx("div",{className:"w-20 h-20 bg-white rounded-2xl shadow-sm border border-slate-100 flex items-center justify-center",children:w.jsx(Ia,{className:"w-10 h-10 text-indigo-200"})}),w.jsxs("div",{className:"text-center space-y-1",children:[w.jsx("h3",{className:"font-semibold text-slate-600",children:"Welcome to LLM Workbench"}),w.jsx("p",{className:"text-sm text-slate-400",children:"Select a model from the left and start testing."})]})]}),t.map(N=>w.jsx(Z1,{msg:N},N.id)),i&&w.jsxs("div",{className:"flex gap-4 flex-row",children:[w.jsx("div",{className:"w-8 h-8 rounded-lg bg-white border border-slate-100 shadow-sm flex items-center justify-center shrink-0",children:w.jsx(Ia,{className:"w-5 h-5 text-indigo-600"})}),w.jsx("div",{className:"bg-white border border-slate-100 px-5 py-4 rounded-2xl rounded-tl-sm shadow-sm",children:w.jsxs("div",{className:"flex space-x-1.5 items-center h-4",children:[w.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),w.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),w.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),w.jsx("div",{ref:y})]}),w.jsx("div",{className:"p-4 bg-white border-t border-slate-100 shrink-0 relative z-20",children:w.jsxs("div",{className:"max-w-3xl mx-auto flex flex-col gap-3",children:[c.length>0&&w.jsx("div",{className:"flex gap-3 overflow-x-auto py-2 px-1",children:c.map((N,O)=>w.jsxs("div",{className:"relative group shrink-0 animate-in fade-in zoom-in duration-200",children:[N.type==="image"?w.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-sm border border-slate-200 w-16 h-16",children:w.jsx("img",{src:`data:${N.mimeType};base64,${N.data}`,className:"h-full w-full object-cover",alt:"preview"})}):w.jsx("div",{className:"h-16 w-16 bg-slate-50 rounded-xl flex items-center justify-center border border-slate-200 shadow-sm",children:w.jsx(f0,{className:"w-6 h-6 text-slate-400"})}),w.jsx("button",{onClick:()=>M(O),className:"absolute -top-2 -right-2 bg-white text-slate-500 hover:text-red-500 border border-slate-200 rounded-full p-1 shadow-sm transition-colors z-10",children:w.jsx(d0,{className:"w-3 h-3"})})]},O))}),w.jsxs("div",{className:"relative flex items-end gap-2 bg-slate-100/50 border border-slate-200 p-2 rounded-[26px] focus-within:bg-white focus-within:ring-2 focus-within:ring-indigo-100 focus-within:border-indigo-300 transition-all shadow-sm",children:[w.jsx("button",{onClick:()=>{var N;return(N=S.current)==null?void 0:N.click()},className:"p-3 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-full transition-all shrink-0",title:"Attach File",children:w.jsx(KT,{className:"w-5 h-5"})}),w.jsx("input",{type:"file",multiple:!0,ref:S,className:"hidden",onChange:I,accept:"image/*, .txt, .pdf, .md"}),w.jsx("textarea",{ref:E,value:a,onChange:N=>s(N.target.value),onKeyDown:A,onCompositionStart:()=>h(!0),onCompositionEnd:()=>h(!1),placeholder:"Message...",className:"flex-1 max-h-[200px] bg-transparent border-none outline-none resize-none py-3 px-2 text-slate-800 placeholder:text-slate-400 text-sm leading-relaxed scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",rows:1,style:{minHeight:"44px"}}),w.jsx("button",{onClick:_,disabled:i||!a.trim()&&c.length===0,className:`p-3 rounded-full transition-all flex items-center justify-center shadow-md mb-0.5
                ${i||!a.trim()&&c.length===0?"bg-slate-200 text-slate-400 cursor-not-allowed shadow-none":"bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-lg active:scale-95"}`,children:i?w.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):w.jsx(TT,{className:"w-5 h-5 stroke-[2.5px]"})})]}),w.jsx("div",{className:"text-center",children:w.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:["Press ",w.jsx("kbd",{className:"font-sans px-1 py-0.5 bg-slate-100 border border-slate-200 rounded text-slate-500",children:"Enter"})," to send, ",w.jsx("kbd",{className:"font-sans px-1 py-0.5 bg-slate-100 border border-slate-200 rounded text-slate-500",children:"Shift + Enter"})," for new line"]})})]})})]})},j1=({logs:t,isOpen:e,onToggle:i,onClear:o})=>{const a=xe.useRef(null),[s,c]=xe.useState(null);xe.useEffect(()=>{e&&a.current&&(a.current.scrollTop=a.current.scrollHeight)},[t,e]);const p=g=>{switch(g){case"request":return"text-blue-400";case"response":return"text-green-400";case"error":return"text-red-400";default:return"text-slate-300"}};return e?w.jsxs("div",{className:"absolute inset-x-0 bottom-0 z-30 flex flex-col h-64 md:h-80 bg-slate-900 text-slate-200 border-t border-slate-700 shadow-2xl transition-all",children:[w.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-slate-800 border-b border-slate-700 shrink-0",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(zc,{className:"w-4 h-4 text-indigo-400"}),w.jsx("span",{className:"font-semibold text-sm",children:"System Logs"}),w.jsx("span",{className:"text-xs bg-slate-700 px-2 py-0.5 rounded-full text-slate-300",children:t.length})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-red-400",title:"Clear Logs",children:w.jsx(cf,{className:"w-4 h-4"})}),w.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-700 rounded text-slate-400",title:"Close Panel",children:w.jsx(wT,{className:"w-4 h-4"})})]})]}),w.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[w.jsxs("div",{className:`flex-1 overflow-y-auto p-2 font-mono text-xs border-r border-slate-700 ${s?"hidden md:block md:w-1/2":"w-full"}`,ref:a,children:[t.length===0&&w.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-600",children:[w.jsx(ST,{className:"w-8 h-8 mb-2 opacity-50"}),w.jsx("p",{children:"No activity recorded yet."})]}),w.jsx("table",{className:"w-full text-left border-collapse",children:w.jsx("tbody",{children:t.map(g=>w.jsxs("tr",{onClick:()=>c(g),className:`cursor-pointer hover:bg-slate-800 transition-colors border-b border-slate-800/50 ${(s==null?void 0:s.id)===g.id?"bg-slate-800":""}`,children:[w.jsx("td",{className:"py-1 px-2 text-slate-500 w-24 align-top whitespace-nowrap",children:g.timestamp.split(" ")[1]}),w.jsx("td",{className:`py-1 px-2 w-20 align-top uppercase font-bold text-[10px] ${p(g.category)}`,children:g.category}),w.jsx("td",{className:"py-1 px-2 text-slate-300 align-top truncate max-w-xs",children:g.summary})]},g.id))})})]}),s&&w.jsxs("div",{className:"flex-1 md:w-1/2 bg-slate-950 overflow-y-auto p-4 border-l border-slate-700 font-mono text-xs relative",children:[w.jsx("button",{onClick:()=>c(null),className:"absolute top-2 right-2 p-1 hover:bg-slate-800 rounded text-slate-500 md:hidden",children:w.jsx(d0,{className:"w-4 h-4"})}),w.jsxs("div",{className:"mb-4",children:[w.jsx("h3",{className:"text-slate-400 font-bold mb-1",children:"SUMMARY"}),w.jsx("p",{className:"text-slate-200",children:s.summary})]}),s.details?w.jsxs("div",{children:[w.jsx("h3",{className:"text-slate-400 font-bold mb-1",children:"DETAILS"}),w.jsx("pre",{className:"text-green-300 overflow-x-auto whitespace-pre-wrap break-all",children:JSON.stringify(s.details,null,2)})]}):w.jsx("div",{className:"text-slate-600 italic",children:"No details available."})]})]})]}):w.jsxs("button",{onClick:i,className:"absolute bottom-0 right-4 bg-slate-900 text-white px-3 py-1.5 rounded-t-lg shadow-lg flex items-center gap-2 text-xs z-30 hover:bg-slate-800 transition-colors border border-slate-700 border-b-0 opacity-90 hover:opacity-100",children:[w.jsx(zc,{className:"w-3 h-3"}),w.jsxs("span",{children:["Logs (",t.length,")"]}),w.jsx(NT,{className:"w-3 h-3"})]})},ew=()=>{const[t,e]=xe.useState([]),i=xe.useCallback(a=>{e(s=>[...s,{...a,id:Math.random().toString(36).substring(7),timestamp:new Date().toLocaleTimeString()}])},[]),o=xe.useCallback(()=>{e([])},[]);return{logs:t,addLog:i,clearLogs:o}};var tw={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nw,iw;function lw(){return{geminiUrl:nw,vertexUrl:iw}}function ow(t,e,i,o){var a,s;if(!(t!=null&&t.baseUrl)){const c=lw();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(s=c.geminiUrl)!==null&&s!==void 0?s:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xn{}function ae(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const s=e[a];return s!=null?String(s):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function d(t,e,i){for(let s=0;s<e.length-1;s++){const c=e[s];if(c.endsWith("[]")){const p=c.slice(0,-2);if(!(p in t))if(Array.isArray(i))t[p]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[p])){const g=t[p];if(Array.isArray(i))for(let h=0;h<g.length;h++){const y=g[h];d(y,e.slice(s+1),i[h])}else for(const h of g)d(h,e.slice(s+1),i)}return}else if(c.endsWith("[0]")){const p=c.slice(0,-3);p in t||(t[p]=[{}]);const g=t[p];d(g[0],e.slice(s+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const o=e[e.length-1],a=t[o];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[o]=i}function f(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return i;const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(s in t){const c=t[s];return Array.isArray(c)?c.map(p=>f(p,e.slice(o+1),i)):i}else return i}else t=t[a]}return t}catch(o){if(o instanceof TypeError)return i;throw o}}function rw(t,e){for(const[i,o]of Object.entries(e)){const a=i.split("."),s=o.split("."),c=new Set;let p=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){p=g;break}if(p!==-1&&s.length>p)for(let g=p;g<s.length;g++){const h=s[g];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&c.add(h)}Xc(t,a,s,0,c)}}function Xc(t,e,i,o,a){if(o>=e.length||typeof t!="object"||t===null)return;const s=e[o];if(s.endsWith("[]")){const c=s.slice(0,-2),p=t;if(c in p&&Array.isArray(p[c]))for(const g of p[c])Xc(g,e,i,o+1,a)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,p=Object.keys(c).filter(h=>!h.startsWith("_")&&!a.has(h)),g={};for(const h of p)g[h]=c[h];for(const[h,y]of Object.entries(g)){const S=[];for(const E of i.slice(o))E==="*"?S.push(h):S.push(E);d(c,S,y)}for(const h of p)delete c[h]}}else{const c=t;s in c&&Xc(c[s],e,i,o+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Af(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aw(t){const e={},i=f(t,["operationName"]);i!=null&&d(e,["operationName"],i);const o=f(t,["resourceName"]);return o!=null&&d(e,["_url","resourceName"],o),e}function sw(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const s=f(t,["error"]);s!=null&&d(e,["error"],s);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],cw(c)),e}function uw(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const s=f(t,["error"]);s!=null&&d(e,["error"],s);const c=f(t,["response"]);return c!=null&&d(e,["response"],fw(c)),e}function cw(t){const e={},i=f(t,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>dw(c))),d(e,["generatedVideos"],s)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const a=f(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function fw(t){const e={},i=f(t,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>pw(c))),d(e,["generatedVideos"],s)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const a=f(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function dw(t){const e={},i=f(t,["video"]);return i!=null&&d(e,["video"],Sw(i)),e}function pw(t){const e={},i=f(t,["_self"]);return i!=null&&d(e,["video"],Ew(i)),e}function hw(t){const e={},i=f(t,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function mw(t){const e={},i=f(t,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function gw(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const s=f(t,["error"]);s!=null&&d(e,["error"],s);const c=f(t,["response"]);return c!=null&&d(e,["response"],yw(c)),e}function yw(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["parent"]);o!=null&&d(e,["parent"],o);const a=f(t,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function X0(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const s=f(t,["error"]);s!=null&&d(e,["error"],s);const c=f(t,["response"]);return c!=null&&d(e,["response"],vw(c)),e}function vw(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["parent"]);o!=null&&d(e,["parent"],o);const a=f(t,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function Sw(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["uri"],i);const o=f(t,["encodedVideo"]);o!=null&&d(e,["videoBytes"],Af(o));const a=f(t,["encoding"]);return a!=null&&d(e,["mimeType"],a),e}function Ew(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["uri"],i);const o=f(t,["bytesBase64Encoded"]);o!=null&&d(e,["videoBytes"],Af(o));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rg;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Rg||(Rg={}));var Mg;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Mg||(Mg={}));var Ig;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Ig||(Ig={}));var _i;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(_i||(_i={}));var Dg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Dg||(Dg={}));var kg;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(kg||(kg={}));var Ug;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Ug||(Ug={}));var Lg;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Lg||(Lg={}));var Pg;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Pg||(Pg={}));var zg;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(zg||(zg={}));var Hg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Hg||(Hg={}));var qg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(qg||(qg={}));var Gg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Gg||(Gg={}));var Vg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Vg||(Vg={}));var Bg;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Bg||(Bg={}));var Og;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Og||(Og={}));var Fg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Fg||(Fg={}));var Yg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Yg||(Yg={}));var Jg;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Jg||(Jg={}));var za;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(za||(za={}));var Kg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Kg||(Kg={}));var Xg;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Xg||(Xg={}));var Qg;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Qg||(Qg={}));var Qc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Qc||(Qc={}));var $g;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})($g||($g={}));var Zg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Zg||(Zg={}));var Wg;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Wg||(Wg={}));var jg;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(jg||(jg={}));var ey;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ey||(ey={}));var ty;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ty||(ty={}));var ny;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(ny||(ny={}));var iy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(iy||(iy={}));var ly;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ly||(ly={}));var oy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(oy||(oy={}));var ry;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ry||(ry={}));var ay;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ay||(ay={}));var sy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(sy||(sy={}));var uy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(uy||(uy={}));var cy;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(cy||(cy={}));var fy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(fy||(fy={}));var dy;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(dy||(dy={}));var py;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(py||(py={}));var hy;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(hy||(hy={}));var my;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(my||(my={}));var gy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(gy||(gy={}));var yy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(yy||(yy={}));var vy;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(vy||(vy={}));var Sy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Sy||(Sy={}));var Ey;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ey||(Ey={}));var Ty;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ty||(Ty={}));var _y;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(_y||(_y={}));var Cy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Cy||(Cy={}));var xy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xy||(xy={}));var Ay;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ay||(Ay={}));var wy;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(wy||(wy={}));var Hl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Hl||(Hl={}));class $c{constructor(e){const i={};for(const o of e.headers.entries())i[o[0]]=o[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Qo{get text(){var e,i,o,a,s,c,p,g;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const S=[];for(const E of(g=(p=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[_,A]of Object.entries(E))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(A!==null||A!==void 0)&&S.push(_);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;y=!0,h+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var e,i,o,a,s,c,p,g;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const S of(g=(p=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[E,_]of Object.entries(S))E!=="inlineData"&&(_!==null||_!==void 0)&&y.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,i,o,a,s,c,p,g;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(g=(p=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,i,o,a,s,c,p,g,h;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(g=(p=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,i,o,a,s,c,p,g,h;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(g=(p=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.output}}class by{}class Ny{}class Tw{}class _w{}class Cw{}class xw{}class Ry{}class My{}class Iy{}class Aw{}class Ha{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new Ha;let a;const s=e;return i?a=uw(s):a=sw(s),Object.assign(o,a),o}}class Dy{}class ky{}class Uy{}class Ly{}class ww{}class bw{}class Nw{}class wf{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new wf,s=gw(e);return Object.assign(o,s),o}}class Rw{}class Mw{}class Iw{}class Py{}class Dw{get text(){var e,i,o;let a="",s=!1;const c=[];for(const p of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[g,h]of Object.entries(p))g!=="text"&&g!=="thought"&&h!==null&&c.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;s=!0,a+=p.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?a:void 0}get data(){var e,i,o;let a="";const s=[];for(const c of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[p,g]of Object.entries(c))p!=="inlineData"&&g!==null&&s.push(p);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class kw{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class bf{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new bf,s=X0(e);return Object.assign(o,s),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Le(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Q0(t,e){const i=Le(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function $0(t){return Array.isArray(t)?t.map(e=>qa(e)):[qa(t)]}function qa(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Z0(t){const e=qa(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function W0(t){const e=qa(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function j0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>zy(e)):[zy(t)]}function Zc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Hy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function qy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Tt(t){if(t==null)throw new Error("ContentUnion is required");return Zc(t)?t:{role:"user",parts:j0(t)}}function Nf(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const o=Tt(i);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const i=Tt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Tt(i)):[Tt(e)]}function un(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Hy(t)||qy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Tt(t)]}const e=[],i=[],o=Zc(t[0]);for(const a of t){const s=Zc(a);if(s!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(a);else{if(Hy(a)||qy(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return o||e.push({role:"user",parts:j0(i)}),e}function Uw(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(o=>o!=="null");if(i.length===1)e.type=Object.values(_i).includes(i[0].toUpperCase())?i[0].toUpperCase():_i.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of i)e.anyOf.push({type:Object.values(_i).includes(o.toUpperCase())?o.toUpperCase():_i.TYPE_UNSPECIFIED})}}function Bl(t){const e={},i=["items"],o=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&Uw(t.type,e);for(const[c,p]of Object.entries(t))if(p!=null)if(c=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(_i).includes(p.toUpperCase())?p.toUpperCase():_i.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=Bl(p);else if(o.includes(c)){const g=[];for(const h of p){if(h.type=="null"){e.nullable=!0;continue}g.push(Bl(h))}e[c]=g}else if(a.includes(c)){const g={};for(const[h,y]of Object.entries(p))g[h]=Bl(y);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=p}return e}function Rf(t){return Bl(t)}function Mf(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function If(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Jl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Bl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Bl(e.response));return t}function Kl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function Lw(t,e,i,o=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function Qn(t,e){if(typeof e!="string")throw new Error("name must be a string");return Lw(t,e,"cachedContents")}function ev(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function xi(t){return Af(t)}function Pw(t){return t!=null&&typeof t=="object"&&"name"in t}function zw(t){return t!=null&&typeof t=="object"&&"video"in t}function Hw(t){return t!=null&&typeof t=="object"&&"uri"in t}function tv(t){var e;let i;if(Pw(t)&&(i=t.name),!(Hw(t)&&(i=t.uri,i===void 0))&&!(zw(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function nv(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function iv(t){for(const e of["models","tunedModels","publisherModels"])if(qw(t,e))return t[e];return[]}function qw(t,e){return t!==null&&typeof t=="object"&&e in t}function Gw(t,e={}){const i=t,o={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(o.responseJsonSchema=i.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function Vw(t,e={}){const i=[],o=new Set;for(const a of t){const s=a.name;if(o.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);o.add(s);const c=Gw(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function lv(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const o=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function Bw(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ov(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let s=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Xl(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function rv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ow(t){const e={},i=f(t,["responsesFile"]);i!=null&&d(e,["fileName"],i);const o=f(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>Cb(c))),d(e,["inlinedResponses"],s)}const a=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(e,["inlinedEmbedContentResponses"],s)}return e}function Fw(t){const e={},i=f(t,["predictionsFormat"]);i!=null&&d(e,["format"],i);const o=f(t,["gcsDestination","outputUriPrefix"]);o!=null&&d(e,["gcsUri"],o);const a=f(t,["bigqueryDestination","outputUri"]);return a!=null&&d(e,["bigqueryUri"],a),e}function Yw(t){const e={},i=f(t,["format"]);i!=null&&d(e,["predictionsFormat"],i);const o=f(t,["gcsUri"]);o!=null&&d(e,["gcsDestination","outputUriPrefix"],o);const a=f(t,["bigqueryUri"]);if(a!=null&&d(e,["bigqueryDestination","outputUri"],a),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ka(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const o=f(t,["metadata","displayName"]);o!=null&&d(e,["displayName"],o);const a=f(t,["metadata","state"]);a!=null&&d(e,["state"],rv(a));const s=f(t,["metadata","createTime"]);s!=null&&d(e,["createTime"],s);const c=f(t,["metadata","endTime"]);c!=null&&d(e,["endTime"],c);const p=f(t,["metadata","updateTime"]);p!=null&&d(e,["updateTime"],p);const g=f(t,["metadata","model"]);g!=null&&d(e,["model"],g);const h=f(t,["metadata","output"]);return h!=null&&d(e,["dest"],Ow(ov(h))),e}function Wc(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const o=f(t,["displayName"]);o!=null&&d(e,["displayName"],o);const a=f(t,["state"]);a!=null&&d(e,["state"],rv(a));const s=f(t,["error"]);s!=null&&d(e,["error"],s);const c=f(t,["createTime"]);c!=null&&d(e,["createTime"],c);const p=f(t,["startTime"]);p!=null&&d(e,["startTime"],p);const g=f(t,["endTime"]);g!=null&&d(e,["endTime"],g);const h=f(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const y=f(t,["model"]);y!=null&&d(e,["model"],y);const S=f(t,["inputConfig"]);S!=null&&d(e,["src"],Jw(S));const E=f(t,["outputConfig"]);E!=null&&d(e,["dest"],Fw(ov(E)));const _=f(t,["completionStats"]);return _!=null&&d(e,["completionStats"],_),e}function Jw(t){const e={},i=f(t,["instancesFormat"]);i!=null&&d(e,["format"],i);const o=f(t,["gcsSource","uris"]);o!=null&&d(e,["gcsUri"],o);const a=f(t,["bigquerySource","inputUri"]);return a!=null&&d(e,["bigqueryUri"],a),e}function Kw(t,e){const i={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=f(e,["fileName"]);o!=null&&d(i,["fileName"],o);const a=f(e,["inlinedRequests"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>_b(t,c))),d(i,["requests","requests"],s)}return i}function Xw(t){const e={},i=f(t,["format"]);i!=null&&d(e,["instancesFormat"],i);const o=f(t,["gcsUri"]);o!=null&&d(e,["gcsSource","uris"],o);const a=f(t,["bigqueryUri"]);if(a!=null&&d(e,["bigquerySource","inputUri"],a),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Qw(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function $w(t,e){const i={},o=f(e,["name"]);return o!=null&&d(i,["_url","name"],Xl(t,o)),i}function Zw(t,e){const i={},o=f(e,["name"]);return o!=null&&d(i,["_url","name"],Xl(t,o)),i}function Ww(t){const e={},i=f(t,["content"]);i!=null&&d(e,["content"],i);const o=f(t,["citationMetadata"]);o!=null&&d(e,["citationMetadata"],jw(o));const a=f(t,["tokenCount"]);a!=null&&d(e,["tokenCount"],a);const s=f(t,["finishReason"]);s!=null&&d(e,["finishReason"],s);const c=f(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const p=f(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const g=f(t,["index"]);g!=null&&d(e,["index"],g);const h=f(t,["logprobsResult"]);h!=null&&d(e,["logprobsResult"],h);const y=f(t,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(_=>_)),d(e,["safetyRatings"],E)}const S=f(t,["urlContextMetadata"]);return S!=null&&d(e,["urlContextMetadata"],S),e}function jw(t){const e={},i=f(t,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),d(e,["citations"],o)}return e}function av(t){const e={},i=f(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Mb(s))),d(e,["parts"],a)}const o=f(t,["role"]);return o!=null&&d(e,["role"],o),e}function eb(t,e){const i={},o=f(t,["displayName"]);if(e!==void 0&&o!=null&&d(e,["batch","displayName"],o),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function tb(t,e){const i={},o=f(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const a=f(t,["dest"]);return e!==void 0&&a!=null&&d(e,["outputConfig"],Yw(Bw(a))),i}function Gy(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["src"]);a!=null&&d(i,["batch","inputConfig"],Kw(t,lv(t,a)));const s=f(e,["config"]);return s!=null&&eb(s,i),i}function nb(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["model"],Le(t,o));const a=f(e,["src"]);a!=null&&d(i,["inputConfig"],Xw(lv(t,a)));const s=f(e,["config"]);return s!=null&&tb(s,i),i}function ib(t,e){const i={},o=f(t,["displayName"]);return e!==void 0&&o!=null&&d(e,["batch","displayName"],o),i}function lb(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["src"]);a!=null&&d(i,["batch","inputConfig"],fb(t,a));const s=f(e,["config"]);return s!=null&&ib(s,i),i}function ob(t,e){const i={},o=f(e,["name"]);return o!=null&&d(i,["_url","name"],Xl(t,o)),i}function rb(t,e){const i={},o=f(e,["name"]);return o!=null&&d(i,["_url","name"],Xl(t,o)),i}function ab(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["name"]);o!=null&&d(e,["name"],o);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const s=f(t,["error"]);return s!=null&&d(e,["error"],s),e}function sb(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["name"]);o!=null&&d(e,["name"],o);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const s=f(t,["error"]);return s!=null&&d(e,["error"],s),e}function ub(t,e){const i={},o=f(e,["contents"]);if(o!=null){let s=Nf(t,o);Array.isArray(s)&&(s=s.map(c=>c)),d(i,["requests[]","request","content"],s)}const a=f(e,["config"]);return a!=null&&(d(i,["_self"],cb(a,i)),rw(i,{"requests[].*":"requests[].request.*"})),i}function cb(t,e){const i={},o=f(t,["taskType"]);e!==void 0&&o!=null&&d(e,["requests[]","taskType"],o);const a=f(t,["title"]);e!==void 0&&a!=null&&d(e,["requests[]","title"],a);const s=f(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&d(e,["requests[]","outputDimensionality"],s),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function fb(t,e){const i={},o=f(e,["fileName"]);o!=null&&d(i,["file_name"],o);const a=f(e,["inlinedRequests"]);return a!=null&&d(i,["requests"],ub(t,a)),i}function db(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function pb(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const o=f(t,["args"]);o!=null&&d(e,["args"],o);const a=f(t,["name"]);if(a!=null&&d(e,["name"],a),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hb(t){const e={},i=f(t,["mode"]);i!=null&&d(e,["mode"],i);const o=f(t,["allowedFunctionNames"]);if(o!=null&&d(e,["allowedFunctionNames"],o),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function mb(t,e,i){const o={},a=f(e,["systemInstruction"]);i!==void 0&&a!=null&&d(i,["systemInstruction"],av(Tt(a)));const s=f(e,["temperature"]);s!=null&&d(o,["temperature"],s);const c=f(e,["topP"]);c!=null&&d(o,["topP"],c);const p=f(e,["topK"]);p!=null&&d(o,["topK"],p);const g=f(e,["candidateCount"]);g!=null&&d(o,["candidateCount"],g);const h=f(e,["maxOutputTokens"]);h!=null&&d(o,["maxOutputTokens"],h);const y=f(e,["stopSequences"]);y!=null&&d(o,["stopSequences"],y);const S=f(e,["responseLogprobs"]);S!=null&&d(o,["responseLogprobs"],S);const E=f(e,["logprobs"]);E!=null&&d(o,["logprobs"],E);const _=f(e,["presencePenalty"]);_!=null&&d(o,["presencePenalty"],_);const A=f(e,["frequencyPenalty"]);A!=null&&d(o,["frequencyPenalty"],A);const I=f(e,["seed"]);I!=null&&d(o,["seed"],I);const M=f(e,["responseMimeType"]);M!=null&&d(o,["responseMimeType"],M);const N=f(e,["responseSchema"]);N!=null&&d(o,["responseSchema"],Rf(N));const O=f(e,["responseJsonSchema"]);if(O!=null&&d(o,["responseJsonSchema"],O),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=f(e,["safetySettings"]);if(i!==void 0&&P!=null){let de=P;Array.isArray(de)&&(de=de.map(se=>Ib(se))),d(i,["safetySettings"],de)}const G=f(e,["tools"]);if(i!==void 0&&G!=null){let de=Kl(G);Array.isArray(de)&&(de=de.map(se=>kb(Jl(se)))),d(i,["tools"],de)}const Q=f(e,["toolConfig"]);if(i!==void 0&&Q!=null&&d(i,["toolConfig"],Db(Q)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=f(e,["cachedContent"]);i!==void 0&&U!=null&&d(i,["cachedContent"],Qn(t,U));const F=f(e,["responseModalities"]);F!=null&&d(o,["responseModalities"],F);const oe=f(e,["mediaResolution"]);oe!=null&&d(o,["mediaResolution"],oe);const Z=f(e,["speechConfig"]);if(Z!=null&&d(o,["speechConfig"],Mf(Z)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=f(e,["thinkingConfig"]);le!=null&&d(o,["thinkingConfig"],le);const ee=f(e,["imageConfig"]);ee!=null&&d(o,["imageConfig"],Tb(ee));const ie=f(e,["enableEnhancedCivicAnswers"]);return ie!=null&&d(o,["enableEnhancedCivicAnswers"],ie),o}function gb(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(h=>Ww(h))),d(e,["candidates"],g)}const a=f(t,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const s=f(t,["promptFeedback"]);s!=null&&d(e,["promptFeedback"],s);const c=f(t,["responseId"]);c!=null&&d(e,["responseId"],c);const p=f(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function yb(t,e){const i={},o=f(e,["name"]);return o!=null&&d(i,["_url","name"],Xl(t,o)),i}function vb(t,e){const i={},o=f(e,["name"]);return o!=null&&d(i,["_url","name"],Xl(t,o)),i}function Sb(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function Eb(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function Tb(t){const e={},i=f(t,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const o=f(t,["imageSize"]);if(o!=null&&d(e,["imageSize"],o),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function _b(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["request","model"],Le(t,o));const a=f(e,["contents"]);if(a!=null){let p=un(a);Array.isArray(p)&&(p=p.map(g=>av(g))),d(i,["request","contents"],p)}const s=f(e,["metadata"]);s!=null&&d(i,["metadata"],s);const c=f(e,["config"]);return c!=null&&d(i,["request","generationConfig"],mb(t,c,f(i,["request"],{}))),i}function Cb(t){const e={},i=f(t,["response"]);i!=null&&d(e,["response"],gb(i));const o=f(t,["error"]);return o!=null&&d(e,["error"],o),e}function xb(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=f(t,["pageToken"]);if(e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function Ab(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=f(t,["pageToken"]);e!==void 0&&a!=null&&d(e,["_query","pageToken"],a);const s=f(t,["filter"]);return e!==void 0&&s!=null&&d(e,["_query","filter"],s),i}function wb(t){const e={},i=f(t,["config"]);return i!=null&&xb(i,e),e}function bb(t){const e={},i=f(t,["config"]);return i!=null&&Ab(i,e),e}function Nb(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=f(t,["operations"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>ka(c))),d(e,["batchJobs"],s)}return e}function Rb(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=f(t,["batchPredictionJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>Wc(c))),d(e,["batchJobs"],s)}return e}function Mb(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=f(t,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const a=f(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const s=f(t,["fileData"]);s!=null&&d(e,["fileData"],db(s));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],pb(c));const p=f(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],Qw(g));const h=f(t,["text"]);h!=null&&d(e,["text"],h);const y=f(t,["thought"]);y!=null&&d(e,["thought"],y);const S=f(t,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const E=f(t,["videoMetadata"]);return E!=null&&d(e,["videoMetadata"],E),e}function Ib(t){const e={},i=f(t,["category"]);if(i!=null&&d(e,["category"],i),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=f(t,["threshold"]);return o!=null&&d(e,["threshold"],o),e}function Db(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],hb(i));const o=f(t,["retrievalConfig"]);return o!=null&&d(e,["retrievalConfig"],o),e}function kb(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(S=>S)),d(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const a=f(t,["computerUse"]);a!=null&&d(e,["computerUse"],a);const s=f(t,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],Sb(p));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],Eb(g));const h=f(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Kn||(Kn={}));class Ji{constructor(e,i,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,o,a)}init(e,i,o){var a,s;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!o||Object.keys(o).length===0?c={config:{}}:typeof o=="object"?c=Object.assign({},o):c=o,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(s=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ub extends Xn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ji(Kn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=Gy(this.apiClient,e),o=i._url,a=ae("{model}:batchGenerateContent",o),p=i.batch.inputConfig.requests,g=p.requests,h=[];for(const y of g){const S=Object.assign({},y);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const _=S.request;_.systemInstruction=E,S.request=_}h.push(S)}return p.requests=h,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const o=i?Object.assign({},i):{},a=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${a}`),o.dest===void 0){const s=this.getGcsUri(e),c=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?o.dest=`${s.slice(0,-6)}/dest`:o.dest=`${s}_dest_${a}`;else if(c)o.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=nb(this.apiClient,e);return p=ae("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>Wc(y))}else{const h=Gy(this.apiClient,e);return p=ae("{model}:batchGenerateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>ka(y))}}async createEmbeddingsInternal(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=lb(this.apiClient,e);return s=ae("{model}:asyncBatchEmbedContent",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>ka(g))}}async get(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=vb(this.apiClient,e);return p=ae("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>Wc(y))}else{const h=yb(this.apiClient,e);return p=ae("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>ka(y))}}async cancel(e){var i,o,a,s;let c="",p={};if(this.apiClient.isVertexAI()){const g=Zw(this.apiClient,e);c=ae("batchPredictionJobs/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const g=$w(this.apiClient,e);c=ae("batches/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=bb(e);return p=ae("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=Rb(y),E=new Py;return Object.assign(E,S),E})}else{const h=wb(e);return p=ae("batches",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=Nb(y),E=new Py;return Object.assign(E,S),E})}}async delete(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=rb(this.apiClient,e);return p=ae("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>sb(y))}else{const h=ob(this.apiClient,e);return p=ae("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>ab(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lb(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function Vy(t){const e={},i=f(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>lN(s))),d(e,["parts"],a)}const o=f(t,["role"]);return o!=null&&d(e,["role"],o),e}function Pb(t,e){const i={},o=f(t,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const a=f(t,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let y=un(c);Array.isArray(y)&&(y=y.map(S=>Vy(S))),d(e,["contents"],y)}const p=f(t,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],Vy(Tt(p)));const g=f(t,["tools"]);if(e!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(S=>rN(S))),d(e,["tools"],y)}const h=f(t,["toolConfig"]);if(e!==void 0&&h!=null&&d(e,["toolConfig"],oN(h)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function zb(t,e){const i={},o=f(t,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const a=f(t,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let S=un(c);Array.isArray(S)&&(S=S.map(E=>E)),d(e,["contents"],S)}const p=f(t,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],Tt(p));const g=f(t,["tools"]);if(e!==void 0&&g!=null){let S=g;Array.isArray(S)&&(S=S.map(E=>aN(E))),d(e,["tools"],S)}const h=f(t,["toolConfig"]);e!==void 0&&h!=null&&d(e,["toolConfig"],h);const y=f(t,["kmsKeyName"]);return e!==void 0&&y!=null&&d(e,["encryption_spec","kmsKeyName"],y),i}function Hb(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["model"],Q0(t,o));const a=f(e,["config"]);return a!=null&&Pb(a,i),i}function qb(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["model"],Q0(t,o));const a=f(e,["config"]);return a!=null&&zb(a,i),i}function Gb(t,e){const i={},o=f(e,["name"]);return o!=null&&d(i,["_url","name"],Qn(t,o)),i}function Vb(t,e){const i={},o=f(e,["name"]);return o!=null&&d(i,["_url","name"],Qn(t,o)),i}function Bb(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function Ob(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function Fb(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function Yb(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const o=f(t,["args"]);o!=null&&d(e,["args"],o);const a=f(t,["name"]);if(a!=null&&d(e,["name"],a),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Jb(t){const e={},i=f(t,["mode"]);i!=null&&d(e,["mode"],i);const o=f(t,["allowedFunctionNames"]);if(o!=null&&d(e,["allowedFunctionNames"],o),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Kb(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&d(e,["description"],i);const o=f(t,["name"]);o!=null&&d(e,["name"],o);const a=f(t,["parameters"]);a!=null&&d(e,["parameters"],a);const s=f(t,["parametersJsonSchema"]);s!=null&&d(e,["parametersJsonSchema"],s);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const p=f(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function Xb(t,e){const i={},o=f(e,["name"]);return o!=null&&d(i,["_url","name"],Qn(t,o)),i}function Qb(t,e){const i={},o=f(e,["name"]);return o!=null&&d(i,["_url","name"],Qn(t,o)),i}function $b(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function Zb(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function Wb(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=f(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function jb(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=f(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function eN(t){const e={},i=f(t,["config"]);return i!=null&&Wb(i,e),e}function tN(t){const e={},i=f(t,["config"]);return i!=null&&jb(i,e),e}function nN(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=f(t,["cachedContents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(e,["cachedContents"],s)}return e}function iN(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=f(t,["cachedContents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(e,["cachedContents"],s)}return e}function lN(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=f(t,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const a=f(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const s=f(t,["fileData"]);s!=null&&d(e,["fileData"],Fb(s));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],Yb(c));const p=f(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],Lb(g));const h=f(t,["text"]);h!=null&&d(e,["text"],h);const y=f(t,["thought"]);y!=null&&d(e,["thought"],y);const S=f(t,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const E=f(t,["videoMetadata"]);return E!=null&&d(e,["videoMetadata"],E),e}function oN(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],Jb(i));const o=f(t,["retrievalConfig"]);return o!=null&&d(e,["retrievalConfig"],o),e}function rN(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(S=>S)),d(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const a=f(t,["computerUse"]);a!=null&&d(e,["computerUse"],a);const s=f(t,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],$b(p));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],Zb(g));const h=f(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function aN(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(E=>Kb(E))),d(e,["functionDeclarations"],S)}const o=f(t,["retrieval"]);o!=null&&d(e,["retrieval"],o);const a=f(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const s=f(t,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const p=f(t,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const h=f(t,["googleSearch"]);h!=null&&d(e,["googleSearch"],h);const y=f(t,["urlContext"]);return y!=null&&d(e,["urlContext"],y),e}function sN(t,e){const i={},o=f(t,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const a=f(t,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),i}function uN(t,e){const i={},o=f(t,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const a=f(t,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),i}function cN(t,e){const i={},o=f(e,["name"]);o!=null&&d(i,["_url","name"],Qn(t,o));const a=f(e,["config"]);return a!=null&&sN(a,i),i}function fN(t,e){const i={},o=f(e,["name"]);o!=null&&d(i,["_url","name"],Qn(t,o));const a=f(e,["config"]);return a!=null&&uN(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dN extends Xn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ji(Kn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(i),i)}async create(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=qb(this.apiClient,e);return p=ae("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=Hb(this.apiClient,e);return p=ae("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async get(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=Qb(this.apiClient,e);return p=ae("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=Xb(this.apiClient,e);return p=ae("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async delete(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=Vb(this.apiClient,e);return p=ae("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=Ob(y),E=new Uy;return Object.assign(E,S),E})}else{const h=Gb(this.apiClient,e);return p=ae("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=Bb(y),E=new Uy;return Object.assign(E,S),E})}}async update(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=fN(this.apiClient,e);return p=ae("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=cN(this.apiClient,e);return p=ae("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async listInternal(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=tN(e);return p=ae("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=iN(y),E=new Ly;return Object.assign(E,S),E})}else{const h=eN(e);return p=ae("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=nN(y),E=new Ly;return Object.assign(E,S),E})}}}function Ga(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(i[o[a]]=t[o[a]]);return i}function By(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Se(t){return this instanceof Se?(this.v=t,this):new Se(t)}function mn(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(_){return function(A){return Promise.resolve(A).then(_,S)}}function p(_,A){o[_]&&(a[_]=function(I){return new Promise(function(M,N){s.push([_,I,M,N])>1||g(_,I)})},A&&(a[_]=A(a[_])))}function g(_,A){try{h(o[_](A))}catch(I){E(s[0][3],I)}}function h(_){_.value instanceof Se?Promise.resolve(_.value.v).then(y,S):E(s[0][2],_)}function y(_){g("next",_)}function S(_){g("throw",_)}function E(_,A){_(A),s.shift(),s.length&&g(s[0][0],s[0][1])}}function gn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof By=="function"?By(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(s){i[s]=t[s]&&function(c){return new Promise(function(p,g){c=t[s](c),a(p,g,c.done,c.value)})}}function a(s,c,p,g){Promise.resolve(g).then(function(h){s({value:h,done:p})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pN(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:sv(i)}function sv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function hN(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Oy(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let o=0;for(;o<i;)if(t[o].role==="user")e.push(t[o]),o++;else{const a=[];let s=!0;for(;o<i&&t[o].role==="model";)a.push(t[o]),s&&!sv(t[o])&&(s=!1),o++;s?e.push(...a):e.pop()}return e}class mN{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new gN(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class gN{constructor(e,i,o,a={},s=[]){this.apiClient=e,this.modelsModule=i,this.model=o,this.config=a,this.history=s,this.sendPromise=Promise.resolve(),hN(s)}async sendMessage(e){var i;await this.sendPromise;const o=Tt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var s,c,p;const g=await a,h=(c=(s=g.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content,y=g.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];y!=null&&(E=(p=y.slice(S))!==null&&p!==void 0?p:[]);const _=h?[h]:[];this.recordHistory(o,_,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const o=Tt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const s=await a;return this.processStreamResponse(s,o)}getHistory(e=!1){const i=e?Oy(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return mn(this,arguments,function*(){var a,s,c,p,g,h;const y=[];try{for(var S=!0,E=gn(e),_;_=yield Se(E.next()),a=_.done,!a;S=!0){p=_.value,S=!1;const A=p;if(pN(A)){const I=(h=(g=A.candidates)===null||g===void 0?void 0:g[0])===null||h===void 0?void 0:h.content;I!==void 0&&y.push(I)}yield yield Se(A)}}catch(A){s={error:A}}finally{try{!S&&!a&&(c=E.return)&&(yield Se(c.call(E)))}finally{if(s)throw s.error}}this.recordHistory(i,y)})}recordHistory(e,i,o){let a=[];i.length>0&&i.every(s=>s.role!==void 0)?a=i:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Oy(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ka extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ka.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yN(t){const e={},i=f(t,["file"]);return i!=null&&d(e,["file"],i),e}function vN(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function SN(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","file"],tv(i)),e}function EN(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function TN(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","file"],tv(i)),e}function _N(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=f(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function CN(t){const e={},i=f(t,["config"]);return i!=null&&_N(i,e),e}function xN(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=f(t,["files"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AN extends Xn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ji(Kn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=CN(e);return s=ae("files",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=xN(g),y=new Rw;return Object.assign(y,h),y})}}async createInternal(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=yN(e);return s=ae("upload/v1beta/files",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=vN(g),y=new Mw;return Object.assign(y,h),y})}}async get(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=TN(e);return s=ae("files/{file}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=SN(e);return s=ae("files/{file}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=EN(g),y=new Iw;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ua(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function wN(t){const e={},i=f(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>BN(s))),d(e,["parts"],a)}const o=f(t,["role"]);return o!=null&&d(e,["role"],o),e}function bN(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function NN(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const o=f(t,["args"]);o!=null&&d(e,["args"],o);const a=f(t,["name"]);if(a!=null&&d(e,["name"],a),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function RN(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&d(e,["description"],i);const o=f(t,["name"]);o!=null&&d(e,["name"],o);const a=f(t,["parameters"]);a!=null&&d(e,["parameters"],a);const s=f(t,["parametersJsonSchema"]);s!=null&&d(e,["parametersJsonSchema"],s);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const p=f(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function MN(t){const e={},i=f(t,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const o=f(t,["responseJsonSchema"]);o!=null&&d(e,["responseJsonSchema"],o);const a=f(t,["audioTimestamp"]);a!=null&&d(e,["audioTimestamp"],a);const s=f(t,["candidateCount"]);s!=null&&d(e,["candidateCount"],s);const c=f(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const p=f(t,["frequencyPenalty"]);p!=null&&d(e,["frequencyPenalty"],p);const g=f(t,["logprobs"]);g!=null&&d(e,["logprobs"],g);const h=f(t,["maxOutputTokens"]);h!=null&&d(e,["maxOutputTokens"],h);const y=f(t,["mediaResolution"]);y!=null&&d(e,["mediaResolution"],y);const S=f(t,["presencePenalty"]);S!=null&&d(e,["presencePenalty"],S);const E=f(t,["responseLogprobs"]);E!=null&&d(e,["responseLogprobs"],E);const _=f(t,["responseMimeType"]);_!=null&&d(e,["responseMimeType"],_);const A=f(t,["responseModalities"]);A!=null&&d(e,["responseModalities"],A);const I=f(t,["responseSchema"]);I!=null&&d(e,["responseSchema"],I);const M=f(t,["routingConfig"]);M!=null&&d(e,["routingConfig"],M);const N=f(t,["seed"]);N!=null&&d(e,["seed"],N);const O=f(t,["speechConfig"]);O!=null&&d(e,["speechConfig"],O);const P=f(t,["stopSequences"]);P!=null&&d(e,["stopSequences"],P);const G=f(t,["temperature"]);G!=null&&d(e,["temperature"],G);const Q=f(t,["thinkingConfig"]);Q!=null&&d(e,["thinkingConfig"],Q);const U=f(t,["topK"]);U!=null&&d(e,["topK"],U);const F=f(t,["topP"]);if(F!=null&&d(e,["topP"],F),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function IN(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function DN(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function kN(t,e){const i={},o=f(t,["generationConfig"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig"],o);const a=f(t,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const s=f(t,["temperature"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","temperature"],s);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const p=f(t,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const h=f(t,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const y=f(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const S=f(t,["speechConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","speechConfig"],If(S));const E=f(t,["thinkingConfig"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","thinkingConfig"],E);const _=f(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],_);const A=f(t,["systemInstruction"]);e!==void 0&&A!=null&&d(e,["setup","systemInstruction"],wN(Tt(A)));const I=f(t,["tools"]);if(e!==void 0&&I!=null){let U=Kl(I);Array.isArray(U)&&(U=U.map(F=>FN(Jl(F)))),d(e,["setup","tools"],U)}const M=f(t,["sessionResumption"]);e!==void 0&&M!=null&&d(e,["setup","sessionResumption"],ON(M));const N=f(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&d(e,["setup","inputAudioTranscription"],N);const O=f(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&d(e,["setup","outputAudioTranscription"],O);const P=f(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],P);const G=f(t,["contextWindowCompression"]);e!==void 0&&G!=null&&d(e,["setup","contextWindowCompression"],G);const Q=f(t,["proactivity"]);if(e!==void 0&&Q!=null&&d(e,["setup","proactivity"],Q),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function UN(t,e){const i={},o=f(t,["generationConfig"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig"],MN(o));const a=f(t,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const s=f(t,["temperature"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","temperature"],s);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const p=f(t,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const h=f(t,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const y=f(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const S=f(t,["speechConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","speechConfig"],If(S));const E=f(t,["thinkingConfig"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","thinkingConfig"],E);const _=f(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],_);const A=f(t,["systemInstruction"]);e!==void 0&&A!=null&&d(e,["setup","systemInstruction"],Tt(A));const I=f(t,["tools"]);if(e!==void 0&&I!=null){let F=Kl(I);Array.isArray(F)&&(F=F.map(oe=>YN(Jl(oe)))),d(e,["setup","tools"],F)}const M=f(t,["sessionResumption"]);e!==void 0&&M!=null&&d(e,["setup","sessionResumption"],M);const N=f(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&d(e,["setup","inputAudioTranscription"],N);const O=f(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&d(e,["setup","outputAudioTranscription"],O);const P=f(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],P);const G=f(t,["contextWindowCompression"]);e!==void 0&&G!=null&&d(e,["setup","contextWindowCompression"],G);const Q=f(t,["proactivity"]);e!==void 0&&Q!=null&&d(e,["setup","proactivity"],Q);const U=f(t,["explicitVadSignal"]);return e!==void 0&&U!=null&&d(e,["setup","explicitVadSignal"],U),i}function LN(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["setup","model"],Le(t,o));const a=f(e,["config"]);return a!=null&&d(i,["config"],kN(a,i)),i}function PN(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["setup","model"],Le(t,o));const a=f(e,["config"]);return a!=null&&d(i,["config"],UN(a,i)),i}function zN(t){const e={},i=f(t,["musicGenerationConfig"]);return i!=null&&d(e,["musicGenerationConfig"],i),e}function HN(t){const e={},i=f(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),d(e,["weightedPrompts"],o)}return e}function qN(t){const e={},i=f(t,["media"]);if(i!=null){let h=$0(i);Array.isArray(h)&&(h=h.map(y=>Ua(y))),d(e,["mediaChunks"],h)}const o=f(t,["audio"]);o!=null&&d(e,["audio"],Ua(W0(o)));const a=f(t,["audioStreamEnd"]);a!=null&&d(e,["audioStreamEnd"],a);const s=f(t,["video"]);s!=null&&d(e,["video"],Ua(Z0(s)));const c=f(t,["text"]);c!=null&&d(e,["text"],c);const p=f(t,["activityStart"]);p!=null&&d(e,["activityStart"],p);const g=f(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function GN(t){const e={},i=f(t,["media"]);if(i!=null){let h=$0(i);Array.isArray(h)&&(h=h.map(y=>y)),d(e,["mediaChunks"],h)}const o=f(t,["audio"]);o!=null&&d(e,["audio"],W0(o));const a=f(t,["audioStreamEnd"]);a!=null&&d(e,["audioStreamEnd"],a);const s=f(t,["video"]);s!=null&&d(e,["video"],Z0(s));const c=f(t,["text"]);c!=null&&d(e,["text"],c);const p=f(t,["activityStart"]);p!=null&&d(e,["activityStart"],p);const g=f(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function VN(t){const e={},i=f(t,["setupComplete"]);i!=null&&d(e,["setupComplete"],i);const o=f(t,["serverContent"]);o!=null&&d(e,["serverContent"],o);const a=f(t,["toolCall"]);a!=null&&d(e,["toolCall"],a);const s=f(t,["toolCallCancellation"]);s!=null&&d(e,["toolCallCancellation"],s);const c=f(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],JN(c));const p=f(t,["goAway"]);p!=null&&d(e,["goAway"],p);const g=f(t,["sessionResumptionUpdate"]);g!=null&&d(e,["sessionResumptionUpdate"],g);const h=f(t,["voiceActivityDetectionSignal"]);return h!=null&&d(e,["voiceActivityDetectionSignal"],h),e}function BN(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=f(t,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const a=f(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const s=f(t,["fileData"]);s!=null&&d(e,["fileData"],bN(s));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],NN(c));const p=f(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],Ua(g));const h=f(t,["text"]);h!=null&&d(e,["text"],h);const y=f(t,["thought"]);y!=null&&d(e,["thought"],y);const S=f(t,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const E=f(t,["videoMetadata"]);return E!=null&&d(e,["videoMetadata"],E),e}function ON(t){const e={},i=f(t,["handle"]);if(i!=null&&d(e,["handle"],i),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function FN(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(S=>S)),d(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const a=f(t,["computerUse"]);a!=null&&d(e,["computerUse"],a);const s=f(t,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],IN(p));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],DN(g));const h=f(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function YN(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(E=>RN(E))),d(e,["functionDeclarations"],S)}const o=f(t,["retrieval"]);o!=null&&d(e,["retrieval"],o);const a=f(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const s=f(t,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const p=f(t,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const h=f(t,["googleSearch"]);h!=null&&d(e,["googleSearch"],h);const y=f(t,["urlContext"]);return y!=null&&d(e,["urlContext"],y),e}function JN(t){const e={},i=f(t,["promptTokenCount"]);i!=null&&d(e,["promptTokenCount"],i);const o=f(t,["cachedContentTokenCount"]);o!=null&&d(e,["cachedContentTokenCount"],o);const a=f(t,["candidatesTokenCount"]);a!=null&&d(e,["responseTokenCount"],a);const s=f(t,["toolUsePromptTokenCount"]);s!=null&&d(e,["toolUsePromptTokenCount"],s);const c=f(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const p=f(t,["totalTokenCount"]);p!=null&&d(e,["totalTokenCount"],p);const g=f(t,["promptTokensDetails"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(A=>A)),d(e,["promptTokensDetails"],_)}const h=f(t,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(A=>A)),d(e,["cacheTokensDetails"],_)}const y=f(t,["candidatesTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(A=>A)),d(e,["responseTokensDetails"],_)}const S=f(t,["toolUsePromptTokensDetails"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(A=>A)),d(e,["toolUsePromptTokensDetails"],_)}const E=f(t,["trafficType"]);return E!=null&&d(e,["trafficType"],E),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KN(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function XN(t){const e={},i=f(t,["content"]);i!=null&&d(e,["content"],i);const o=f(t,["citationMetadata"]);o!=null&&d(e,["citationMetadata"],QN(o));const a=f(t,["tokenCount"]);a!=null&&d(e,["tokenCount"],a);const s=f(t,["finishReason"]);s!=null&&d(e,["finishReason"],s);const c=f(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const p=f(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const g=f(t,["index"]);g!=null&&d(e,["index"],g);const h=f(t,["logprobsResult"]);h!=null&&d(e,["logprobsResult"],h);const y=f(t,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(_=>_)),d(e,["safetyRatings"],E)}const S=f(t,["urlContextMetadata"]);return S!=null&&d(e,["urlContextMetadata"],S),e}function QN(t){const e={},i=f(t,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),d(e,["citations"],o)}return e}function $N(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["contents"]);if(a!=null){let s=un(a);Array.isArray(s)&&(s=s.map(c=>c)),d(i,["contents"],s)}return i}function ZN(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["tokensInfo"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>s)),d(e,["tokensInfo"],a)}return e}function WN(t){const e={},i=f(t,["values"]);i!=null&&d(e,["values"],i);const o=f(t,["statistics"]);return o!=null&&d(e,["statistics"],jN(o)),e}function jN(t){const e={},i=f(t,["truncated"]);i!=null&&d(e,["truncated"],i);const o=f(t,["token_count"]);return o!=null&&d(e,["tokenCount"],o),e}function Xa(t){const e={},i=f(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>sM(s))),d(e,["parts"],a)}const o=f(t,["role"]);return o!=null&&d(e,["role"],o),e}function eR(t){const e={},i=f(t,["controlType"]);i!=null&&d(e,["controlType"],i);const o=f(t,["enableControlImageComputation"]);return o!=null&&d(e,["computeControl"],o),e}function tR(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function nR(t,e){const i={},o=f(t,["systemInstruction"]);e!==void 0&&o!=null&&d(e,["systemInstruction"],Tt(o));const a=f(t,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>dv(p))),d(e,["tools"],c)}const s=f(t,["generationConfig"]);return e!==void 0&&s!=null&&d(e,["generationConfig"],KR(s)),i}function iR(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["contents"]);if(a!=null){let c=un(a);Array.isArray(c)&&(c=c.map(p=>Xa(p))),d(i,["contents"],c)}const s=f(e,["config"]);return s!=null&&tR(s),i}function lR(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["contents"]);if(a!=null){let c=un(a);Array.isArray(c)&&(c=c.map(p=>p)),d(i,["contents"],c)}const s=f(e,["config"]);return s!=null&&nR(s,i),i}function oR(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["totalTokens"]);o!=null&&d(e,["totalTokens"],o);const a=f(t,["cachedContentTokenCount"]);return a!=null&&d(e,["cachedContentTokenCount"],a),e}function rR(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["totalTokens"]);return o!=null&&d(e,["totalTokens"],o),e}function aR(t,e){const i={},o=f(e,["model"]);return o!=null&&d(i,["_url","name"],Le(t,o)),i}function sR(t,e){const i={},o=f(e,["model"]);return o!=null&&d(i,["_url","name"],Le(t,o)),i}function uR(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function cR(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function fR(t,e){const i={},o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const a=f(t,["negativePrompt"]);e!==void 0&&a!=null&&d(e,["parameters","negativePrompt"],a);const s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const p=f(t,["guidanceScale"]);e!==void 0&&p!=null&&d(e,["parameters","guidanceScale"],p);const g=f(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const h=f(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const S=f(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&d(e,["parameters","includeSafetyAttributes"],S);const E=f(t,["includeRaiReason"]);e!==void 0&&E!=null&&d(e,["parameters","includeRaiReason"],E);const _=f(t,["language"]);e!==void 0&&_!=null&&d(e,["parameters","language"],_);const A=f(t,["outputMimeType"]);e!==void 0&&A!=null&&d(e,["parameters","outputOptions","mimeType"],A);const I=f(t,["outputCompressionQuality"]);e!==void 0&&I!=null&&d(e,["parameters","outputOptions","compressionQuality"],I);const M=f(t,["addWatermark"]);e!==void 0&&M!=null&&d(e,["parameters","addWatermark"],M);const N=f(t,["labels"]);e!==void 0&&N!=null&&d(e,["labels"],N);const O=f(t,["editMode"]);e!==void 0&&O!=null&&d(e,["parameters","editMode"],O);const P=f(t,["baseSteps"]);return e!==void 0&&P!=null&&d(e,["parameters","editConfig","baseSteps"],P),i}function dR(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const s=f(e,["referenceImages"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>hM(g))),d(i,["instances[0]","referenceImages"],p)}const c=f(e,["config"]);return c!=null&&fR(c,i),i}function pR(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Qa(s))),d(e,["generatedImages"],a)}return e}function hR(t,e){const i={},o=f(t,["taskType"]);e!==void 0&&o!=null&&d(e,["requests[]","taskType"],o);const a=f(t,["title"]);e!==void 0&&a!=null&&d(e,["requests[]","title"],a);const s=f(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&d(e,["requests[]","outputDimensionality"],s),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function mR(t,e){const i={},o=f(t,["taskType"]);e!==void 0&&o!=null&&d(e,["instances[]","task_type"],o);const a=f(t,["title"]);e!==void 0&&a!=null&&d(e,["instances[]","title"],a);const s=f(t,["outputDimensionality"]);e!==void 0&&s!=null&&d(e,["parameters","outputDimensionality"],s);const c=f(t,["mimeType"]);e!==void 0&&c!=null&&d(e,["instances[]","mimeType"],c);const p=f(t,["autoTruncate"]);return e!==void 0&&p!=null&&d(e,["parameters","autoTruncate"],p),i}function gR(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["contents"]);if(a!=null){let p=Nf(t,a);Array.isArray(p)&&(p=p.map(g=>g)),d(i,["requests[]","content"],p)}const s=f(e,["config"]);s!=null&&hR(s,i);const c=f(e,["model"]);return c!==void 0&&d(i,["requests[]","model"],Le(t,c)),i}function yR(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["contents"]);if(a!=null){let c=Nf(t,a);Array.isArray(c)&&(c=c.map(p=>p)),d(i,["instances[]","content"],c)}const s=f(e,["config"]);return s!=null&&mR(s,i),i}function vR(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["embeddings"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>c)),d(e,["embeddings"],s)}const a=f(t,["metadata"]);return a!=null&&d(e,["metadata"],a),e}function SR(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["predictions[]","embeddings"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>WN(c))),d(e,["embeddings"],s)}const a=f(t,["metadata"]);return a!=null&&d(e,["metadata"],a),e}function ER(t){const e={},i=f(t,["endpoint"]);i!=null&&d(e,["name"],i);const o=f(t,["deployedModelId"]);return o!=null&&d(e,["deployedModelId"],o),e}function TR(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function _R(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const o=f(t,["args"]);o!=null&&d(e,["args"],o);const a=f(t,["name"]);if(a!=null&&d(e,["name"],a),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function CR(t){const e={},i=f(t,["mode"]);i!=null&&d(e,["mode"],i);const o=f(t,["allowedFunctionNames"]);if(o!=null&&d(e,["allowedFunctionNames"],o),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xR(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&d(e,["description"],i);const o=f(t,["name"]);o!=null&&d(e,["name"],o);const a=f(t,["parameters"]);a!=null&&d(e,["parameters"],a);const s=f(t,["parametersJsonSchema"]);s!=null&&d(e,["parametersJsonSchema"],s);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const p=f(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function AR(t,e,i){const o={},a=f(e,["systemInstruction"]);i!==void 0&&a!=null&&d(i,["systemInstruction"],Xa(Tt(a)));const s=f(e,["temperature"]);s!=null&&d(o,["temperature"],s);const c=f(e,["topP"]);c!=null&&d(o,["topP"],c);const p=f(e,["topK"]);p!=null&&d(o,["topK"],p);const g=f(e,["candidateCount"]);g!=null&&d(o,["candidateCount"],g);const h=f(e,["maxOutputTokens"]);h!=null&&d(o,["maxOutputTokens"],h);const y=f(e,["stopSequences"]);y!=null&&d(o,["stopSequences"],y);const S=f(e,["responseLogprobs"]);S!=null&&d(o,["responseLogprobs"],S);const E=f(e,["logprobs"]);E!=null&&d(o,["logprobs"],E);const _=f(e,["presencePenalty"]);_!=null&&d(o,["presencePenalty"],_);const A=f(e,["frequencyPenalty"]);A!=null&&d(o,["frequencyPenalty"],A);const I=f(e,["seed"]);I!=null&&d(o,["seed"],I);const M=f(e,["responseMimeType"]);M!=null&&d(o,["responseMimeType"],M);const N=f(e,["responseSchema"]);N!=null&&d(o,["responseSchema"],Rf(N));const O=f(e,["responseJsonSchema"]);if(O!=null&&d(o,["responseJsonSchema"],O),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=f(e,["safetySettings"]);if(i!==void 0&&P!=null){let de=P;Array.isArray(de)&&(de=de.map(se=>mM(se))),d(i,["safetySettings"],de)}const G=f(e,["tools"]);if(i!==void 0&&G!=null){let de=Kl(G);Array.isArray(de)&&(de=de.map(se=>_M(Jl(se)))),d(i,["tools"],de)}const Q=f(e,["toolConfig"]);if(i!==void 0&&Q!=null&&d(i,["toolConfig"],TM(Q)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=f(e,["cachedContent"]);i!==void 0&&U!=null&&d(i,["cachedContent"],Qn(t,U));const F=f(e,["responseModalities"]);F!=null&&d(o,["responseModalities"],F);const oe=f(e,["mediaResolution"]);oe!=null&&d(o,["mediaResolution"],oe);const Z=f(e,["speechConfig"]);if(Z!=null&&d(o,["speechConfig"],Mf(Z)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=f(e,["thinkingConfig"]);le!=null&&d(o,["thinkingConfig"],le);const ee=f(e,["imageConfig"]);ee!=null&&d(o,["imageConfig"],WR(ee));const ie=f(e,["enableEnhancedCivicAnswers"]);return ie!=null&&d(o,["enableEnhancedCivicAnswers"],ie),o}function wR(t,e,i){const o={},a=f(e,["systemInstruction"]);i!==void 0&&a!=null&&d(i,["systemInstruction"],Tt(a));const s=f(e,["temperature"]);s!=null&&d(o,["temperature"],s);const c=f(e,["topP"]);c!=null&&d(o,["topP"],c);const p=f(e,["topK"]);p!=null&&d(o,["topK"],p);const g=f(e,["candidateCount"]);g!=null&&d(o,["candidateCount"],g);const h=f(e,["maxOutputTokens"]);h!=null&&d(o,["maxOutputTokens"],h);const y=f(e,["stopSequences"]);y!=null&&d(o,["stopSequences"],y);const S=f(e,["responseLogprobs"]);S!=null&&d(o,["responseLogprobs"],S);const E=f(e,["logprobs"]);E!=null&&d(o,["logprobs"],E);const _=f(e,["presencePenalty"]);_!=null&&d(o,["presencePenalty"],_);const A=f(e,["frequencyPenalty"]);A!=null&&d(o,["frequencyPenalty"],A);const I=f(e,["seed"]);I!=null&&d(o,["seed"],I);const M=f(e,["responseMimeType"]);M!=null&&d(o,["responseMimeType"],M);const N=f(e,["responseSchema"]);N!=null&&d(o,["responseSchema"],Rf(N));const O=f(e,["responseJsonSchema"]);O!=null&&d(o,["responseJsonSchema"],O);const P=f(e,["routingConfig"]);P!=null&&d(o,["routingConfig"],P);const G=f(e,["modelSelectionConfig"]);G!=null&&d(o,["modelConfig"],G);const Q=f(e,["safetySettings"]);if(i!==void 0&&Q!=null){let z=Q;Array.isArray(z)&&(z=z.map(W=>W)),d(i,["safetySettings"],z)}const U=f(e,["tools"]);if(i!==void 0&&U!=null){let z=Kl(U);Array.isArray(z)&&(z=z.map(W=>dv(Jl(W)))),d(i,["tools"],z)}const F=f(e,["toolConfig"]);i!==void 0&&F!=null&&d(i,["toolConfig"],F);const oe=f(e,["labels"]);i!==void 0&&oe!=null&&d(i,["labels"],oe);const Z=f(e,["cachedContent"]);i!==void 0&&Z!=null&&d(i,["cachedContent"],Qn(t,Z));const le=f(e,["responseModalities"]);le!=null&&d(o,["responseModalities"],le);const ee=f(e,["mediaResolution"]);ee!=null&&d(o,["mediaResolution"],ee);const ie=f(e,["speechConfig"]);ie!=null&&d(o,["speechConfig"],Mf(ie));const de=f(e,["audioTimestamp"]);de!=null&&d(o,["audioTimestamp"],de);const se=f(e,["thinkingConfig"]);se!=null&&d(o,["thinkingConfig"],se);const te=f(e,["imageConfig"]);if(te!=null&&d(o,["imageConfig"],jR(te)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Fy(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["contents"]);if(a!=null){let c=un(a);Array.isArray(c)&&(c=c.map(p=>Xa(p))),d(i,["contents"],c)}const s=f(e,["config"]);return s!=null&&d(i,["generationConfig"],AR(t,s,i)),i}function Yy(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["contents"]);if(a!=null){let c=un(a);Array.isArray(c)&&(c=c.map(p=>p)),d(i,["contents"],c)}const s=f(e,["config"]);return s!=null&&d(i,["generationConfig"],wR(t,s,i)),i}function Jy(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(h=>XN(h))),d(e,["candidates"],g)}const a=f(t,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const s=f(t,["promptFeedback"]);s!=null&&d(e,["promptFeedback"],s);const c=f(t,["responseId"]);c!=null&&d(e,["responseId"],c);const p=f(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function Ky(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(y=>y)),d(e,["candidates"],h)}const a=f(t,["createTime"]);a!=null&&d(e,["createTime"],a);const s=f(t,["modelVersion"]);s!=null&&d(e,["modelVersion"],s);const c=f(t,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const p=f(t,["responseId"]);p!=null&&d(e,["responseId"],p);const g=f(t,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function bR(t,e){const i={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&d(e,["parameters","aspectRatio"],a);const s=f(t,["guidanceScale"]);if(e!==void 0&&s!=null&&d(e,["parameters","guidanceScale"],s),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const p=f(t,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const g=f(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&d(e,["parameters","includeSafetyAttributes"],g);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&d(e,["parameters","includeRaiReason"],h);const y=f(t,["language"]);e!==void 0&&y!=null&&d(e,["parameters","language"],y);const S=f(t,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const E=f(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&d(e,["parameters","outputOptions","compressionQuality"],E),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=f(t,["imageSize"]);if(e!==void 0&&_!=null&&d(e,["parameters","sampleImageSize"],_),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function NR(t,e){const i={},o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const a=f(t,["negativePrompt"]);e!==void 0&&a!=null&&d(e,["parameters","negativePrompt"],a);const s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const p=f(t,["guidanceScale"]);e!==void 0&&p!=null&&d(e,["parameters","guidanceScale"],p);const g=f(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const h=f(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const S=f(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&d(e,["parameters","includeSafetyAttributes"],S);const E=f(t,["includeRaiReason"]);e!==void 0&&E!=null&&d(e,["parameters","includeRaiReason"],E);const _=f(t,["language"]);e!==void 0&&_!=null&&d(e,["parameters","language"],_);const A=f(t,["outputMimeType"]);e!==void 0&&A!=null&&d(e,["parameters","outputOptions","mimeType"],A);const I=f(t,["outputCompressionQuality"]);e!==void 0&&I!=null&&d(e,["parameters","outputOptions","compressionQuality"],I);const M=f(t,["addWatermark"]);e!==void 0&&M!=null&&d(e,["parameters","addWatermark"],M);const N=f(t,["labels"]);e!==void 0&&N!=null&&d(e,["labels"],N);const O=f(t,["imageSize"]);e!==void 0&&O!=null&&d(e,["parameters","sampleImageSize"],O);const P=f(t,["enhancePrompt"]);return e!==void 0&&P!=null&&d(e,["parameters","enhancePrompt"],P),i}function RR(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const s=f(e,["config"]);return s!=null&&bR(s,i),i}function MR(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const s=f(e,["config"]);return s!=null&&NR(s,i),i}function IR(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>OR(c))),d(e,["generatedImages"],s)}const a=f(t,["positivePromptSafetyAttributes"]);return a!=null&&d(e,["positivePromptSafetyAttributes"],cv(a)),e}function DR(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>Qa(c))),d(e,["generatedImages"],s)}const a=f(t,["positivePromptSafetyAttributes"]);return a!=null&&d(e,["positivePromptSafetyAttributes"],fv(a)),e}function kR(t,e){const i={},o=f(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=f(t,["durationSeconds"]);if(e!==void 0&&a!=null&&d(e,["parameters","durationSeconds"],a),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=f(t,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const c=f(t,["resolution"]);e!==void 0&&c!=null&&d(e,["parameters","resolution"],c);const p=f(t,["personGeneration"]);if(e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=f(t,["negativePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","negativePrompt"],g);const h=f(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&d(e,["parameters","enhancePrompt"],h),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=f(t,["lastFrame"]);e!==void 0&&y!=null&&d(e,["instances[0]","lastFrame"],$a(y));const S=f(t,["referenceImages"]);if(e!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(_=>LM(_))),d(e,["instances[0]","referenceImages"],E)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function UR(t,e){const i={},o=f(t,["numberOfVideos"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const a=f(t,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const s=f(t,["fps"]);e!==void 0&&s!=null&&d(e,["parameters","fps"],s);const c=f(t,["durationSeconds"]);e!==void 0&&c!=null&&d(e,["parameters","durationSeconds"],c);const p=f(t,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const g=f(t,["aspectRatio"]);e!==void 0&&g!=null&&d(e,["parameters","aspectRatio"],g);const h=f(t,["resolution"]);e!==void 0&&h!=null&&d(e,["parameters","resolution"],h);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const S=f(t,["pubsubTopic"]);e!==void 0&&S!=null&&d(e,["parameters","pubsubTopic"],S);const E=f(t,["negativePrompt"]);e!==void 0&&E!=null&&d(e,["parameters","negativePrompt"],E);const _=f(t,["enhancePrompt"]);e!==void 0&&_!=null&&d(e,["parameters","enhancePrompt"],_);const A=f(t,["generateAudio"]);e!==void 0&&A!=null&&d(e,["parameters","generateAudio"],A);const I=f(t,["lastFrame"]);e!==void 0&&I!=null&&d(e,["instances[0]","lastFrame"],yn(I));const M=f(t,["referenceImages"]);if(e!==void 0&&M!=null){let P=M;Array.isArray(P)&&(P=P.map(G=>PM(G))),d(e,["instances[0]","referenceImages"],P)}const N=f(t,["mask"]);e!==void 0&&N!=null&&d(e,["instances[0]","mask"],UM(N));const O=f(t,["compressionQuality"]);return e!==void 0&&O!=null&&d(e,["parameters","compressionQuality"],O),i}function LR(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const s=f(t,["error"]);s!=null&&d(e,["error"],s);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],qR(c)),e}function PR(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const s=f(t,["error"]);s!=null&&d(e,["error"],s);const c=f(t,["response"]);return c!=null&&d(e,["response"],GR(c)),e}function zR(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const s=f(e,["image"]);s!=null&&d(i,["instances[0]","image"],$a(s));const c=f(e,["video"]);c!=null&&d(i,["instances[0]","video"],pv(c));const p=f(e,["source"]);p!=null&&VR(p,i);const g=f(e,["config"]);return g!=null&&kR(g,i),i}function HR(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const s=f(e,["image"]);s!=null&&d(i,["instances[0]","image"],yn(s));const c=f(e,["video"]);c!=null&&d(i,["instances[0]","video"],hv(c));const p=f(e,["source"]);p!=null&&BR(p,i);const g=f(e,["config"]);return g!=null&&UR(g,i),i}function qR(t){const e={},i=f(t,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>YR(c))),d(e,["generatedVideos"],s)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const a=f(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function GR(t){const e={},i=f(t,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>JR(c))),d(e,["generatedVideos"],s)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const a=f(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function VR(t,e){const i={},o=f(t,["prompt"]);e!==void 0&&o!=null&&d(e,["instances[0]","prompt"],o);const a=f(t,["image"]);e!==void 0&&a!=null&&d(e,["instances[0]","image"],$a(a));const s=f(t,["video"]);return e!==void 0&&s!=null&&d(e,["instances[0]","video"],pv(s)),i}function BR(t,e){const i={},o=f(t,["prompt"]);e!==void 0&&o!=null&&d(e,["instances[0]","prompt"],o);const a=f(t,["image"]);e!==void 0&&a!=null&&d(e,["instances[0]","image"],yn(a));const s=f(t,["video"]);return e!==void 0&&s!=null&&d(e,["instances[0]","video"],hv(s)),i}function OR(t){const e={},i=f(t,["_self"]);i!=null&&d(e,["image"],eM(i));const o=f(t,["raiFilteredReason"]);o!=null&&d(e,["raiFilteredReason"],o);const a=f(t,["_self"]);return a!=null&&d(e,["safetyAttributes"],cv(a)),e}function Qa(t){const e={},i=f(t,["_self"]);i!=null&&d(e,["image"],uv(i));const o=f(t,["raiFilteredReason"]);o!=null&&d(e,["raiFilteredReason"],o);const a=f(t,["_self"]);a!=null&&d(e,["safetyAttributes"],fv(a));const s=f(t,["prompt"]);return s!=null&&d(e,["enhancedPrompt"],s),e}function FR(t){const e={},i=f(t,["_self"]);i!=null&&d(e,["mask"],uv(i));const o=f(t,["labels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>s)),d(e,["labels"],a)}return e}function YR(t){const e={},i=f(t,["video"]);return i!=null&&d(e,["video"],DM(i)),e}function JR(t){const e={},i=f(t,["_self"]);return i!=null&&d(e,["video"],kM(i)),e}function KR(t){const e={},i=f(t,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const o=f(t,["responseJsonSchema"]);o!=null&&d(e,["responseJsonSchema"],o);const a=f(t,["audioTimestamp"]);a!=null&&d(e,["audioTimestamp"],a);const s=f(t,["candidateCount"]);s!=null&&d(e,["candidateCount"],s);const c=f(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const p=f(t,["frequencyPenalty"]);p!=null&&d(e,["frequencyPenalty"],p);const g=f(t,["logprobs"]);g!=null&&d(e,["logprobs"],g);const h=f(t,["maxOutputTokens"]);h!=null&&d(e,["maxOutputTokens"],h);const y=f(t,["mediaResolution"]);y!=null&&d(e,["mediaResolution"],y);const S=f(t,["presencePenalty"]);S!=null&&d(e,["presencePenalty"],S);const E=f(t,["responseLogprobs"]);E!=null&&d(e,["responseLogprobs"],E);const _=f(t,["responseMimeType"]);_!=null&&d(e,["responseMimeType"],_);const A=f(t,["responseModalities"]);A!=null&&d(e,["responseModalities"],A);const I=f(t,["responseSchema"]);I!=null&&d(e,["responseSchema"],I);const M=f(t,["routingConfig"]);M!=null&&d(e,["routingConfig"],M);const N=f(t,["seed"]);N!=null&&d(e,["seed"],N);const O=f(t,["speechConfig"]);O!=null&&d(e,["speechConfig"],O);const P=f(t,["stopSequences"]);P!=null&&d(e,["stopSequences"],P);const G=f(t,["temperature"]);G!=null&&d(e,["temperature"],G);const Q=f(t,["thinkingConfig"]);Q!=null&&d(e,["thinkingConfig"],Q);const U=f(t,["topK"]);U!=null&&d(e,["topK"],U);const F=f(t,["topP"]);if(F!=null&&d(e,["topP"],F),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function XR(t,e){const i={},o=f(e,["model"]);return o!=null&&d(i,["_url","name"],Le(t,o)),i}function QR(t,e){const i={},o=f(e,["model"]);return o!=null&&d(i,["_url","name"],Le(t,o)),i}function $R(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function ZR(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function WR(t){const e={},i=f(t,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const o=f(t,["imageSize"]);if(o!=null&&d(e,["imageSize"],o),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function jR(t){const e={},i=f(t,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const o=f(t,["imageSize"]);o!=null&&d(e,["imageSize"],o);const a=f(t,["outputMimeType"]);a!=null&&d(e,["imageOutputOptions","mimeType"],a);const s=f(t,["outputCompressionQuality"]);return s!=null&&d(e,["imageOutputOptions","compressionQuality"],s),e}function eM(t){const e={},i=f(t,["bytesBase64Encoded"]);i!=null&&d(e,["imageBytes"],xi(i));const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function uv(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const o=f(t,["bytesBase64Encoded"]);o!=null&&d(e,["imageBytes"],xi(o));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function $a(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=f(t,["imageBytes"]);i!=null&&d(e,["bytesBase64Encoded"],xi(i));const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function yn(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const o=f(t,["imageBytes"]);o!=null&&d(e,["bytesBase64Encoded"],xi(o));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function tM(t,e,i){const o={},a=f(e,["pageSize"]);i!==void 0&&a!=null&&d(i,["_query","pageSize"],a);const s=f(e,["pageToken"]);i!==void 0&&s!=null&&d(i,["_query","pageToken"],s);const c=f(e,["filter"]);i!==void 0&&c!=null&&d(i,["_query","filter"],c);const p=f(e,["queryBase"]);return i!==void 0&&p!=null&&d(i,["_url","models_url"],nv(t,p)),o}function nM(t,e,i){const o={},a=f(e,["pageSize"]);i!==void 0&&a!=null&&d(i,["_query","pageSize"],a);const s=f(e,["pageToken"]);i!==void 0&&s!=null&&d(i,["_query","pageToken"],s);const c=f(e,["filter"]);i!==void 0&&c!=null&&d(i,["_query","filter"],c);const p=f(e,["queryBase"]);return i!==void 0&&p!=null&&d(i,["_url","models_url"],nv(t,p)),o}function iM(t,e){const i={},o=f(e,["config"]);return o!=null&&tM(t,o,i),i}function lM(t,e){const i={},o=f(e,["config"]);return o!=null&&nM(t,o,i),i}function oM(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=f(t,["_self"]);if(a!=null){let s=iv(a);Array.isArray(s)&&(s=s.map(c=>jc(c))),d(e,["models"],s)}return e}function rM(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=f(t,["_self"]);if(a!=null){let s=iv(a);Array.isArray(s)&&(s=s.map(c=>ef(c))),d(e,["models"],s)}return e}function aM(t){const e={},i=f(t,["maskMode"]);i!=null&&d(e,["maskMode"],i);const o=f(t,["segmentationClasses"]);o!=null&&d(e,["maskClasses"],o);const a=f(t,["maskDilation"]);return a!=null&&d(e,["dilation"],a),e}function jc(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const o=f(t,["displayName"]);o!=null&&d(e,["displayName"],o);const a=f(t,["description"]);a!=null&&d(e,["description"],a);const s=f(t,["version"]);s!=null&&d(e,["version"],s);const c=f(t,["_self"]);c!=null&&d(e,["tunedModelInfo"],CM(c));const p=f(t,["inputTokenLimit"]);p!=null&&d(e,["inputTokenLimit"],p);const g=f(t,["outputTokenLimit"]);g!=null&&d(e,["outputTokenLimit"],g);const h=f(t,["supportedGenerationMethods"]);h!=null&&d(e,["supportedActions"],h);const y=f(t,["temperature"]);y!=null&&d(e,["temperature"],y);const S=f(t,["maxTemperature"]);S!=null&&d(e,["maxTemperature"],S);const E=f(t,["topP"]);E!=null&&d(e,["topP"],E);const _=f(t,["topK"]);_!=null&&d(e,["topK"],_);const A=f(t,["thinking"]);return A!=null&&d(e,["thinking"],A),e}function ef(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const o=f(t,["displayName"]);o!=null&&d(e,["displayName"],o);const a=f(t,["description"]);a!=null&&d(e,["description"],a);const s=f(t,["versionId"]);s!=null&&d(e,["version"],s);const c=f(t,["deployedModels"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(E=>ER(E))),d(e,["endpoints"],S)}const p=f(t,["labels"]);p!=null&&d(e,["labels"],p);const g=f(t,["_self"]);g!=null&&d(e,["tunedModelInfo"],xM(g));const h=f(t,["defaultCheckpointId"]);h!=null&&d(e,["defaultCheckpointId"],h);const y=f(t,["checkpoints"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>E)),d(e,["checkpoints"],S)}return e}function sM(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=f(t,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const a=f(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const s=f(t,["fileData"]);s!=null&&d(e,["fileData"],TR(s));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],_R(c));const p=f(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],KN(g));const h=f(t,["text"]);h!=null&&d(e,["text"],h);const y=f(t,["thought"]);y!=null&&d(e,["thought"],y);const S=f(t,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const E=f(t,["videoMetadata"]);return E!=null&&d(e,["videoMetadata"],E),e}function uM(t){const e={},i=f(t,["productImage"]);return i!=null&&d(e,["image"],yn(i)),e}function cM(t,e){const i={},o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const a=f(t,["baseSteps"]);e!==void 0&&a!=null&&d(e,["parameters","baseSteps"],a);const s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const c=f(t,["seed"]);e!==void 0&&c!=null&&d(e,["parameters","seed"],c);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const g=f(t,["personGeneration"]);e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g);const h=f(t,["addWatermark"]);e!==void 0&&h!=null&&d(e,["parameters","addWatermark"],h);const y=f(t,["outputMimeType"]);e!==void 0&&y!=null&&d(e,["parameters","outputOptions","mimeType"],y);const S=f(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","compressionQuality"],S);const E=f(t,["enhancePrompt"]);e!==void 0&&E!=null&&d(e,["parameters","enhancePrompt"],E);const _=f(t,["labels"]);return e!==void 0&&_!=null&&d(e,["labels"],_),i}function fM(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["source"]);a!=null&&pM(a,i);const s=f(e,["config"]);return s!=null&&cM(s,i),i}function dM(t){const e={},i=f(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Qa(a))),d(e,["generatedImages"],o)}return e}function pM(t,e){const i={},o=f(t,["prompt"]);e!==void 0&&o!=null&&d(e,["instances[0]","prompt"],o);const a=f(t,["personImage"]);e!==void 0&&a!=null&&d(e,["instances[0]","personImage","image"],yn(a));const s=f(t,["productImages"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(p=>uM(p))),d(e,["instances[0]","productImages"],c)}return i}function hM(t){const e={},i=f(t,["referenceImage"]);i!=null&&d(e,["referenceImage"],yn(i));const o=f(t,["referenceId"]);o!=null&&d(e,["referenceId"],o);const a=f(t,["referenceType"]);a!=null&&d(e,["referenceType"],a);const s=f(t,["maskImageConfig"]);s!=null&&d(e,["maskImageConfig"],aM(s));const c=f(t,["controlImageConfig"]);c!=null&&d(e,["controlImageConfig"],eR(c));const p=f(t,["styleImageConfig"]);p!=null&&d(e,["styleImageConfig"],p);const g=f(t,["subjectImageConfig"]);return g!=null&&d(e,["subjectImageConfig"],g),e}function cv(t){const e={},i=f(t,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const o=f(t,["safetyAttributes","scores"]);o!=null&&d(e,["scores"],o);const a=f(t,["contentType"]);return a!=null&&d(e,["contentType"],a),e}function fv(t){const e={},i=f(t,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const o=f(t,["safetyAttributes","scores"]);o!=null&&d(e,["scores"],o);const a=f(t,["contentType"]);return a!=null&&d(e,["contentType"],a),e}function mM(t){const e={},i=f(t,["category"]);if(i!=null&&d(e,["category"],i),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=f(t,["threshold"]);return o!=null&&d(e,["threshold"],o),e}function gM(t){const e={},i=f(t,["image"]);return i!=null&&d(e,["image"],yn(i)),e}function yM(t,e){const i={},o=f(t,["mode"]);e!==void 0&&o!=null&&d(e,["parameters","mode"],o);const a=f(t,["maxPredictions"]);e!==void 0&&a!=null&&d(e,["parameters","maxPredictions"],a);const s=f(t,["confidenceThreshold"]);e!==void 0&&s!=null&&d(e,["parameters","confidenceThreshold"],s);const c=f(t,["maskDilation"]);e!==void 0&&c!=null&&d(e,["parameters","maskDilation"],c);const p=f(t,["binaryColorThreshold"]);e!==void 0&&p!=null&&d(e,["parameters","binaryColorThreshold"],p);const g=f(t,["labels"]);return e!==void 0&&g!=null&&d(e,["labels"],g),i}function vM(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["source"]);a!=null&&EM(a,i);const s=f(e,["config"]);return s!=null&&yM(s,i),i}function SM(t){const e={},i=f(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>FR(a))),d(e,["generatedMasks"],o)}return e}function EM(t,e){const i={},o=f(t,["prompt"]);e!==void 0&&o!=null&&d(e,["instances[0]","prompt"],o);const a=f(t,["image"]);e!==void 0&&a!=null&&d(e,["instances[0]","image"],yn(a));const s=f(t,["scribbleImage"]);return e!==void 0&&s!=null&&d(e,["instances[0]","scribble"],gM(s)),i}function TM(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],CR(i));const o=f(t,["retrievalConfig"]);return o!=null&&d(e,["retrievalConfig"],o),e}function _M(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(S=>S)),d(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const a=f(t,["computerUse"]);a!=null&&d(e,["computerUse"],a);const s=f(t,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],$R(p));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],ZR(g));const h=f(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function dv(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(E=>xR(E))),d(e,["functionDeclarations"],S)}const o=f(t,["retrieval"]);o!=null&&d(e,["retrieval"],o);const a=f(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const s=f(t,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const p=f(t,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const h=f(t,["googleSearch"]);h!=null&&d(e,["googleSearch"],h);const y=f(t,["urlContext"]);return y!=null&&d(e,["urlContext"],y),e}function CM(t){const e={},i=f(t,["baseModel"]);i!=null&&d(e,["baseModel"],i);const o=f(t,["createTime"]);o!=null&&d(e,["createTime"],o);const a=f(t,["updateTime"]);return a!=null&&d(e,["updateTime"],a),e}function xM(t){const e={},i=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&d(e,["baseModel"],i);const o=f(t,["createTime"]);o!=null&&d(e,["createTime"],o);const a=f(t,["updateTime"]);return a!=null&&d(e,["updateTime"],a),e}function AM(t,e){const i={},o=f(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const a=f(t,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const s=f(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&d(e,["defaultCheckpointId"],s),i}function wM(t,e){const i={},o=f(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const a=f(t,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const s=f(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&d(e,["defaultCheckpointId"],s),i}function bM(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","name"],Le(t,o));const a=f(e,["config"]);return a!=null&&AM(a,i),i}function NM(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["config"]);return a!=null&&wM(a,i),i}function RM(t,e){const i={},o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&d(e,["parameters","safetySetting"],a);const s=f(t,["personGeneration"]);e!==void 0&&s!=null&&d(e,["parameters","personGeneration"],s);const c=f(t,["includeRaiReason"]);e!==void 0&&c!=null&&d(e,["parameters","includeRaiReason"],c);const p=f(t,["outputMimeType"]);e!==void 0&&p!=null&&d(e,["parameters","outputOptions","mimeType"],p);const g=f(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","compressionQuality"],g);const h=f(t,["enhanceInputImage"]);e!==void 0&&h!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],h);const y=f(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const S=f(t,["labels"]);e!==void 0&&S!=null&&d(e,["labels"],S);const E=f(t,["numberOfImages"]);e!==void 0&&E!=null&&d(e,["parameters","sampleCount"],E);const _=f(t,["mode"]);return e!==void 0&&_!=null&&d(e,["parameters","mode"],_),i}function MM(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["_url","model"],Le(t,o));const a=f(e,["image"]);a!=null&&d(i,["instances[0]","image"],yn(a));const s=f(e,["upscaleFactor"]);s!=null&&d(i,["parameters","upscaleConfig","upscaleFactor"],s);const c=f(e,["config"]);return c!=null&&RM(c,i),i}function IM(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Qa(s))),d(e,["generatedImages"],a)}return e}function DM(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["uri"],i);const o=f(t,["encodedVideo"]);o!=null&&d(e,["videoBytes"],xi(o));const a=f(t,["encoding"]);return a!=null&&d(e,["mimeType"],a),e}function kM(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["uri"],i);const o=f(t,["bytesBase64Encoded"]);o!=null&&d(e,["videoBytes"],xi(o));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function UM(t){const e={},i=f(t,["image"]);i!=null&&d(e,["_self"],yn(i));const o=f(t,["maskMode"]);return o!=null&&d(e,["maskMode"],o),e}function LM(t){const e={},i=f(t,["image"]);i!=null&&d(e,["image"],$a(i));const o=f(t,["referenceType"]);return o!=null&&d(e,["referenceType"],o),e}function PM(t){const e={},i=f(t,["image"]);i!=null&&d(e,["image"],yn(i));const o=f(t,["referenceType"]);return o!=null&&d(e,["referenceType"],o),e}function pv(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["uri"],i);const o=f(t,["videoBytes"]);o!=null&&d(e,["encodedVideo"],xi(o));const a=f(t,["mimeType"]);return a!=null&&d(e,["encoding"],a),e}function hv(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["gcsUri"],i);const o=f(t,["videoBytes"]);o!=null&&d(e,["bytesBase64Encoded"],xi(o));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zM(t,e){const i={},o=f(t,["displayName"]);return e!==void 0&&o!=null&&d(e,["displayName"],o),i}function HM(t){const e={},i=f(t,["config"]);return i!=null&&zM(i,e),e}function qM(t,e){const i={},o=f(t,["force"]);return e!==void 0&&o!=null&&d(e,["_query","force"],o),i}function GM(t){const e={},i=f(t,["name"]);i!=null&&d(e,["_url","name"],i);const o=f(t,["config"]);return o!=null&&qM(o,e),e}function VM(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","name"],i),e}function BM(t,e){const i={},o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>c)),d(e,["customMetadata"],s)}const a=f(t,["chunkingConfig"]);return e!==void 0&&a!=null&&d(e,["chunkingConfig"],a),i}function OM(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const o=f(t,["metadata"]);o!=null&&d(e,["metadata"],o);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const s=f(t,["error"]);s!=null&&d(e,["error"],s);const c=f(t,["response"]);return c!=null&&d(e,["response"],YM(c)),e}function FM(t){const e={},i=f(t,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const o=f(t,["fileName"]);o!=null&&d(e,["fileName"],o);const a=f(t,["config"]);return a!=null&&BM(a,e),e}function YM(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["parent"]);o!=null&&d(e,["parent"],o);const a=f(t,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function JM(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=f(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function KM(t){const e={},i=f(t,["config"]);return i!=null&&JM(i,e),e}function XM(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=f(t,["fileSearchStores"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(e,["fileSearchStores"],s)}return e}function mv(t,e){const i={},o=f(t,["mimeType"]);e!==void 0&&o!=null&&d(e,["mimeType"],o);const a=f(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const s=f(t,["customMetadata"]);if(e!==void 0&&s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>g)),d(e,["customMetadata"],p)}const c=f(t,["chunkingConfig"]);return e!==void 0&&c!=null&&d(e,["chunkingConfig"],c),i}function QM(t){const e={},i=f(t,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const o=f(t,["config"]);return o!=null&&mv(o,e),e}function $M(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZM="Content-Type",WM="X-Server-Timeout",jM="User-Agent",tf="x-goog-api-client",eI="1.34.0",tI=`google-genai-sdk/${eI}`,nI="v1beta1",iI="v1beta";class lI{constructor(e){var i,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:nI,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:iI,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,o){const a=[this.getRequestUrlInternal(i)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);if(e.queryParams)for(const[c,p]of Object.entries(e.queryParams))a.searchParams.append(c,String(p));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,i,a.toString(),e.abortSignal),this.unaryApiCall(a,s,e.httpMethod)}patchHttpOptions(e,i){const o=JSON.parse(JSON.stringify(e));for(const[a,s]of Object.entries(i))typeof s=="object"?o[a]=Object.assign(Object.assign({},o[a]),s):s!==void 0&&(o[a]=s);return o}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,i,a.toString(),e.abortSignal),this.streamApiCall(a,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,o,a){if(i&&i.timeout||a){const s=new AbortController,c=s.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const p=setTimeout(()=>s.abort(),i.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{s.abort()}),e.signal=c}return i&&i.extraBody!==null&&oI(e,i.extraBody),e.headers=await this.getHeadersInternal(i,o),e}async unaryApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await Xy(a),new $c(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await Xy(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return mn(this,arguments,function*(){var o;const a=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),s=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";const p="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:y}=yield Se(a.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=s.decode(y,{stream:!0});try{const A=JSON.parse(S);if("error"in A){const I=JSON.parse(JSON.stringify(A.error)),M=I.status,N=I.code,O=`got status: ${M}. ${JSON.stringify(A)}`;if(N>=400&&N<600)throw new Ka({message:O,status:N})}}catch(A){if(A.name==="ApiError")throw A}c+=S;let E=-1,_=0;for(;;){E=-1,_=0;for(const M of g){const N=c.indexOf(M);N!==-1&&(E===-1||N<E)&&(E=N,_=M.length)}if(E===-1)break;const A=c.substring(0,E);c=c.substring(E+_);const I=A.trim();if(I.startsWith(p)){const M=I.substring(p.length).trim();try{const N=new Response(M,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Se(new $c(N))}catch(N){throw new Error(`exception parsing stream chunk ${M}. ${N}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},i=tI+" "+this.clientOptions.userAgentExtra;return e[jM]=i,e[tf]=i,e[ZM]="application/json",e}async getHeadersInternal(e,i){const o=new Headers;if(e&&e.headers){for(const[a,s]of Object.entries(e.headers))o.append(a,s);e.timeout&&e.timeout>0&&o.append(WM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,i),o}getFileName(e){var i;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(i=o.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),o}async uploadFile(e,i){var o;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const s=this.clientOptions.uploader,c=await s.stat(e);a.sizeBytes=String(c.size);const p=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:c.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const g={file:a},h=this.getFileName(e),y=ae("upload/v1beta/files",g._url),S=await this.fetchUploadUrl(y,a.sizeBytes,a.mimeType,h,g,i==null?void 0:i.httpOptions);return s.upload(e,S,this)}async uploadFileToFileSearchStore(e,i,o){var a;const s=this.clientOptions.uploader,c=await s.stat(i),p=String(c.size),g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(i),S={};o!=null&&mv(o,S);const E=await this.fetchUploadUrl(h,p,g,y,S,o==null?void 0:o.httpOptions);return s.uploadToFileSearchStore(i,E,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,o,a,s,c){var p;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${o}`},a?{"X-Goog-Upload-File-Name":a}:{})};const h=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:g});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(p=h==null?void 0:h.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Xy(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(o);throw i>=400&&i<600?new Ka({message:a,status:i}):new Error(a)}}function oI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))i=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(s,c){const p=Object.assign({},s);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const h=c[g],y=p[g];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?p[g]=o(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),p[g]=h)}return p}const a=o(i,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rI="mcp_used/unknown";let aI=!1;function gv(t){for(const e of t)if(sI(e)||typeof e=="object"&&"inputSchema"in e)return!0;return aI}function yv(t){var e;const i=(e=t[tf])!==null&&e!==void 0?e:"";t[tf]=(i+` ${rI}`).trimStart()}function sI(t){return t!==null&&typeof t=="object"&&t instanceof Df}function uI(t){return mn(this,arguments,function*(i,o=100){let a,s=0;for(;s<o;){const c=yield Se(i.listTools({cursor:a}));for(const p of c.tools)yield yield Se(p),s++;if(!c.nextCursor)break;a=c.nextCursor}})}class Df{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Df(e,i)}async initialize(){var e,i,o,a;if(this.mcpTools.length>0)return;const s={},c=[];for(const y of this.mcpClients)try{for(var p=!0,g=(i=void 0,gn(uI(y))),h;h=await g.next(),e=h.done,!e;p=!0){a=h.value,p=!1;const S=a;c.push(S);const E=S.name;if(s[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);s[E]=y}}catch(S){i={error:S}}finally{try{!p&&!e&&(o=g.return)&&await o.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),Vw(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[o.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const c=await a.callTool({name:o.name,arguments:o.args},void 0,s);i.push({functionResponse:{name:o.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cI(t,e,i){const o=new kw;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(o,a),e(o)}class fI{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o}async connect(e){var i,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),c=hI(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${p}`;let h=()=>{};const y=new Promise(P=>{h=P}),S=e.callbacks,E=function(){h({})},_=this.apiClient,A={onopen:E,onmessage:P=>{cI(_,S.onmessage,P)},onerror:(i=S==null?void 0:S.onerror)!==null&&i!==void 0?i:function(P){},onclose:(o=S==null?void 0:S.onclose)!==null&&o!==void 0?o:function(P){}},I=this.webSocketFactory.create(g,pI(c),A);I.connect(),await y;const O={setup:{model:Le(this.apiClient,e.model)}};return I.send(JSON.stringify(O)),new dI(I,this.apiClient)}}class dI{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=HN(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=zN(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Hl.PLAY)}pause(){this.sendPlaybackControl(Hl.PAUSE)}stop(){this.sendPlaybackControl(Hl.STOP)}resetContext(){this.sendPlaybackControl(Hl.RESET_CONTEXT)}close(){this.conn.close()}}function pI(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function hI(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function gI(t,e,i){const o=new Dw;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const s=JSON.parse(a);if(t.isVertexAI()){const c=VN(s);Object.assign(o,c)}else Object.assign(o,s);e(o)}class yI{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o,this.music=new fI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,o,a,s,c,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&gv(e.config.tools)&&yv(S);const E=TI(S);if(this.apiClient.isVertexAI())y=`${g}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,y);else{const Z=this.apiClient.getApiKey();let le="BidiGenerateContent",ee="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),le="BidiGenerateContentConstrained",ee="access_token"),y=`${g}/ws/google.ai.generativelanguage.${h}.GenerativeService.${le}?${ee}=${Z}`}let _=()=>{};const A=new Promise(Z=>{_=Z}),I=e.callbacks,M=function(){var Z;(Z=I==null?void 0:I.onopen)===null||Z===void 0||Z.call(I),_({})},N=this.apiClient,O={onopen:M,onmessage:Z=>{gI(N,I.onmessage,Z)},onerror:(i=I==null?void 0:I.onerror)!==null&&i!==void 0?i:function(Z){},onclose:(o=I==null?void 0:I.onclose)!==null&&o!==void 0?o:function(Z){}},P=this.webSocketFactory.create(y,EI(E),O);P.connect(),await A;let G=Le(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&G.startsWith("publishers/")){const Z=this.apiClient.getProject(),le=this.apiClient.getLocation();G=`projects/${Z}/locations/${le}/`+G}let Q={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[za.AUDIO]}:e.config.responseModalities=[za.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(p=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&p!==void 0?p:[],F=[];for(const Z of U)if(this.isCallableTool(Z)){const le=Z;F.push(await le.tool())}else F.push(Z);F.length>0&&(e.config.tools=F);const oe={model:G,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Q=PN(this.apiClient,oe):Q=LN(this.apiClient,oe),delete Q.config,P.send(JSON.stringify(Q)),new SI(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const vI={turnComplete:!0};class SI{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let o=[];try{o=un(i.turns),e.isVertexAI()||(o=o.map(a=>Xa(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:o,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let o=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?o=i.functionResponses:o=[i.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const s of o){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(mI)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},vI),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:GN(e)}:i={realtimeInput:qN(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function EI(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function TI(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qy=10;function $y(t){var e,i,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(Ol(c)){a=!0;break}if(!a)return!0;const s=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Ol(t){return"callTool"in t&&typeof t.callTool=="function"}function _I(t){var e,i,o;return(o=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>Ol(a)))!==null&&o!==void 0?o:!1}function Zy(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,a)=>{if(Ol(o))return;const s=o;s.functionDeclarations&&s.functionDeclarations.length>0&&i.push(a)}),i}function Wy(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CI extends Xn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var o,a,s,c,p;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!_I(i)||$y(i.config))return await this.generateContentInternal(g);const h=Zy(i);if(h.length>0){const I=h.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let y,S;const E=un(g.contents),_=(s=(a=(o=g.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&s!==void 0?s:Qy;let A=0;for(;A<_&&(y=await this.generateContentInternal(g),!(!y.functionCalls||y.functionCalls.length===0));){const I=y.candidates[0].content,M=[];for(const N of(p=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&p!==void 0?p:[])if(Ol(N)){const P=await N.callTool(y.functionCalls);M.push(...P)}A++,S={role:"user",parts:M},g.contents=un(g.contents),g.contents.push(I),g.contents.push(S),Wy(g.config)&&(E.push(I),E.push(S))}return Wy(g.config)&&(y.automaticFunctionCallingHistory=E),y},this.generateContentStream=async i=>{var o,a,s,c,p;if(this.maybeMoveToResponseJsonSchem(i),$y(i.config)){const S=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(S)}const g=Zy(i);if(g.length>0){const S=g.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(s=(a=(o=i==null?void 0:i.config)===null||o===void 0?void 0:o.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,y=(p=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(h&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(o=>{var a;let s;const c=[];if(o!=null&&o.generatedImages)for(const g of o.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?s=g==null?void 0:g.safetyAttributes:c.push(g);let p;return s?p={generatedImages:c,positivePromptSafetyAttributes:s,sdkHttpResponse:o.sdkHttpResponse}:p={generatedImages:c,sdkHttpResponse:o.sdkHttpResponse},p}),this.list=async i=>{var o;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((o=c.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Ji(Kn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(c),c)},this.editImage=async i=>{const o={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(o.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async i=>{let o={numberOfImages:1,mode:"upscale"};i.config&&(o=Object.assign(Object.assign({},o),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:o};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var o,a,s,c,p,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=i.video)===null||o===void 0)&&o.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(s=i.source)===null||s===void 0?void 0:s.video)===null||c===void 0)&&c.uri&&(!((g=(p=i.source)===null||p===void 0?void 0:p.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,o,a;const s=(i=e.config)===null||i===void 0?void 0:i.tools;if(!s)return e;const c=await Promise.all(s.map(async g=>Ol(g)?await g.tool():g)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(p.config.tools=c,e.config&&e.config.tools&&gv(e.config.tools)){const g=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let h=Object.assign({},g);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),yv(h),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return p}async initAfcToolsMap(e){var i,o,a;const s=new Map;for(const c of(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(Ol(c)){const p=c,g=await p.tool();for(const h of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!h.name)throw new Error("Function declaration name is required.");if(s.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);s.set(h.name,p)}}return s}async processAfcStream(e){var i,o,a;const s=(a=(o=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:Qy;let c=!1,p=0;const g=await this.initAfcToolsMap(e);return(function(h,y,S){return mn(this,arguments,function*(){for(var E,_,A,I,M,N;p<s;){c&&(p++,c=!1);const Q=yield Se(h.processParamsMaybeAddMcpUsage(S)),U=yield Se(h.generateContentStreamInternal(Q)),F=[],oe=[];try{for(var O=!0,P=(_=void 0,gn(U)),G;G=yield Se(P.next()),E=G.done,!E;O=!0){I=G.value,O=!1;const Z=I;if(yield yield Se(Z),Z.candidates&&(!((M=Z.candidates[0])===null||M===void 0)&&M.content)){oe.push(Z.candidates[0].content);for(const le of(N=Z.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(p<s&&le.functionCall){if(!le.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(le.functionCall.name)){const ee=yield Se(y.get(le.functionCall.name).callTool([le.functionCall]));F.push(...ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${le.functionCall.name}`)}}}}catch(Z){_={error:Z}}finally{try{!O&&!E&&(A=P.return)&&(yield Se(A.call(P)))}finally{if(_)throw _.error}}if(F.length>0){c=!0;const Z=new Qo;Z.candidates=[{content:{role:"user",parts:F}}],yield yield Se(Z);const le=[];le.push(...oe),le.push({role:"user",parts:F});const ee=un(S.contents).concat(le);S.contents=ee}else break}})})(this,g,e)}async generateContentInternal(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=Yy(this.apiClient,e);return p=ae("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=Ky(y),E=new Qo;return Object.assign(E,S),E})}else{const h=Fy(this.apiClient,e);return p=ae("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=Jy(y),E=new Qo;return Object.assign(E,S),E})}}async generateContentStreamInternal(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=Yy(this.apiClient,e);return p=ae("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(S){return mn(this,arguments,function*(){var E,_,A,I;try{for(var M=!0,N=gn(S),O;O=yield Se(N.next()),E=O.done,!E;M=!0){I=O.value,M=!1;const P=I,G=Ky(yield Se(P.json()));G.sdkHttpResponse={headers:P.headers};const Q=new Qo;Object.assign(Q,G),yield yield Se(Q)}}catch(P){_={error:P}}finally{try{!M&&!E&&(A=N.return)&&(yield Se(A.call(N)))}finally{if(_)throw _.error}}})})}else{const h=Fy(this.apiClient,e);return p=ae("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(S){return mn(this,arguments,function*(){var E,_,A,I;try{for(var M=!0,N=gn(S),O;O=yield Se(N.next()),E=O.done,!E;M=!0){I=O.value,M=!1;const P=I,G=Jy(yield Se(P.json()));G.sdkHttpResponse={headers:P.headers};const Q=new Qo;Object.assign(Q,G),yield yield Se(Q)}}catch(P){_={error:P}}finally{try{!M&&!E&&(A=N.return)&&(yield Se(A.call(N)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=yR(this.apiClient,e);return p=ae("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=SR(y),E=new by;return Object.assign(E,S),E})}else{const h=gR(this.apiClient,e);return p=ae("{model}:batchEmbedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=vR(y),E=new by;return Object.assign(E,S),E})}}async generateImagesInternal(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=MR(this.apiClient,e);return p=ae("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=DR(y),E=new Ny;return Object.assign(E,S),E})}else{const h=RR(this.apiClient,e);return p=ae("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=IR(y),E=new Ny;return Object.assign(E,S),E})}}async editImageInternal(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=dR(this.apiClient,e);return s=ae("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=pR(g),y=new Tw;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=MM(this.apiClient,e);return s=ae("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=IM(g),y=new _w;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=fM(this.apiClient,e);return s=ae("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=dM(g),y=new Cw;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=vM(this.apiClient,e);return s=ae("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=SM(g),y=new xw;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=QR(this.apiClient,e);return p=ae("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>ef(y))}else{const h=XR(this.apiClient,e);return p=ae("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>jc(y))}}async listInternal(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=lM(this.apiClient,e);return p=ae("{models_url}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=rM(y),E=new Ry;return Object.assign(E,S),E})}else{const h=iM(this.apiClient,e);return p=ae("{models_url}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=oM(y),E=new Ry;return Object.assign(E,S),E})}}async update(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=NM(this.apiClient,e);return p=ae("{model}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>ef(y))}else{const h=bM(this.apiClient,e);return p=ae("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>jc(y))}}async delete(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=sR(this.apiClient,e);return p=ae("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=cR(y),E=new My;return Object.assign(E,S),E})}else{const h=aR(this.apiClient,e);return p=ae("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=uR(y),E=new My;return Object.assign(E,S),E})}}async countTokens(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=lR(this.apiClient,e);return p=ae("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=rR(y),E=new Iy;return Object.assign(E,S),E})}else{const h=iR(this.apiClient,e);return p=ae("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=oR(y),E=new Iy;return Object.assign(E,S),E})}}async computeTokens(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=$N(this.apiClient,e);return s=ae("{model}:computeTokens",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=ZN(g),y=new Aw;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=HR(this.apiClient,e);return p=ae("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c.then(y=>{const S=PR(y),E=new Ha;return Object.assign(E,S),E})}else{const h=zR(this.apiClient,e);return p=ae("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const S=LR(y),E=new Ha;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xI extends Xn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let s;o&&"httpOptions"in o&&(s=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:s}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let s;o&&"httpOptions"in o&&(s=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:s}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=mw(e);return p=ae("{operationName}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),c}else{const h=hw(e);return p=ae("{operationName}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c}}async fetchPredictVideosOperationInternal(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=aw(e);return s=ae("{resourceName}:fetchPredictOperation",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AI(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function wI(t){const e={},i=f(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>LI(s))),d(e,["parts"],a)}const o=f(t,["role"]);return o!=null&&d(e,["role"],o),e}function bI(t,e,i){const o={},a=f(e,["expireTime"]);i!==void 0&&a!=null&&d(i,["expireTime"],a);const s=f(e,["newSessionExpireTime"]);i!==void 0&&s!=null&&d(i,["newSessionExpireTime"],s);const c=f(e,["uses"]);i!==void 0&&c!=null&&d(i,["uses"],c);const p=f(e,["liveConnectConstraints"]);i!==void 0&&p!=null&&d(i,["bidiGenerateContentSetup"],UI(t,p));const g=f(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&d(i,["fieldMask"],g),o}function NI(t,e){const i={},o=f(e,["config"]);return o!=null&&d(i,["config"],bI(t,o,i)),i}function RI(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=f(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function MI(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const o=f(t,["args"]);o!=null&&d(e,["args"],o);const a=f(t,["name"]);if(a!=null&&d(e,["name"],a),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function II(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function DI(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function kI(t,e){const i={},o=f(t,["generationConfig"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig"],o);const a=f(t,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const s=f(t,["temperature"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","temperature"],s);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const p=f(t,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const h=f(t,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const y=f(t,["seed"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","seed"],y);const S=f(t,["speechConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","speechConfig"],If(S));const E=f(t,["thinkingConfig"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","thinkingConfig"],E);const _=f(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],_);const A=f(t,["systemInstruction"]);e!==void 0&&A!=null&&d(e,["setup","systemInstruction"],wI(Tt(A)));const I=f(t,["tools"]);if(e!==void 0&&I!=null){let U=Kl(I);Array.isArray(U)&&(U=U.map(F=>zI(Jl(F)))),d(e,["setup","tools"],U)}const M=f(t,["sessionResumption"]);e!==void 0&&M!=null&&d(e,["setup","sessionResumption"],PI(M));const N=f(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&d(e,["setup","inputAudioTranscription"],N);const O=f(t,["outputAudioTranscription"]);e!==void 0&&O!=null&&d(e,["setup","outputAudioTranscription"],O);const P=f(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],P);const G=f(t,["contextWindowCompression"]);e!==void 0&&G!=null&&d(e,["setup","contextWindowCompression"],G);const Q=f(t,["proactivity"]);if(e!==void 0&&Q!=null&&d(e,["setup","proactivity"],Q),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function UI(t,e){const i={},o=f(e,["model"]);o!=null&&d(i,["setup","model"],Le(t,o));const a=f(e,["config"]);return a!=null&&d(i,["config"],kI(a,i)),i}function LI(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=f(t,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const a=f(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const s=f(t,["fileData"]);s!=null&&d(e,["fileData"],RI(s));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],MI(c));const p=f(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],AI(g));const h=f(t,["text"]);h!=null&&d(e,["text"],h);const y=f(t,["thought"]);y!=null&&d(e,["thought"],y);const S=f(t,["thoughtSignature"]);S!=null&&d(e,["thoughtSignature"],S);const E=f(t,["videoMetadata"]);return E!=null&&d(e,["videoMetadata"],E),e}function PI(t){const e={},i=f(t,["handle"]);if(i!=null&&d(e,["handle"],i),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zI(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(S=>S)),d(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const a=f(t,["computerUse"]);a!=null&&d(e,["computerUse"],a);const s=f(t,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],II(p));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],DI(g));const h=f(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HI(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(s=>`${i}.${s}`);e.push(...a)}else e.push(i)}return e.join(",")}function qI(t,e){let i=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const s=o.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,i=s):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(i){const s=HI(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(h=>c.includes(h)?`generationConfig.${h}`:h));const g=[];s&&g.push(s),p.length>0&&g.push(...p),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class GI extends Xn{constructor(e){super(),this.apiClient=e}async create(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=NI(this.apiClient,e);s=ae("auth_tokens",p._url),c=p._query,delete p.config,delete p._url,delete p._query;const g=qI(p,e.config);return a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VI(t,e){const i={},o=f(t,["force"]);return e!==void 0&&o!=null&&d(e,["_query","force"],o),i}function BI(t){const e={},i=f(t,["name"]);i!=null&&d(e,["_url","name"],i);const o=f(t,["config"]);return o!=null&&VI(o,e),e}function OI(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","name"],i),e}function FI(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=f(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function YI(t){const e={},i=f(t,["parent"]);i!=null&&d(e,["_url","parent"],i);const o=f(t,["config"]);return o!=null&&FI(o,e),e}function JI(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=f(t,["documents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),d(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KI extends Xn{constructor(e){super(),this.apiClient=e,this.list=async i=>new Ji(Kn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:i.parent,config:o.config}),await this.listInternal(i),i)}async get(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=OI(e);return s=ae("{name}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,o;let a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=BI(e);a=ae("{name}",c._url),s=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=YI(e);return s=ae("{parent}/documents",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=JI(g),y=new ww;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XI extends Xn{constructor(e,i=new KI(e)){super(),this.apiClient=e,this.documents=i,this.list=async(o={})=>new Ji(Kn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=HM(e);return s=ae("fileSearchStores",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=VM(e);return s=ae("{name}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,o;let a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=GM(e);a=ae("{name}",c._url),s=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=KM(e);return s=ae("fileSearchStores",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=XM(g),y=new bw;return Object.assign(y,h),y})}}async uploadToFileSearchStoreInternal(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=QM(e);return s=ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=$M(g),y=new Nw;return Object.assign(y,h),y})}}async importFile(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=FM(e);return s=ae("{file_search_store_name}:importFile",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),a.then(g=>{const h=OM(g),y=new wf;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let vv=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return vv=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^i()&15>>+o/4).toString(16))};const QI=()=>vv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nf(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const lf=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cn extends Error{}class bt extends cn{constructor(e,i,o,a){super(`${bt.makeMessage(e,i,o)}`),this.status=e,this.headers=a,this.error=i}static makeMessage(e,i,o){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):o;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,i,o,a){if(!e||!a)return new Za({message:o,cause:lf(i)});const s=i;return e===400?new Ev(e,s,o,a):e===401?new Tv(e,s,o,a):e===403?new _v(e,s,o,a):e===404?new Cv(e,s,o,a):e===409?new xv(e,s,o,a):e===422?new Av(e,s,o,a):e===429?new wv(e,s,o,a):e>=500?new bv(e,s,o,a):new bt(e,s,o,a)}}class of extends bt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Za extends bt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class Sv extends Za{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Ev extends bt{}class Tv extends bt{}class _v extends bt{}class Cv extends bt{}class xv extends bt{}class Av extends bt{}class wv extends bt{}class bv extends bt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $I=/^[a-z][a-z0-9+.-]*:/i,ZI=t=>$I.test(t);let rf=t=>(rf=Array.isArray,rf(t));const WI=rf;let jI=WI;const jy=jI;function eD(t){if(!t)return!0;for(const e in t)return!1;return!0}function tD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const nD=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new cn(`${t} must be an integer`);if(e<0)throw new cn(`${t} must be a positive integer`);return e},iD=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lD=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oD(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const rD=()=>{var t,e,i,o,a;const s=oD();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zl,"X-Stainless-OS":t0(Deno.build.os),"X-Stainless-Arch":e0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zl,"X-Stainless-OS":t0((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":e0((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const c=aD();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function aD(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const o=i.exec(navigator.userAgent);if(o){const a=o[1]||0,s=o[2]||0,c=o[3]||0;return{browser:e,version:`${a}.${s}.${c}`}}}return null}const e0=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",t0=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let wa;const sD=()=>wa??(wa=rD());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uD(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Nv(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function cD(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Nv({start(){},async pull(i){const{done:o,value:a}=await e.next();o?i.close():i.enqueue(a)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Rv(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function fD(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const o=t.getReader(),a=o.cancel();o.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dD=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mv=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Lc(t,e,i){return Mv(),new File(t,e??"unknown_file",i)}function pD(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const hD=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iv=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",mD=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Iv(t),gD=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function yD(t,e,i){if(Mv(),t=await t,mD(t))return t instanceof File?t:Lc([await t.arrayBuffer()],t.name);if(gD(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Lc(await af(a),e,i)}const o=await af(t);if(e||(e=pD(t)),!(i!=null&&i.type)){const a=o.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return Lc(o,e,i)}async function af(t){var e,i,o,a,s;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(Iv(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(hD(t))try{for(var p=!0,g=gn(t),h;h=await g.next(),e=h.done,!e;p=!0){a=h.value,p=!1;const y=a;c.push(...await af(y))}}catch(y){i={error:y}}finally{try{!p&&!e&&(o=g.return)&&await o.call(g)}finally{if(i)throw i.error}}else{const y=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${y?`; constructor: ${y}`:""}${vD(t)}`)}return c}function vD(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dv{constructor(e){this._client=e}}Dv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kv(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const n0=Object.freeze(Object.create(null)),SD=(t=kv)=>(function(i,...o){if(i.length===1)return i[0];let a=!1;const s=[],c=i.reduce((y,S,E)=>{var _,A,I;/[?#]/.test(S)&&(a=!0);const M=o[E];let N=(a?encodeURIComponent:t)(""+M);return E!==o.length&&(M==null||typeof M=="object"&&M.toString===((I=Object.getPrototypeOf((A=Object.getPrototypeOf((_=M.hasOwnProperty)!==null&&_!==void 0?_:n0))!==null&&A!==void 0?A:n0))===null||I===void 0?void 0:I.toString))&&(N=M+"",s.push({start:y.length+S.length,length:N.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),y+S+(E===o.length?"":N)},""),p=c.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=g.exec(p))!==null;)s.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(s.sort((y,S)=>y.start-S.start),s.length>0){let y=0;const S=s.reduce((E,_)=>{const A=" ".repeat(_.start-y),I="^".repeat(_.length);return y=_.start+_.length,E+A+I},"");throw new cn(`Path parameters result in path with invalid segments:
${s.map(E=>E.error).join(`
`)}
${c}
${S}`)}return c}),ba=SD(kv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uv extends Dv{create(e,i){var o;const{api_version:a=this._client.apiVersion}=e,s=Ga(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new cn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new cn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ba`/${a}/interactions`,Object.assign(Object.assign({body:s},i),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,i={},o){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(ba`/${a}/interactions/${e}`,o)}cancel(e,i={},o){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(ba`/${a}/interactions/${e}/cancel`,o)}get(e,i={},o){var a;const s=i??{},{api_version:c=this._client.apiVersion}=s,p=Ga(s,["api_version"]);return this._client.get(ba`/${c}/interactions/${e}`,Object.assign(Object.assign({query:p},o),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}Uv._key=Object.freeze(["interactions"]);class Lv extends Uv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ED(t){let e=0;for(const a of t)e+=a.length;const i=new Uint8Array(e);let o=0;for(const a of t)i.set(a,o),o+=a.length;return i}let Na;function kf(t){let e;return(Na??(e=new globalThis.TextEncoder,Na=e.encode.bind(e)))(t)}let Ra;function i0(t){let e;return(Ra??(e=new globalThis.TextDecoder,Ra=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?kf(e):e;this.buffer=ED([this.buffer,i]);const o=[];let a;for(;(a=TD(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){o.push(i0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,c=i0(this.buffer.subarray(0,s));o.push(c),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Wa.NEWLINE_CHARS=new Set([`
`,"\r"]);Wa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function TD(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function _D(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Va={off:0,error:200,warn:300,info:400,debug:500},l0=(t,e,i)=>{if(t){if(tD(Va,t))return t;wt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Va))}`)}};function Zo(){}function Ma(t,e,i){return!e||Va[t]>Va[i]?Zo:e[t].bind(e)}const CD={error:Zo,warn:Zo,info:Zo,debug:Zo};let o0=new WeakMap;function wt(t){var e;const i=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return CD;const a=o0.get(i);if(a&&a[0]===o)return a[1];const s={error:Ma("error",i,o),warn:Ma("warn",i,o),info:Ma("info",i,o),debug:Ma("debug",i,o)};return o0.set(i,[o,s]),s}const Oi=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ql{constructor(e,i,o){this.iterator=e,this.controller=i,this.client=o}static fromSSEResponse(e,i,o){let a=!1;const s=o?wt(o):console;function c(){return mn(this,arguments,function*(){var g,h,y,S;if(a)throw new cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let E=!1;try{try{for(var _=!0,A=gn(xD(e,i)),I;I=yield Se(A.next()),g=I.done,!g;_=!0){S=I.value,_=!1;const M=S;if(!E)if(M.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield Se(JSON.parse(M.data))}catch(N){throw s.error("Could not parse message into JSON:",M.data),s.error("From chunk:",M.raw),N}}}catch(M){h={error:M}}finally{try{!_&&!g&&(y=A.return)&&(yield Se(y.call(A)))}finally{if(h)throw h.error}}E=!0}catch(M){if(nf(M))return yield Se(void 0);throw M}finally{E||i.abort()}})}return new ql(c,i,o)}static fromReadableStream(e,i,o){let a=!1;function s(){return mn(this,arguments,function*(){var g,h,y,S;const E=new Wa,_=Rv(e);try{for(var A=!0,I=gn(_),M;M=yield Se(I.next()),g=M.done,!g;A=!0){S=M.value,A=!1;const N=S;for(const O of E.decode(N))yield yield Se(O)}}catch(N){h={error:N}}finally{try{!A&&!g&&(y=I.return)&&(yield Se(y.call(I)))}finally{if(h)throw h.error}}for(const N of E.flush())yield yield Se(N)})}function c(){return mn(this,arguments,function*(){var g,h,y,S;if(a)throw new cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let E=!1;try{try{for(var _=!0,A=gn(s()),I;I=yield Se(A.next()),g=I.done,!g;_=!0){S=I.value,_=!1;const M=S;E||M&&(yield yield Se(JSON.parse(M)))}}catch(M){h={error:M}}finally{try{!_&&!g&&(y=A.return)&&(yield Se(y.call(A)))}finally{if(h)throw h.error}}E=!0}catch(M){if(nf(M))return yield Se(void 0);throw M}finally{E||i.abort()}})}return new ql(c,i,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],o=this.iterator(),a=s=>({next:()=>{if(s.length===0){const c=o.next();e.push(c),i.push(c)}return s.shift()}});return[new ql(()=>a(e),this.controller,this.client),new ql(()=>a(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return Nv({async start(){i=e[Symbol.asyncIterator]()},async pull(o){try{const{value:a,done:s}=await i.next();if(s)return o.close();const c=kf(JSON.stringify(a)+`
`);o.enqueue(c)}catch(a){o.error(a)}},async cancel(){var o;await((o=i.return)===null||o===void 0?void 0:o.call(i))}})}}function xD(t,e){return mn(this,arguments,function*(){var o,a,s,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new cn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new cn("Attempted to iterate over a response with no body");const p=new wD,g=new Wa,h=Rv(t.body);try{for(var y=!0,S=gn(AD(h)),E;E=yield Se(S.next()),o=E.done,!o;y=!0){c=E.value,y=!1;const _=c;for(const A of g.decode(_)){const I=p.decode(A);I&&(yield yield Se(I))}}}catch(_){a={error:_}}finally{try{!y&&!o&&(s=S.return)&&(yield Se(s.call(S)))}finally{if(a)throw a.error}}for(const _ of g.flush()){const A=p.decode(_);A&&(yield yield Se(A))}})}function AD(t){return mn(this,arguments,function*(){var i,o,a,s;let c=new Uint8Array;try{for(var p=!0,g=gn(t),h;h=yield Se(g.next()),i=h.done,!i;p=!0){s=h.value,p=!1;const y=s;if(y==null)continue;const S=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?kf(y):y;let E=new Uint8Array(c.length+S.length);E.set(c),E.set(S,c.length),c=E;let _;for(;(_=_D(c))!==-1;)yield yield Se(c.slice(0,_)),c=c.slice(_)}}catch(y){o={error:y}}finally{try{!p&&!i&&(a=g.return)&&(yield Se(a.call(g)))}finally{if(o)throw o.error}}c.length>0&&(yield yield Se(c))})}class wD{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,o,a]=bD(e,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function bD(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ND(t,e){const{response:i,requestLogID:o,retryOfRequestLogID:a,startTime:s}=e,c=await(async()=>{var p;if(e.options.stream)return wt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):ql.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const g=i.headers.get("content-type"),h=(p=g==null?void 0:g.split(";")[0])===null||p===void 0?void 0:p.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await i.json():await i.text()})();return wt(t).debug(`[${o}] response parsed`,Oi({retryOfRequestLogID:a,url:i.url,status:i.status,body:c,durationMs:Date.now()-s})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uf extends Promise{constructor(e,i,o=ND){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new Uf(this.client,this.responsePromise,async(i,o)=>e(await this.parseResponse(i,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pv=Symbol("brand.privateNullableHeaders");function*RD(t){if(!t)return;if(Pv in t){const{values:o,nulls:a}=t;yield*o.entries();for(const s of a)yield[s,null];return}let e=!1,i;t instanceof Headers?i=t.entries():jy(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let o of i){const a=o[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const s=jy(o[1])?o[1]:[o[1]];let c=!1;for(const p of s)p!==void 0&&(e&&!c&&(c=!0,yield[a,null]),yield[a,p])}}const $o=t=>{const e=new Headers,i=new Set;for(const o of t){const a=new Set;for(const[s,c]of RD(o)){const p=s.toLowerCase();a.has(p)||(e.delete(s),a.add(p)),c===null?(e.delete(s),i.add(p)):(e.append(s,c),i.delete(p))}}return{[Pv]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pc=t=>{var e,i,o,a,s,c;if(typeof globalThis.process<"u")return(o=(i=(e=tw)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(c=(s=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||s===void 0?void 0:s.call(a,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zv;class ja{constructor(e){var i,o,a,s,c,p,g,{baseURL:h=Pc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(i=Pc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:S="v1beta"}=e,E=Ga(e,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:y,apiVersion:S},E),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(o=_.timeout)!==null&&o!==void 0?o:ja.DEFAULT_TIMEOUT,this.logger=(a=_.logger)!==null&&a!==void 0?a:console;const A="warn";this.logLevel=A,this.logLevel=(c=(s=l0(_.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:l0(Pc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:A,this.fetchOptions=_.fetchOptions,this.maxRetries=(p=_.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(g=_.fetch)!==null&&g!==void 0?g:uD(),this.encoder=dD,this._options=_,this.apiKey=y,this.apiVersion=S,this.clientAdapter=_.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=$o([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return $o([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return $o([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,o])=>typeof o<"u").map(([i,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(i)}=`;throw new cn(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${zl}`}defaultIdempotencyKey(){return`stainless-node-retry-${QI()}`}makeStatusError(e,i,o,a){return bt.generate(e,i,o,a)}buildURL(e,i,o){const a=!this.baseURLOverridden()&&o||this.baseURL,s=ZI(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return eD(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(s.search=this.stringifyQuery(i)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:o}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,o){return this.request(Promise.resolve(o).then(a=>Object.assign({method:e,path:i},a)))}request(e,i=null){return new Uf(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,o){var a,s,c;const p=await e,g=(a=p.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=g),await this.prepareOptions(p);const{req:h,url:y,timeout:S}=await this.buildRequest(p,{retryCount:g-i});await this.prepareRequest(h,{url:y,options:p});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=o===void 0?"":`, retryOf: ${o}`,A=Date.now();if(wt(this).debug(`[${E}] sending request`,Oi({retryOfRequestLogID:o,method:p.method,url:y,options:p,headers:h.headers})),!((s=p.signal)===null||s===void 0)&&s.aborted)throw new of;const I=new AbortController,M=await this.fetchWithTimeout(y,h,S,I).catch(lf),N=Date.now();if(M instanceof globalThis.Error){const P=`retrying, ${i} attempts remaining`;if(!((c=p.signal)===null||c===void 0)&&c.aborted)throw new of;const G=nf(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(i)return wt(this).info(`[${E}] connection ${G?"timed out":"failed"} - ${P}`),wt(this).debug(`[${E}] connection ${G?"timed out":"failed"} (${P})`,Oi({retryOfRequestLogID:o,url:y,durationMs:N-A,message:M.message})),this.retryRequest(p,i,o??E);throw wt(this).info(`[${E}] connection ${G?"timed out":"failed"} - error; no more retries left`),wt(this).debug(`[${E}] connection ${G?"timed out":"failed"} (error; no more retries left)`,Oi({retryOfRequestLogID:o,url:y,durationMs:N-A,message:M.message})),G?new Sv:new Za({cause:M})}const O=`[${E}${_}] ${h.method} ${y} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${N-A}ms`;if(!M.ok){const P=await this.shouldRetry(M);if(i&&P){const Z=`retrying, ${i} attempts remaining`;return await fD(M.body),wt(this).info(`${O} - ${Z}`),wt(this).debug(`[${E}] response error (${Z})`,Oi({retryOfRequestLogID:o,url:M.url,status:M.status,headers:M.headers,durationMs:N-A})),this.retryRequest(p,i,o??E,M.headers)}const G=P?"error; no more retries left":"error; not retryable";wt(this).info(`${O} - ${G}`);const Q=await M.text().catch(Z=>lf(Z).message),U=iD(Q),F=U?void 0:Q;throw wt(this).debug(`[${E}] response error (${G})`,Oi({retryOfRequestLogID:o,url:M.url,status:M.status,headers:M.headers,message:F,durationMs:Date.now()-A})),this.makeStatusError(M.status,U,F,M.headers)}return wt(this).info(O),wt(this).debug(`[${E}] response start`,Oi({retryOfRequestLogID:o,url:M.url,status:M.status,headers:M.headers,durationMs:N-A})),{response:M,options:p,controller:I,requestLogID:E,retryOfRequestLogID:o,startTime:A}}async fetchWithTimeout(e,i,o,a){const s=i||{},{signal:c,method:p}=s,g=Ga(s,["signal","method"]);c&&c.addEventListener("abort",()=>a.abort());const h=setTimeout(()=>a.abort(),o),y=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,S=Object.assign(Object.assign(Object.assign({signal:a.signal},y?{duplex:"half"}:{}),{method:"GET"}),g);p&&(S.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(h)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,o,a){var s;let c;const p=a==null?void 0:a.get("retry-after-ms");if(p){const h=parseFloat(p);Number.isNaN(h)||(c=h)}const g=a==null?void 0:a.get("retry-after");if(g&&!c){const h=parseFloat(g);Number.isNaN(h)?c=Date.parse(g)-Date.now():c=h*1e3}if(!(c&&0<=c&&c<60*1e3)){const h=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,h)}return await lD(c),this.makeRequest(e,i-1,o)}calculateDefaultRetryTimeoutMillis(e,i){const s=i-e,c=Math.min(.5*Math.pow(2,s),8),p=1-Math.random()*.25;return c*p*1e3}async buildRequest(e,{retryCount:i=0}={}){var o,a,s;const c=Object.assign({},e),{method:p,path:g,query:h,defaultBaseURL:y}=c,S=this.buildURL(g,h,y);"timeout"in c&&nD("timeout",c.timeout),c.timeout=(o=c.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:E,body:_}=this.buildBody({options:c}),A=await this.buildHeaders({options:e,method:p,bodyHeaders:E,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:A},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(s=c.fetchOptions)!==null&&s!==void 0?s:{}),url:S,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:o,retryCount:a}){let s={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let p=$o([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),sD()),this._options.defaultHeaders,o,e.headers,c]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=$o([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:cD(e)}:this.encoder({body:e,headers:o})}}ja.DEFAULT_TIMEOUT=6e4;class ht extends ja{constructor(){super(...arguments),this.interactions=new Lv(this)}}zv=ht;ht.GeminiNextGenAPIClient=zv;ht.GeminiNextGenAPIClientError=cn;ht.APIError=bt;ht.APIConnectionError=Za;ht.APIConnectionTimeoutError=Sv;ht.APIUserAbortError=of;ht.NotFoundError=Cv;ht.ConflictError=xv;ht.RateLimitError=wv;ht.BadRequestError=Ev;ht.AuthenticationError=Tv;ht.InternalServerError=bv;ht.PermissionDeniedError=_v;ht.UnprocessableEntityError=Av;ht.toFile=yD;ht.Interactions=Lv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MD(t,e){const i={},o=f(t,["name"]);return o!=null&&d(i,["_url","name"],o),i}function ID(t,e){const i={},o=f(t,["name"]);return o!=null&&d(i,["_url","name"],o),i}function DD(t,e){const i={},o=f(t,["sdkHttpResponse"]);return o!=null&&d(i,["sdkHttpResponse"],o),i}function kD(t,e){const i={},o=f(t,["sdkHttpResponse"]);return o!=null&&d(i,["sdkHttpResponse"],o),i}function UD(t,e,i){const o={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=f(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&d(e,["displayName"],a),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=f(t,["epochCount"]);e!==void 0&&s!=null&&d(e,["tuningTask","hyperparameters","epochCount"],s);const c=f(t,["learningRateMultiplier"]);if(c!=null&&d(o,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=f(t,["batchSize"]);e!==void 0&&p!=null&&d(e,["tuningTask","hyperparameters","batchSize"],p);const g=f(t,["learningRate"]);if(e!==void 0&&g!=null&&d(e,["tuningTask","hyperparameters","learningRate"],g),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function LD(t,e,i){const o={};let a=f(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const _=f(t,["validationDataset"]);e!==void 0&&_!=null&&d(e,["supervisedTuningSpec"],r0(_))}else if(a==="PREFERENCE_TUNING"){const _=f(t,["validationDataset"]);e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec"],r0(_))}const s=f(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&d(e,["tunedModelDisplayName"],s);const c=f(t,["description"]);e!==void 0&&c!=null&&d(e,["description"],c);let p=f(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const _=f(t,["epochCount"]);e!==void 0&&_!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(p==="PREFERENCE_TUNING"){const _=f(t,["epochCount"]);e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let g=f(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const _=f(t,["learningRateMultiplier"]);e!==void 0&&_!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(g==="PREFERENCE_TUNING"){const _=f(t,["learningRateMultiplier"]);e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let h=f(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=f(t,["exportLastCheckpointOnly"]);e!==void 0&&_!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(h==="PREFERENCE_TUNING"){const _=f(t,["exportLastCheckpointOnly"]);e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let y=f(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const _=f(t,["adapterSize"]);e!==void 0&&_!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(y==="PREFERENCE_TUNING"){const _=f(t,["adapterSize"]);e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=f(t,["labels"]);e!==void 0&&S!=null&&d(e,["labels"],S);const E=f(t,["beta"]);return e!==void 0&&E!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],E),o}function PD(t,e){const i={},o=f(t,["baseModel"]);o!=null&&d(i,["baseModel"],o);const a=f(t,["preTunedModel"]);a!=null&&d(i,["preTunedModel"],a);const s=f(t,["trainingDataset"]);s!=null&&KD(s);const c=f(t,["config"]);return c!=null&&UD(c,i),i}function zD(t,e){const i={},o=f(t,["baseModel"]);o!=null&&d(i,["baseModel"],o);const a=f(t,["preTunedModel"]);a!=null&&d(i,["preTunedModel"],a);const s=f(t,["trainingDataset"]);s!=null&&XD(s,i,e);const c=f(t,["config"]);return c!=null&&LD(c,i,e),i}function HD(t,e){const i={},o=f(t,["name"]);return o!=null&&d(i,["_url","name"],o),i}function qD(t,e){const i={},o=f(t,["name"]);return o!=null&&d(i,["_url","name"],o),i}function GD(t,e,i){const o={},a=f(t,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const s=f(t,["pageToken"]);e!==void 0&&s!=null&&d(e,["_query","pageToken"],s);const c=f(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),o}function VD(t,e,i){const o={},a=f(t,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const s=f(t,["pageToken"]);e!==void 0&&s!=null&&d(e,["_query","pageToken"],s);const c=f(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),o}function BD(t,e){const i={},o=f(t,["config"]);return o!=null&&GD(o,i),i}function OD(t,e){const i={},o=f(t,["config"]);return o!=null&&VD(o,i),i}function FD(t,e){const i={},o=f(t,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const a=f(t,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const s=f(t,["tunedModels"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(p=>Hv(p))),d(i,["tuningJobs"],c)}return i}function YD(t,e){const i={},o=f(t,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const a=f(t,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const s=f(t,["tuningJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(p=>sf(p))),d(i,["tuningJobs"],c)}return i}function JD(t,e){const i={},o=f(t,["name"]);o!=null&&d(i,["model"],o);const a=f(t,["name"]);return a!=null&&d(i,["endpoint"],a),i}function KD(t,e){const i={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=f(t,["examples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>s)),d(i,["examples","examples"],a)}return i}function XD(t,e,i){const o={};let a=f(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let s=f(i,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(s==="PREFERENCE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Hv(t,e){const i={},o=f(t,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const a=f(t,["name"]);a!=null&&d(i,["name"],a);const s=f(t,["state"]);s!=null&&d(i,["state"],ev(s));const c=f(t,["createTime"]);c!=null&&d(i,["createTime"],c);const p=f(t,["tuningTask","startTime"]);p!=null&&d(i,["startTime"],p);const g=f(t,["tuningTask","completeTime"]);g!=null&&d(i,["endTime"],g);const h=f(t,["updateTime"]);h!=null&&d(i,["updateTime"],h);const y=f(t,["description"]);y!=null&&d(i,["description"],y);const S=f(t,["baseModel"]);S!=null&&d(i,["baseModel"],S);const E=f(t,["_self"]);return E!=null&&d(i,["tunedModel"],JD(E)),i}function sf(t,e){const i={},o=f(t,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const a=f(t,["name"]);a!=null&&d(i,["name"],a);const s=f(t,["state"]);s!=null&&d(i,["state"],ev(s));const c=f(t,["createTime"]);c!=null&&d(i,["createTime"],c);const p=f(t,["startTime"]);p!=null&&d(i,["startTime"],p);const g=f(t,["endTime"]);g!=null&&d(i,["endTime"],g);const h=f(t,["updateTime"]);h!=null&&d(i,["updateTime"],h);const y=f(t,["error"]);y!=null&&d(i,["error"],y);const S=f(t,["description"]);S!=null&&d(i,["description"],S);const E=f(t,["baseModel"]);E!=null&&d(i,["baseModel"],E);const _=f(t,["tunedModel"]);_!=null&&d(i,["tunedModel"],_);const A=f(t,["preTunedModel"]);A!=null&&d(i,["preTunedModel"],A);const I=f(t,["supervisedTuningSpec"]);I!=null&&d(i,["supervisedTuningSpec"],I);const M=f(t,["preferenceOptimizationSpec"]);M!=null&&d(i,["preferenceOptimizationSpec"],M);const N=f(t,["tuningDataStats"]);N!=null&&d(i,["tuningDataStats"],N);const O=f(t,["encryptionSpec"]);O!=null&&d(i,["encryptionSpec"],O);const P=f(t,["partnerModelTuningSpec"]);P!=null&&d(i,["partnerModelTuningSpec"],P);const G=f(t,["customBaseModel"]);G!=null&&d(i,["customBaseModel"],G);const Q=f(t,["experiment"]);Q!=null&&d(i,["experiment"],Q);const U=f(t,["labels"]);U!=null&&d(i,["labels"],U);const F=f(t,["outputUri"]);F!=null&&d(i,["outputUri"],F);const oe=f(t,["pipelineJob"]);oe!=null&&d(i,["pipelineJob"],oe);const Z=f(t,["serviceAccount"]);Z!=null&&d(i,["serviceAccount"],Z);const le=f(t,["tunedModelDisplayName"]);le!=null&&d(i,["tunedModelDisplayName"],le);const ee=f(t,["veoTuningSpec"]);return ee!=null&&d(i,["veoTuningSpec"],ee),i}function QD(t,e){const i={},o=f(t,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const a=f(t,["name"]);a!=null&&d(i,["name"],a);const s=f(t,["metadata"]);s!=null&&d(i,["metadata"],s);const c=f(t,["done"]);c!=null&&d(i,["done"],c);const p=f(t,["error"]);return p!=null&&d(i,["error"],p),i}function r0(t,e){const i={},o=f(t,["gcsUri"]);o!=null&&d(i,["validationDatasetUri"],o);const a=f(t,["vertexDatasetResource"]);return a!=null&&d(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $D extends Xn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ji(Kn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var o;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((o=i.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},i),{preTunedModel:a});return s.baseModel=void 0,await this.tuneInternal(s)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),s=await this.tuneMldevInternal(a);let c="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?c=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(c=s.name.split("/operations/")[0]),{name:c,state:Qc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=qD(e);return p=ae("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>sf(y))}else{const h=HD(e);return p=ae("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>Hv(y))}}async listInternal(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=OD(e);return p=ae("tuningJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=YD(y),E=new Dy;return Object.assign(E,S),E})}else{const h=BD(e);return p=ae("tunedModels",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=FD(y),E=new Dy;return Object.assign(E,S),E})}}async cancel(e){var i,o,a,s;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=ID(e);return p=ae("{name}:cancel",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=kD(y),E=new ky;return Object.assign(E,S),E})}else{const h=MD(e);return p=ae("{name}:cancel",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),c.then(y=>{const S=DD(y),E=new ky;return Object.assign(E,S),E})}}async tuneInternal(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI()){const p=zD(e,e);return s=ae("tuningJobs",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>sf(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,o;let a,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=PD(e);return s=ae("tunedModels",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>QD(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZD{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const WD=1024*1024*8,jD=3,ek=1e3,tk=2,Ba="x-goog-upload-status";async function nk(t,e,i){var o;const a=await qv(t,e,i),s=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[Ba])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function ik(t,e,i){var o;const a=await qv(t,e,i),s=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[Ba])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=X0(s),p=new bf;return Object.assign(p,c),p}async function qv(t,e,i){var o,a;let s=0,c=0,p=new $c(new Response),g="upload";for(s=t.size;c<s;){const h=Math.min(WD,s-c),y=t.slice(c,c+h);c+h>=s&&(g+=", finalize");let S=0,E=ek;for(;S<jD&&(p=await i.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(h)}}}),!(!((o=p==null?void 0:p.headers)===null||o===void 0)&&o[Ba]));)S++,await ok(E),E=E*tk;if(c+=h,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[Ba])!=="active")break;if(s<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function lk(t){return{size:t.size,type:t.type}}function ok(t){return new Promise(e=>setTimeout(e,t))}class rk{async upload(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nk(e,i,o)}async uploadToFileSearchStore(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ik(e,i,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lk(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ak{create(e,i,o){return new sk(e,i,o)}}class sk{constructor(e,i,o){this.url=e,this.headers=i,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a0="x-goog-api-key";class uk{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(a0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(a0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ck="gl-node/";class fk{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new ht({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const o=ow(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new uk(this.apiKey);this.apiClient=new lI({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ck+"web",uploader:new rk,downloader:new ZD}),this.models=new CI(this.apiClient),this.live=new yI(this.apiClient,a,new ak),this.batches=new Ub(this.apiClient),this.chats=new mN(this.models,this.apiClient),this.caches=new dN(this.apiClient),this.files=new AN(this.apiClient),this.operations=new xI(this.apiClient),this.authTokens=new GI(this.apiClient),this.tunings=new $D(this.apiClient),this.fileSearchStores=new XI(this.apiClient)}}const dk=async(t,e,i)=>{var y;if(!t.apiKey)throw new Error("API Key is required for Gemini");const o=(S,E,_)=>{i.onLog&&i.onLog({category:S,summary:E,details:_})};o("info","Initializing Gemini Client",{model:t.modelName});const a=new fk({apiKey:t.apiKey}),s=t.systemPrompt,c=e.slice(0,-1).map(S=>{var E;return{role:S.role==="user"?"user":"model",parts:[...((E=S.attachments)==null?void 0:E.map(_=>({inlineData:{mimeType:_.mimeType,data:_.data}})))||[],{text:S.content}]}}),p=a.chats.create({model:t.modelName||"gemini-2.5-flash",config:{systemInstruction:s},history:c}),g=e[e.length-1],h=[...((y=g.attachments)==null?void 0:y.map(S=>({inlineData:{mimeType:S.mimeType,data:S.data}})))||[],{text:g.content}];o("request","Sending Message to Gemini",{model:t.modelName,historyLength:c.length,currentMessageParts:h.length,systemPrompt:s});try{const S=await p.sendMessageStream({message:h});o("info","Stream started");for await(const E of S){const _=E.text;_&&i.onChunk(_)}o("response","Stream finished"),i.onFinish()}catch(S){throw o("error","Gemini Request Failed",{message:S.message,stack:S.stack}),S}},pk=async(t,e)=>{var o,a,s;const i=new TextDecoder;for(;;){const{done:c,value:p}=await t.read();if(c)break;const h=i.decode(p,{stream:!0}).split(`
`);for(const y of h)if(y.startsWith("data: ")){const S=y.slice(6);if(S.trim()==="[DONE]")continue;try{const _=((s=(a=(o=JSON.parse(S).choices)==null?void 0:o[0])==null?void 0:a.delta)==null?void 0:s.content)||"";_&&e(_)}catch(E){console.warn("Error parsing chunk",E)}}}},hk=(t,e)=>[{role:"system",content:t},...e.map(i=>i.attachments&&i.attachments.length>0?{role:i.role,content:[{type:"text",text:i.content},...i.attachments.map(o=>({type:"image_url",image_url:{url:`data:${o.mimeType};base64,${o.data}`}}))]}:{role:i.role,content:i.content})],mk=async(t,e,i)=>{var p,g;if(!t.apiKey)throw new Error("API Key is required");if(!t.baseUrl)throw new Error("Base URL is required");const o=(h,y,S)=>{i.onLog&&i.onLog({category:h,summary:y,details:S})},a=hk(t.systemPrompt,e),s={model:t.modelName,messages:a,stream:!0},c=`${t.baseUrl}/chat/completions`;o("request",`POST ${c}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.apiKey.substring(0,3)}...`},body:s});try{const h=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.apiKey}`},body:JSON.stringify(s)});if(!h.ok){const S=await h.json().catch(()=>({})),E=`API Error: ${h.status} ${((p=S.error)==null?void 0:p.message)||h.statusText}`;throw o("error",`HTTP ${h.status}`,S),new Error(E)}o("response",`HTTP ${h.status} OK - Stream starting`);const y=(g=h.body)==null?void 0:g.getReader();if(!y)throw new Error("No response body");await pk(y,i.onChunk),o("info","Stream finished successfully"),i.onFinish()}catch(h){throw o("error","Request Failed",{message:h.message}),h}},gk=async(t,e,i)=>{try{switch(t.provider){case et.Gemini:await dk(t,e,i);break;case et.OpenAI:case et.Volcengine:case et.Aliyun:await mk(t,e,i);break;default:throw new Error(`Provider ${t.provider} not supported`)}}catch(o){i.onError(o)}},yk=({config:t,onLog:e})=>{const[i,o]=xe.useState([]),[a,s]=xe.useState(!1),c=xe.useCallback(async(g,h)=>{const y={id:Date.now().toString(),role:"user",content:g,attachments:h,timestamp:Date.now()};o(A=>[...A,y]),s(!0);const S=(Date.now()+1).toString(),E=t.modelName,_=[...i,y];try{let A="";await gk(t,_,{onChunk:I=>{A+=I,o(M=>{const N=M[M.length-1];return N.id===S?[...M.slice(0,-1),{...N,content:A}]:[...M,{id:S,role:"assistant",content:A,timestamp:Date.now(),model:E}]})},onFinish:()=>{s(!1)},onError:I=>{console.error(I),s(!1),o(M=>[...M,{id:Date.now().toString(),role:"system",content:`Error: ${I.message}`,timestamp:Date.now()}]),e({category:"error",summary:"Generation Failed",details:I.message})},onLog:e})}catch(A){s(!1),o(I=>[...I,{id:Date.now().toString(),role:"system",content:`Error: ${A.message}`,timestamp:Date.now()}]),e({category:"error",summary:"Unexpected Error",details:A.message})}},[t,i,e]),p=xe.useCallback(()=>{o([]),e({category:"info",summary:"Chat history cleared"})},[e]);return{messages:i,isLoading:a,handleSendMessage:c,clearChat:p}},vk=()=>{const[t,e]=xe.useState(!0),[i,o]=xe.useState(!0),[a,s]=xe.useState(!1),[c,p]=xe.useState(S_),[g,h]=xe.useState({target:an.Notion,notion:{token:"",databaseId:""},feishu:{appId:"",appSecret:"",wikiNodeToken:""}}),y=xe.useMemo(()=>{let P=c.systemPrompt;return c.promptArguments.forEach(G=>{if(!G.key.trim())return;const Q=new RegExp(`\\{${G.key}\\b\\}`,"g");P=P.replace(Q,G.value)}),P},[c.systemPrompt,c.promptArguments]),S=xe.useMemo(()=>({provider:c.currentProvider,systemPrompt:y,...c.providers[c.currentProvider]}),[c,y]),{logs:E,addLog:_,clearLogs:A}=ew(),{messages:I,isLoading:M,handleSendMessage:N,clearChat:O}=yk({config:S,onLog:_});return w.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-50 w-full relative",children:[w.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:w.jsx("button",{onClick:()=>e(!t),className:"p-2 bg-white rounded shadow text-slate-600",children:w.jsx(Bm,{className:"w-5 h-5"})})}),w.jsx("div",{className:`${t?"block":"hidden"} md:block fixed inset-0 z-40 md:static md:z-auto w-full md:w-auto bg-black/50 md:bg-transparent`,children:w.jsxs("div",{className:"h-full w-80 md:w-auto flex flex-col bg-white",children:[w.jsx("div",{className:"md:hidden p-2 flex justify-end",children:w.jsx("button",{onClick:()=>e(!1),className:"text-slate-500",children:"Close"})}),w.jsx(E_,{globalConfig:c,setGlobalConfig:p,exportConfig:g,setExportConfig:h})]})}),w.jsxs("div",{className:"flex-1 flex flex-col h-full min-w-0 relative",children:[w.jsx("div",{className:`flex-1 flex flex-col overflow-hidden ${a?"mb-64 md:mb-80":""} transition-all duration-300`,children:w.jsx(W1,{messages:I,onSendMessage:N,isLoading:M,onClear:O})}),w.jsx(j1,{logs:E,isOpen:a,onToggle:()=>s(!a),onClear:A})]}),w.jsx("div",{className:"md:hidden fixed top-4 right-4 z-50",children:w.jsx("button",{onClick:()=>o(!i),className:"p-2 bg-white rounded shadow text-slate-600",children:w.jsx(Bm,{className:"w-5 h-5"})})}),w.jsx("div",{className:`${i?"block":"hidden"} md:block fixed inset-0 z-40 md:static md:z-auto w-full md:w-auto bg-black/50 md:bg-transparent`,children:w.jsxs("div",{className:"h-full w-80 md:w-auto flex flex-col bg-white ml-auto",children:[w.jsx("div",{className:"md:hidden p-2 flex justify-end",children:w.jsx("button",{onClick:()=>o(!1),className:"text-slate-500",children:"Close"})}),w.jsx(M_,{config:g,setConfig:h,chatHistory:I,onLog:_,appConfig:S})]})})]})},Gv=document.getElementById("root");if(!Gv)throw new Error("Could not find root element to mount to");const Sk=dT.createRoot(Gv);Sk.render(w.jsx(lT.StrictMode,{children:w.jsx(vk,{})}));
